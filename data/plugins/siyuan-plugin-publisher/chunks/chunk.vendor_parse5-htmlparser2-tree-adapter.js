import{D as x}from"./chunk.vendor_parse5.js";import{b as h,i as C,d as u,D as d,E as g,C as v,g as m,P as T,T as D}from"./chunk.vendor_domhandler.js";function f(e){return new D(e)}function p(e){const t=e.includes('"')?"'":'"';return t+e+t}function b(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${p(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${p(n)}`),r}const c={isCommentNode:h,isElementNode:C,isTextNode:u,createDocument(){const e=new d([]);return e["x-mode"]=x.NO_QUIRKS,e},createDocumentFragment(){return new d([])},createElement(e,t,n){const r=Object.create(null),i=Object.create(null),a=Object.create(null);for(let s=0;s<n.length;s++){const l=n[s].name;r[l]=n[s].value,i[l]=n[s].namespace,a[l]=n[s].prefix}const o=new g(e,r,[]);return o.namespace=t,o["x-attribsNamespace"]=i,o["x-attribsPrefix"]=a,o},createCommentNode(e){return new v(e)},appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:i}=n;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){c.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,n,r){const i=b(t,n,r);let a=e.children.find(o=>m(o)&&o.name==="!doctype");a?a.data=i??null:(a=new T("!doctype",i),c.appendChild(e,a)),a["x-name"]=t??void 0,a["x-publicId"]=n??void 0,a["x-systemId"]=r??void 0},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&u(n)?n.data+=t:c.appendChild(e,f(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&u(r)?r.data+=t:c.insertBefore(e,f(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;typeof e.attribs[r]>"u"&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return m(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};export{c as a};
