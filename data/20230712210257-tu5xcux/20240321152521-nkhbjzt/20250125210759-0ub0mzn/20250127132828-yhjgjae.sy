{
	"ID": "20250127132828-yhjgjae",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20250127132828-yhjgjae",
		"title": "US4L7——素描风格渲染",
		"type": "doc",
		"updated": "20250127145411"
	},
	"Children": [
		{
			"ID": "20250127132828-qsfcx5o",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20250127132828-qsfcx5o",
				"updated": "20250127143304"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "素描风格渲染"
				}
			]
		},
		{
			"ID": "20250127132849-qg49mvv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250127132849-qg49mvv",
				"updated": "20250127132852"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "素描风格渲染（Hatching Style Rendering），是一种非真实感渲染（NPR），主要目的是使3D模型看起来像手绘素描的视觉效果。\n这种风格的渲染常用于游戏、动画和电影中，用来创造一种独特的艺术风格"
				}
			]
		},
		{
			"ID": "20250127132948-loiuehm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250127132948-loiuehm",
				"updated": "20250127133000"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"style": "width: 289px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20250127132948-bhm6f4e.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 289px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"style": "width: 380px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20250127133000-nq9uqzz.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 380px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20250127133014-1fw3nsg",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20250127133014-1fw3nsg",
				"updated": "20250127143304"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "素描风格渲染基本原理"
				}
			]
		},
		{
			"ID": "20250127133004-tb94mju",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250127133004-tb94mju",
				"updated": "20250127133045"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "一句话总结素描风格渲染基本原理：\n"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "用漫反射系数决定采样权重，在多张具有不同密度和方向的素描纹理中，进行采样，并将采样结果进行叠加得到最终效果"
				}
			]
		},
		{
			"ID": "20250127133030-s16e6d3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250127133030-s16e6d3",
				"updated": "20250127133031"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "关键点："
				}
			]
		},
		{
			"ID": "20250127133031-nb6866h",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20250127133031-nb6866h",
				"updated": "20250127143304"
			},
			"Children": [
				{
					"ID": "20250127133031-0yl4vzj",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250127133031-0yl4vzj",
						"updated": "20250127140706"
					},
					"Children": [
						{
							"ID": "20250127133031-wnknw04",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127133031-wnknw04",
								"updated": "20250127133031"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "多张具有不同密度和方向的素描纹理"
								}
							]
						},
						{
							"ID": "20250127133108-vg3wish",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127133108-vg3wish",
								"updated": "20250127133214"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "美术需要提供多张素描纹理，我们之后会根据不同位置的光照强度，决定从哪种纹理中进行采样"
								}
							]
						},
						{
							"ID": "20250127133215-ptavqsc",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127133215-ptavqsc",
								"updated": "20250127133215"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeImage",
									"Data": "span",
									"Properties": {
										"style": "width: 405px;"
									},
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20250127133139-fti9c3p.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								},
								{
									"Type": "NodeKramdownSpanIAL",
									"Data": "{: style=\"width: 405px;\"}"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"ID": "20250127133222-611vqu0",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20250127133222-611vqu0",
								"style": "line-height: 22px;",
								"updated": "20250127140706"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "Properties\n{\n    _Color(\"Color\", Color) = (1, 1, 1, 1)               // 颜色叠加\n    _TileFactor(\"TileFactor\", Float) = 1                // 纹理平铺密度\n    _OutLineColor(\"OutLineColor\", Color) = (0, 0, 0, 1) // 边缘线颜色\n    _OutLineWidth(\"OutLineWidth\", Range(0, 1)) = 0.05   // 边缘线宽度\n    _Sketch0(\"Sketch0\", 2D) = {}                        // 第一张素描纹理\n    _Sketch1(\"Sketch1\", 2D) = {}                        // 第二张素描纹理\n    _Sketch2(\"Sketch2\", 2D) = {}                        // 第三张素描纹理\n    _Sketch3(\"Sketch3\", 2D) = {}                        // 第四张素描纹理\n    _Sketch4(\"Sketch4\", 2D) = {}                        // 第五张素描纹理\n    _Sketch5(\"Sketch5\", 2D) = {}                        // 第六张素描纹理\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				},
				{
					"ID": "20250127133031-uqdn2yx",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250127133031-uqdn2yx",
						"updated": "20250127143304"
					},
					"Children": [
						{
							"ID": "20250127133113-x893zb2",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127133113-x893zb2",
								"updated": "20250127133210"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​​漫反射系数决定采样权重"
								}
							]
						},
						{
							"ID": "20250127133600-05s543e",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127133600-05s543e",
								"updated": "20250127133721"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "我们通过"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "block-ref",
									"TextMarkBlockRefID": "20240625114859-ag9w64z",
									"TextMarkBlockRefSubtype": "s",
									"TextMarkTextContent": "兰伯特光照模型"
								},
								{
									"Type": "NodeText",
									"Data": "中的："
								}
							]
						},
						{
							"ID": "20250127133733-8tbos3b",
							"Type": "NodeMathBlock",
							"Properties": {
								"id": "20250127133733-8tbos3b",
								"updated": "20250127133803"
							},
							"Children": [
								{
									"Type": "NodeMathBlockOpenMarker"
								},
								{
									"Type": "NodeMathBlockContent",
									"Data": "\\max(0,\\overrightarrow{标准化后物体表面法线向量} \\cdot \\overrightarrow{标准化后光源方向向量}) \\times (素描纹理数 + 1)"
								},
								{
									"Type": "NodeMathBlockCloseMarker"
								}
							]
						},
						{
							"ID": "20250127133714-p5w9q0o",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127133714-p5w9q0o",
								"updated": "20250127133808"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "将漫反射光照强度 0"
								},
								{
									"Type": "NodeBackslash",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "~"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "1 扩充到 0"
								},
								{
									"Type": "NodeBackslash",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "~"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "N，如果是 6 张素描纹理，那么就是 0"
								},
								{
									"Type": "NodeBackslash",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "~"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "7，\n根据不同顶点的不同光照，决定在哪一张纹理中进行采样的权重更大，该权重决定最后的颜色叠加"
								}
							]
						},
						{
							"ID": "20250127133644-ajt5yde",
							"Type": "NodeList",
							"ListData": {},
							"Properties": {
								"id": "20250127133644-ajt5yde",
								"updated": "20250127133644"
							},
							"Children": [
								{
									"ID": "20250127133644-6lffaqe",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127133644-6lffaqe",
										"updated": "20250127133644"
									},
									"Children": [
										{
											"ID": "20250127133644-1qdhq1x",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127133644-1qdhq1x",
												"updated": "20250127133647"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "6"
												},
												{
													"Type": "NodeBackslash",
													"Data": "span",
													"Children": [
														{
															"Type": "NodeText",
															"Data": "~"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "7：不在素描纹理中采样"
												}
											]
										}
									]
								},
								{
									"ID": "20250127133655-km1xgbp",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127133655-km1xgbp",
										"updated": "20250127133655"
									},
									"Children": [
										{
											"ID": "20250127133655-i7x1yv1",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127133655-i7x1yv1",
												"updated": "20250127133657"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "5"
												},
												{
													"Type": "NodeBackslash",
													"Data": "span",
													"Children": [
														{
															"Type": "NodeText",
															"Data": "~"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "6：第1张素描纹理中采样"
												}
											]
										}
									]
								},
								{
									"ID": "20250127133703-1kkckzk",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127133703-1kkckzk",
										"updated": "20250127133703"
									},
									"Children": [
										{
											"ID": "20250127133703-38rlos5",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127133703-38rlos5",
												"updated": "20250127133707"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "3"
												},
												{
													"Type": "NodeBackslash",
													"Data": "span",
													"Children": [
														{
															"Type": "NodeText",
															"Data": "~"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "4：第2、3张纹理中采样"
												}
											]
										}
									]
								},
								{
									"ID": "20250127133645-2vck4si",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127133645-2vck4si",
										"updated": "20250127133645"
									},
									"Children": [
										{
											"ID": "20250127133645-946fgyg",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127133645-946fgyg",
												"updated": "20250127133702"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "4"
												},
												{
													"Type": "NodeBackslash",
													"Data": "span",
													"Children": [
														{
															"Type": "NodeText",
															"Data": "~"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "5：第1、2素描张纹理中采样"
												}
											]
										}
									]
								},
								{
									"ID": "20250127133645-4avahq3",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127133645-4avahq3",
										"updated": "20250127133645"
									},
									"Children": [
										{
											"ID": "20250127133645-yvkg1gi",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127133645-yvkg1gi",
												"updated": "20250127133650"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "2"
												},
												{
													"Type": "NodeBackslash",
													"Data": "span",
													"Children": [
														{
															"Type": "NodeText",
															"Data": "~"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "3：第3、4张纹理中采样"
												}
											]
										}
									]
								},
								{
									"ID": "20250127133710-kc4ivkz",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127133710-kc4ivkz",
										"updated": "20250127133710"
									},
									"Children": [
										{
											"ID": "20250127133710-bu67hjs",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127133710-bu67hjs",
												"updated": "20250127133711"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "1"
												},
												{
													"Type": "NodeBackslash",
													"Data": "span",
													"Children": [
														{
															"Type": "NodeText",
															"Data": "~"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "2：第4、5张纹理中采样"
												}
											]
										}
									]
								},
								{
									"ID": "20250127133645-0n0j022",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127133645-0n0j022",
										"updated": "20250127133645"
									},
									"Children": [
										{
											"ID": "20250127133645-6tm06u2",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127133645-6tm06u2",
												"updated": "20250127133645"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "0"
												},
												{
													"Type": "NodeBackslash",
													"Data": "span",
													"Children": [
														{
															"Type": "NodeText",
															"Data": "~"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "1：第5、6张纹理中采样"
												}
											]
										}
									]
								}
							]
						},
						{
							"ID": "20250127133851-y22w0zv",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20250127133851-y22w0zv",
								"style": "line-height: 22px;",
								"updated": "20250127143304"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "v2f o;\no.vertex = UnityObjectToClipPos(v.vertex);\no.uv = v.texcoord.xy * _TileFactor;\n// 计算漫反射光照强度\nfixed3 worldLightDir = normalize(WorldSpaceLightDir(v.vertex)); // 世界空间下的光照方向\nfixed3 worldNormal = UnityObjectToWorldNormal(v.normal);        // 世界空间法线方向转换\nfixed diffuse = max(0, dot(worldLightDir, worldNormal));        // 漫反射光照强度计算\ndiffuse = diffuse * 7.0;                                        // 将光照强度从0~1变化到0~7范围\n\n// 用于记录6张纹理采样的权重，默认都是0，0意味着之后不会使用对应纹理颜色中采样的颜色\no.sketchWeights0 = fixed3(0, 0, 0);\no.sketchWeights1 = fixed3(0, 0, 0);\n// 根据光照强度，决定各个图片的采样权重\nif (diffuse \u003e 6.0) {\n    // 认为是最亮的部分，不修改任何权重值，意味着不会使用任何素描纹理中采样的颜色\n} else if (diffuse \u003e 5.0) {\n    o.sketchWeights0.x = diffuse - 5.0;             // 修改第1张素描纹理权重\n} else if (diffuse \u003e 4.0) {\n    o.sketchWeights0.x = diffuse - 4.0;             // 修改第1张素描纹理权重\n    o.sketchWeights0.y = 1.0 - o.sketchWeights0.x;  // 修改第2张素描纹理权重\n} else if (diffuse \u003e 3.0) {\n    o.sketchWeights0.y = diffuse - 3.0;             // 修改第2张素描纹理权重\n    o.sketchWeights0.z = 1.0 - o.sketchWeights0.y;  // 修改第3张素描纹理权重\n} else if (diffuse \u003e 2.0) {\n    o.sketchWeights0.z = diffuse - 2.0;             // 修改第3张素描纹理权重\n    o.sketchWeights1.x = 1.0 - o.sketchWeights0.z;  // 修改第4张素描纹理权重\n} else if (diffuse \u003e 1.0) {\n    o.sketchWeights1.x = diffuse - 1.0;             // 修改第4张素描纹理权重\n    o.sketchWeights1.y = 1.0 - o.sketchWeights1.x;  // 修改第5张素描纹理权重\n} else {\n    o.sketchWeights1.y = diffuse;                   // 修改第5张素描纹理权重\n    o.sketchWeights1.z = 1.0 - o.sketchWeights1.y;  // 修改第6张素描纹理权重\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				},
				{
					"ID": "20250127133032-m56pl0f",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250127133032-m56pl0f",
						"updated": "20250127135913"
					},
					"Children": [
						{
							"ID": "20250127133032-feb60xq",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127133032-feb60xq",
								"updated": "20250127133032"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "采样结果进行叠加"
								}
							]
						},
						{
							"ID": "20250127135046-xag21wl",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127135046-xag21wl",
								"updated": "20250127135113"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "根据之前的权重计算，"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "越亮的地方、越趋近于白色，或使用的素描纹理中线条更少更稀疏，而越暗的地方使用的素描纹理中线条更密集。"
								},
								{
									"Type": "NodeText",
									"Data": "\n因此我们只需要使用之前的权重值和纹理采样结果相乘，最后将纹理颜色进行叠加即可。"
								}
							]
						},
						{
							"ID": "20250127135058-62avw8l",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20250127135058-62avw8l",
								"style": "line-height: 22px;",
								"updated": "20250127135913"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "fixed4 frag(v2f i) : SV_Target\n{\n    // 如果之前的权重没有设置，默认为0，对应纹理颜色最终就是(0,0,0,0)\n    fixed4 hatchTex0 = tex2D(_Hatch0, i.uv) * i.hatchWeights0.x;\t// 在第1张纹理中采样，并乘以权重1\n\tfixed4 hatchTex1 = tex2D(_Hatch1, i.uv) * i.hatchWeights0.y;\t// 在第2张纹理中采样，并乘以权重2\n\tfixed4 hatchTex2 = tex2D(_Hatch2, i.uv) * i.hatchWeights0.z;\t// 在第3张纹理中采样，并乘以权重3\n\tfixed4 hatchTex3 = tex2D(_Hatch3, i.uv) * i.hatchWeights1.x;\t// 在第4张纹理中采样，并乘以权重4\n\tfixed4 hatchTex4 = tex2D(_Hatch4, i.uv) * i.hatchWeights1.y;\t// 在第5张纹理中采样，并乘以权重5\n\tfixed4 hatchTex5 = tex2D(_Hatch5, i.uv) * i.hatchWeights1.z;\t// 在第6张纹理中采样，并乘以权重6\n\t// 6~7区间 所有采样颜色都是(0,0,0,0)，代表最亮的地方，计算白色叠加值\n    fixed4 whiteColor = fixed4(1, 1, 1, 1) * \n\t\t(1 - i.hatchWeight0.x - i.hatchWeight0.y - i.hatchWeight0.z \n\t\t   - i.hatchWeight1.x - i.hatchWeight1.y - i.hatchWeight1.z);\n    // 最终将所有纹理颜色和白色叠加值相加，得到最终颜色\n    fixed4 hatchColor = hatchTex0 + hatchTex1 + hatchTex2 + hatchTex3 + hatchTex4 + hatchTex5 + whiteColor;\n\treturn hatchColor;\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20250127135120-2twcodq",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20250127135120-2twcodq",
				"updated": "20250127140854"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "素描风格渲染具体实现"
				}
			]
		},
		{
			"ID": "20250127140134-0r15unb",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20250127140134-0r15unb",
				"updated": "20250127140854"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "纹理资源导入、相关属性添加"
				}
			]
		},
		{
			"ID": "20250127140208-cxn9xdc",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20250127140208-cxn9xdc",
				"updated": "20250127140745"
			},
			"Children": [
				{
					"ID": "20250127140219-yus0dlr",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20250127140219-yus0dlr",
						"updated": "20250127140219"
					},
					"Children": [
						{
							"ID": "20250127140219-k4iun5t",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127140219-k4iun5t",
								"updated": "20250127140219"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "使用如下的素描纹理资源"
								}
							]
						}
					]
				},
				{
					"ID": "20250127140219-frj3vbj",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20250127140219-frj3vbj",
						"updated": "20250127140219"
					},
					"Children": [
						{
							"ID": "20250127140219-9jtinzp",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127140219-9jtinzp",
								"updated": "20250127140227"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "新建 Shader 命名为 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "Sketch"
								},
								{
									"Type": "NodeText",
									"Data": "​，删除无用代码"
								}
							]
						}
					]
				},
				{
					"ID": "20250127140219-cqndcn9",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20250127140219-cqndcn9",
						"updated": "20250127140745"
					},
					"Children": [
						{
							"ID": "20250127140219-wkxujj9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127140219-wkxujj9",
								"updated": "20250127140219"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "添加属性\n"
								}
							]
						},
						{
							"ID": "20250127140230-m43zbft",
							"Type": "NodeList",
							"ListData": {},
							"Properties": {
								"id": "20250127140230-m43zbft",
								"updated": "20250127140231"
							},
							"Children": [
								{
									"ID": "20250127140231-02nei7o",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127140231-02nei7o",
										"updated": "20250127140231"
									},
									"Children": [
										{
											"ID": "20250127140231-oron02x",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127140231-oron02x",
												"updated": "20250127140245"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "颜色属性 "
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "Color"
												},
												{
													"Type": "NodeText",
													"Data": "​ —— 用于颜色叠加"
												}
											]
										}
									]
								},
								{
									"ID": "20250127140232-khdi3q7",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127140232-khdi3q7",
										"updated": "20250127140232"
									},
									"Children": [
										{
											"ID": "20250127140232-9xnl9xy",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127140232-9xnl9xy",
												"updated": "20250127140241"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "平铺系数 "
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "TileFactor"
												},
												{
													"Type": "NodeText",
													"Data": "​ —— 用于平铺纹理，让采样细节更多"
												}
											]
										}
									]
								},
								{
									"ID": "20250127140232-s3n3ubb",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127140232-s3n3ubb",
										"updated": "20250127140232"
									},
									"Children": [
										{
											"ID": "20250127140232-ppff3hk",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127140232-ppff3hk",
												"updated": "20250127140240"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "素描纹理 "
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "Sketch1~6"
												},
												{
													"Type": "NodeText",
													"Data": "​ —— 用于采样模拟素描表现效果"
												}
											]
										}
									]
								}
							]
						},
						{
							"ID": "20250127140247-r4cb4er",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20250127140247-r4cb4er",
								"style": "line-height: 22px;",
								"updated": "20250127140745"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "Properties\n{\n    _Color(\"Color\", Color) = (1, 1, 1, 1)               // 整体颜色叠加\n    _TileFactor(\"TileFactor\", Float) = 1                // 纹理平铺密度\n    _Sketch0(\"Sketch0\", 2D) = {}                        // 第1张素描纹理\n    _Sketch1(\"Sketch1\", 2D) = {}                        // 第2张素描纹理\n    _Sketch2(\"Sketch2\", 2D) = {}                        // 第3张素描纹理\n    _Sketch3(\"Sketch3\", 2D) = {}                        // 第4张素描纹理\n    _Sketch4(\"Sketch4\", 2D) = {}                        // 第5张素描纹理\n    _Sketch5(\"Sketch5\", 2D) = {}                        // 第6张素描纹理\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				},
				{
					"ID": "20250127140219-jal73kw",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NC4=",
						"Num": 4
					},
					"Properties": {
						"id": "20250127140219-jal73kw",
						"updated": "20250127140219"
					},
					"Children": [
						{
							"ID": "20250127140219-ac1y23w",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127140219-ac1y23w",
								"updated": "20250127140219"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "进行属性映射"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20250127140854-jr54xuv",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20250127140854-jr54xuv",
				"updated": "20250127142907"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "权重计算（顶点着色器函数逻辑）"
				}
			]
		},
		{
			"ID": "20250127140918-8tf4v65",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20250127140918-8tf4v65",
				"updated": "20250127142907"
			},
			"Children": [
				{
					"ID": "20250127140921-cxwnjyf",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20250127140921-cxwnjyf",
						"updated": "20250127142854"
					},
					"Children": [
						{
							"ID": "20250127140921-pusgkn5",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127140921-pusgkn5",
								"updated": "20250127140924"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "v2f"
								},
								{
									"Type": "NodeText",
									"Data": "​ 结构体声明\n"
								}
							]
						},
						{
							"ID": "20250127140925-yvvk8y3",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127140925-yvvk8y3",
								"updated": "20250127140931"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "顶点位置、UV、用两个 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "fixed3"
								},
								{
									"Type": "NodeText",
									"Data": "​ 记录素描纹理权重"
								}
							]
						},
						{
							"ID": "20250127142518-0x8sw4p",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20250127142518-0x8sw4p",
								"style": "line-height: 22px;",
								"updated": "20250127142854"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "struct v2f\n{\n    float4 vertex : SV_POSITION;\n    float2 uv : TEXCOORD0;\n    fixed3 sketchWeights0 : TEXCOORD1;  // x,y,z 分别代表1,2,3张素描的权重\n    fixed3 sketchWeights1 : TEXCOORD2;  // x,y,z 分别代表4,5,6张素描的权重\n};\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				},
				{
					"ID": "20250127140921-n55ktcl",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20250127140921-n55ktcl",
						"updated": "20250127142907"
					},
					"Children": [
						{
							"ID": "20250127140921-a3kdeu1",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127140921-a3kdeu1",
								"updated": "20250127140934"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "顶点着色器函数实现\n"
								}
							]
						},
						{
							"ID": "20250127140939-mdqa0ub",
							"Type": "NodeList",
							"ListData": {
								"Typ": 1
							},
							"Properties": {
								"id": "20250127140939-mdqa0ub",
								"updated": "20250127140939"
							},
							"Children": [
								{
									"ID": "20250127140938-0r7ofqd",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "MS4=",
										"Num": 1
									},
									"Properties": {
										"id": "20250127140938-0r7ofqd",
										"updated": "20250127140938"
									},
									"Children": [
										{
											"ID": "20250127140938-ixcv5ty",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127140938-ixcv5ty",
												"updated": "20250127140940"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "顶点坐标转换\n"
												}
											]
										}
									]
								},
								{
									"ID": "20250127140940-m4x5awg",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "Mi4=",
										"Num": 2
									},
									"Properties": {
										"id": "20250127140940-m4x5awg",
										"updated": "20250127140940"
									},
									"Children": [
										{
											"ID": "20250127140940-n2wtpnr",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127140940-n2wtpnr",
												"updated": "20250127140944"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "UV 坐标平铺缩放 让纹理"
												},
												{
													"Type": "NodeBackslash",
													"Data": "span",
													"Children": [
														{
															"Type": "NodeText",
															"Data": "*"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "平铺系数\n"
												}
											]
										}
									]
								},
								{
									"ID": "20250127140945-hoaqoez",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "My4=",
										"Num": 3
									},
									"Properties": {
										"id": "20250127140945-hoaqoez",
										"updated": "20250127140945"
									},
									"Children": [
										{
											"ID": "20250127140945-dekpia5",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127140945-dekpia5",
												"updated": "20250127140947"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "世界空间光照方向、世界空间法线转换\n"
												}
											]
										}
									]
								},
								{
									"ID": "20250127140947-03x915n",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "NC4=",
										"Num": 4
									},
									"Properties": {
										"id": "20250127140947-03x915n",
										"updated": "20250127140947"
									},
									"Children": [
										{
											"ID": "20250127140947-rlz5ipp",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127140947-rlz5ipp",
												"updated": "20250127140949"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "兰伯特漫反射光照系数计算\n"
												}
											]
										}
									]
								},
								{
									"ID": "20250127140949-hyg9pzb",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "NS4=",
										"Num": 5
									},
									"Properties": {
										"id": "20250127140949-hyg9pzb",
										"updated": "20250127140949"
									},
									"Children": [
										{
											"ID": "20250127140949-zrlr6ra",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127140949-zrlr6ra",
												"updated": "20250127140957"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "将光照系数 从 0"
												},
												{
													"Type": "NodeBackslash",
													"Data": "span",
													"Children": [
														{
															"Type": "NodeText",
															"Data": "~"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "1 扩充到 0"
												},
												{
													"Type": "NodeBackslash",
													"Data": "span",
													"Children": [
														{
															"Type": "NodeText",
															"Data": "~"
														}
													]
												},
												{
													"Type": "NodeText",
													"Data": "7"
												}
											]
										}
									]
								},
								{
									"ID": "20250127140951-cj0ob8a",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "Ni4=",
										"Num": 6
									},
									"Properties": {
										"id": "20250127140951-cj0ob8a",
										"updated": "20250127140951"
									},
									"Children": [
										{
											"ID": "20250127140951-ppj5msy",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127140951-ppj5msy",
												"updated": "20250127140951"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "根据系数决定素描纹理权重"
												}
											]
										}
									]
								}
							]
						},
						{
							"ID": "20250127142525-182r2ip",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20250127142525-182r2ip",
								"style": "line-height: 22px;",
								"updated": "20250127142907"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "v2f vert (appdata_base v)\n{\n    v2f o;\n    o.vertex = UnityObjectToClipPos(v.vertex);\n    o.uv = v.texcoord.xy * _TileFactor;\n    // 计算漫反射光照强度\n    fixed3 worldLightDir = normalize(WorldSpaceLightDir(v.vertex)); // 世界空间下的光照方向\n    fixed3 worldNormal = UnityObjectToWorldNormal(v.normal);        // 世界空间法线方向转换\n    fixed diffuse = max(0, dot(worldLightDir, worldNormal));        // 漫反射光照强度计算\n    diffuse = diffuse * 7.0;                                        // 将光照强度从0~1变化到0~7范围\n\n    // 用于记录6张纹理采样的权重，默认都是0，0意味着之后不会使用对应纹理颜色中采样的颜色\n    o.sketchWeights0 = fixed3(0, 0, 0);\n    o.sketchWeights1 = fixed3(0, 0, 0);\n    // 根据光照强度，决定各个图片的采样权重\n    if (diffuse \u003e 6.0)\n    {\n        // 认为是最亮的部分，不修改任何权重值，意味着不会使用任何素描纹理中采样的颜色\n    }\n    else if (diffuse \u003e 5.0)\n    {\n        o.sketchWeights0.x = diffuse - 5.0;             // 修改第1张素描纹理权重\n    }\n    else if (diffuse \u003e 4.0)\n    {\n        o.sketchWeights0.x = diffuse - 4.0;             // 修改第1张素描纹理权重\n        o.sketchWeights0.y = 1.0 - o.sketchWeights0.x;  // 修改第2张素描纹理权重\n    }\n    else if (diffuse \u003e 3.0)\n    {\n        o.sketchWeights0.y = diffuse - 3.0;             // 修改第2张素描纹理权重\n        o.sketchWeights0.z = 1.0 - o.sketchWeights0.y;  // 修改第3张素描纹理权重\n    }\n    else if (diffuse \u003e 2.0)\n    {\n        o.sketchWeights0.z = diffuse - 2.0;             // 修改第3张素描纹理权重\n        o.sketchWeights1.x = 1.0 - o.sketchWeights0.z;  // 修改第4张素描纹理权重\n    }\n    else if (diffuse \u003e 1.0)\n    {\n        o.sketchWeights1.x = diffuse - 1.0;             // 修改第4张素描纹理权重\n        o.sketchWeights1.y = 1.0 - o.sketchWeights1.x;  // 修改第5张素描纹理权重\n    }\n    else\n    {\n        o.sketchWeights1.y = diffuse;                   // 修改第5张素描纹理权重\n        o.sketchWeights1.z = 1.0 - o.sketchWeights1.y;  // 修改第6张素描纹理权重\n    }\n\n    return o;\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20250127142510-p3v0quk",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20250127142510-p3v0quk",
				"updated": "20250127143536"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "颜色采样（片元着色器函数逻辑）"
				}
			]
		},
		{
			"ID": "20250127142603-06wiuxc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250127142603-06wiuxc",
				"updated": "20250127142619"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在片元着色器中实现："
				}
			]
		},
		{
			"ID": "20250127142612-2q6ualp",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20250127142612-2q6ualp",
				"updated": "20250127142616"
			},
			"Children": [
				{
					"ID": "20250127142612-p5dx5f3",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20250127142612-p5dx5f3",
						"updated": "20250127142612"
					},
					"Children": [
						{
							"ID": "20250127142612-2xv0ma9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127142612-2xv0ma9",
								"updated": "20250127142612"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "对 16 张纹理进行采样 并乘以权重 得到各纹理采样颜色"
								}
							]
						}
					]
				},
				{
					"ID": "20250127142612-a89se4h",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20250127142612-a89se4h",
						"updated": "20250127142614"
					},
					"Children": [
						{
							"ID": "20250127142612-c2ln6s4",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127142612-c2ln6s4",
								"updated": "20250127142614"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "根据 16 张纹理权重计算出白色高光部分颜色"
								}
							]
						}
					]
				},
				{
					"ID": "20250127142612-7jxjqtm",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20250127142612-7jxjqtm",
						"updated": "20250127142616"
					},
					"Children": [
						{
							"ID": "20250127142612-5rjarv9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127142612-5rjarv9",
								"updated": "20250127142616"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "将 1"
								},
								{
									"Type": "NodeBackslash",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "~"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "6 张纹理采样颜色 和 白色部分 相加得到最终叠加颜色"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20250127142620-9qkh0rv",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20250127142620-9qkh0rv",
				"style": "line-height: 22px;",
				"updated": "20250127142916"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "Yw=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "fixed4 frag (v2f i) : SV_Target\n{\n    // 如果之前的权重没有设置，默认为0，对应纹理颜色最终就是(0,0,0,0)\n    fixed4 sketchTex0 = tex2D(_Sketch0, i.uv) * i.sketchWeights0.x; // 在第1张纹理中采样，并乘以权重1\n    fixed4 sketchTex1 = tex2D(_Sketch1, i.uv) * i.sketchWeights0.y;\t// 在第2张纹理中采样，并乘以权重2\n    fixed4 sketchTex2 = tex2D(_Sketch2, i.uv) * i.sketchWeights0.z;\t// 在第3张纹理中采样，并乘以权重3\n    fixed4 sketchTex3 = tex2D(_Sketch3, i.uv) * i.sketchWeights1.x;\t// 在第4张纹理中采样，并乘以权重4\n    fixed4 sketchTex4 = tex2D(_Sketch4, i.uv) * i.sketchWeights1.y;\t// 在第5张纹理中采样，并乘以权重5\n    fixed4 sketchTex5 = tex2D(_Sketch5, i.uv) * i.sketchWeights1.z;\t// 在第6张纹理中采样，并乘以权重6\n    // 6~7区间 所有采样颜色都是(0,0,0,0)，代表最亮的地方，计算白色叠加值\n    fixed4 whiteColor = fixed4(1, 1, 1, 1) * \n    \t(1 - i.sketchWeights0.x - i.sketchWeights0.y - i.sketchWeights0.z \n    \t   - i.sketchWeights1.x - i.sketchWeights1.y - i.sketchWeights1.z);\n    // 最终将所有纹理颜色和白色叠加值相加，得到最终颜色\n    fixed4 sketchColor = sketchTex0 + sketchTex1 + sketchTex2 + sketchTex3 + sketchTex4 + sketchTex5 + whiteColor;\n    return sketchColor;\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20250127143536-9fyuuak",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20250127143536-9fyuuak",
				"updated": "20250127145121"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "外轮廓、阴影相关添加"
				}
			]
		},
		{
			"ID": "20250127143544-vyvtjc7",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20250127143544-vyvtjc7",
				"updated": "20250127144220"
			},
			"Children": [
				{
					"ID": "20250127143547-w9t4ezt",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20250127143547-w9t4ezt",
						"updated": "20250127144220"
					},
					"Children": [
						{
							"ID": "20250127143547-p7qfx7o",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127143547-p7qfx7o",
								"updated": "20250127143547"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "外轮廓\n"
								}
							]
						},
						{
							"ID": "20250127143549-lz03kw9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127143549-lz03kw9",
								"updated": "20250127143618"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "直接复用卡通风格渲染 Shader 的外轮廓 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "Pass"
								},
								{
									"Type": "NodeText",
									"Data": "​ 代码，详见："
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "block-ref",
									"TextMarkBlockRefID": "20250127000853-kzspt4r",
									"TextMarkBlockRefSubtype": "d",
									"TextMarkTextContent": "US4L6——卡通风格渲染"
								}
							]
						},
						{
							"ID": "20250127143934-ulzd86s",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20250127143934-ulzd86s",
								"style": "line-height: 22px;",
								"updated": "20250127144220"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "SubShader\n{\n    Tags { \"RenderType\"=\"Opaque\" }\n\n    // OutLine Pass 描边渲染通道\n    UsePass \"TeachShader/ToonShader/OutLinePass\"\n\n    // Bass Pass 基础渲染通道\n    Pass {/*...*/}\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				},
				{
					"ID": "20250127143547-z7hidyo",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20250127143547-z7hidyo",
						"updated": "20250127143649"
					},
					"Children": [
						{
							"ID": "20250127143547-lza7zhi",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250127143547-lza7zhi",
								"updated": "20250127143547"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "阴影相关添加\n"
								}
							]
						},
						{
							"ID": "20250127143619-joycgo6",
							"Type": "NodeList",
							"ListData": {},
							"Properties": {
								"id": "20250127143619-joycgo6",
								"updated": "20250127143649"
							},
							"Children": [
								{
									"ID": "20250127143620-ijke24f",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127143620-ijke24f",
										"updated": "20250127143649"
									},
									"Children": [
										{
											"ID": "20250127143620-ve58di6",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127143620-ve58di6",
												"updated": "20250127143649"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "加入 "
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "SHADOW_COORDS"
												},
												{
													"Type": "NodeText",
													"Data": "​、"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "TRANSFER_SHADOW"
												},
												{
													"Type": "NodeText",
													"Data": "​、"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "UNITY_LIGHT_ATTENUATION"
												},
												{
													"Type": "NodeText",
													"Data": "​"
												}
											]
										}
									]
								},
								{
									"ID": "20250127143621-fjakstx",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250127143621-fjakstx",
										"updated": "20250127143625"
									},
									"Children": [
										{
											"ID": "20250127143621-avqkwg2",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250127143621-avqkwg2",
												"updated": "20250127143625"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "加入 "
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "FallBack \u0026quot;Diffuse\u0026quot;"
												},
												{
													"Type": "NodeText",
													"Data": "​"
												}
											]
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20250127143659-6ktu3bt",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250127143659-6ktu3bt",
				"updated": "20250127145105"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "完整 Shader 代码如下："
				}
			]
		},
		{
			"ID": "20250127145105-p1fs5tg",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20250127145105-p1fs5tg",
				"style": "line-height: 22px;",
				"updated": "20250127145108"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "Yw=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "Shader \"TeachShader/Sketch\"\n{\n    Properties\n    {\n        _Color(\"Color\", Color) = (1, 1, 1, 1)               // 整体颜色叠加\n        _TileFactor(\"TileFactor\", Float) = 1                // 纹理平铺密度\n        _OutLineColor(\"OutLineColor\", Color) = (0, 0, 0, 1) // 边缘线颜色\n        _OutLineWidth(\"OutLineWidth\", Range(0, 1)) = 0.005  // 边缘线宽度\n        _Sketch0(\"Sketch0\", 2D) = \"\"{}                      // 第1张素描纹理\n        _Sketch1(\"Sketch1\", 2D) = \"\"{}                      // 第2张素描纹理\n        _Sketch2(\"Sketch2\", 2D) = \"\"{}                      // 第3张素描纹理\n        _Sketch3(\"Sketch3\", 2D) = \"\"{}                      // 第4张素描纹理\n        _Sketch4(\"Sketch4\", 2D) = \"\"{}                      // 第5张素描纹理\n        _Sketch5(\"Sketch5\", 2D) = \"\"{}                      // 第6张素描纹理\n    }\n    SubShader\n    {\n        Tags { \"RenderType\"=\"Opaque\" }\n\n        // OutLine Pass 描边渲染通道\n        UsePass \"TeachShader/ToonShader/OutLinePass\"\n\n        // Bass Pass 基础渲染通道\n        Pass\n        {\n            CGPROGRAM\n            #pragma vertex vert\n            #pragma fragment frag\n            #pragma multi_compile_fwdbase\n\n            #include \"UnityCG.cginc\"\n            #include \"Lighting.cginc\"\n            #include \"AutoLight.cginc\"\n\n            fixed4 _Color;\n            fixed _TileFactor;\n            sampler2D _Sketch0;\n            sampler2D _Sketch1;\n            sampler2D _Sketch2;\n            sampler2D _Sketch3;\n            sampler2D _Sketch4;\n            sampler2D _Sketch5;\n\n            struct v2f\n            {\n                float4 vertex : SV_POSITION;\n                float2 uv : TEXCOORD0;\n                fixed3 sketchWeights0 : TEXCOORD1;  // x,y,z 分别代表1,2,3张素描的权重\n                fixed3 sketchWeights1 : TEXCOORD2;  // x,y,z 分别代表4,5,6张素描的权重\n                float3 worldPos: TEXCOORD3;         //世界空间下顶点坐标\n                SHADOW_COORDS(4)                    //阴影坐标宏\n            };\n\n            v2f vert (appdata_base v)\n            {\n                v2f o;\n                o.vertex = UnityObjectToClipPos(v.vertex);\n                o.uv = v.texcoord.xy * _TileFactor;\n                // 计算漫反射光照强度\n                fixed3 worldLightDir = normalize(WorldSpaceLightDir(v.vertex)); // 世界空间下的光照方向\n                fixed3 worldNormal = UnityObjectToWorldNormal(v.normal);        // 世界空间法线方向转换\n                fixed diffuse = max(0, dot(worldLightDir, worldNormal));        // 漫反射光照强度计算\n                diffuse = diffuse * 7.0;                                        // 将光照强度从0~1变化到0~7范围\n\n                // 用于记录6张纹理采样的权重，默认都是0，0意味着之后不会使用对应纹理颜色中采样的颜色\n                o.sketchWeights0 = fixed3(0, 0, 0);\n                o.sketchWeights1 = fixed3(0, 0, 0);\n                // 根据光照强度，决定各个图片的采样权重\n                if (diffuse \u003e 6.0)\n                {\n                    // 认为是最亮的部分，不修改任何权重值，意味着不会使用任何素描纹理中采样的颜色\n                }\n                else if (diffuse \u003e 5.0)\n                {\n                    o.sketchWeights0.x = diffuse - 5.0;             // 修改第1张素描纹理权重\n                }\n                else if (diffuse \u003e 4.0)\n                {\n                    o.sketchWeights0.x = diffuse - 4.0;             // 修改第1张素描纹理权重\n                    o.sketchWeights0.y = 1.0 - o.sketchWeights0.x;  // 修改第2张素描纹理权重\n                }\n                else if (diffuse \u003e 3.0)\n                {\n                    o.sketchWeights0.y = diffuse - 3.0;             // 修改第2张素描纹理权重\n                    o.sketchWeights0.z = 1.0 - o.sketchWeights0.y;  // 修改第3张素描纹理权重\n                }\n                else if (diffuse \u003e 2.0)\n                {\n                    o.sketchWeights0.z = diffuse - 2.0;             // 修改第3张素描纹理权重\n                    o.sketchWeights1.x = 1.0 - o.sketchWeights0.z;  // 修改第4张素描纹理权重\n                }\n                else if (diffuse \u003e 1.0)\n                {\n                    o.sketchWeights1.x = diffuse - 1.0;             // 修改第4张素描纹理权重\n                    o.sketchWeights1.y = 1.0 - o.sketchWeights1.x;  // 修改第5张素描纹理权重\n                }\n                else\n                {\n                    o.sketchWeights1.y = diffuse;                   // 修改第5张素描纹理权重\n                    o.sketchWeights1.z = 1.0 - o.sketchWeights1.y;  // 修改第6张素描纹理权重\n                }\n\n                o.worldPos = mul(unity_ObjectToWorld, v.vertex).xyz;    // 世界空间下的顶点坐标\n                TRANSFER_SHADOW(o);                                     // 阴影坐标转换宏\n\n                return o;\n            }\n\n            fixed4 frag (v2f i) : SV_Target\n            {\n                // 如果之前的权重没有设置，默认为0，对应纹理颜色最终就是(0,0,0,0)\n                fixed4 sketchTex0 = tex2D(_Sketch0, i.uv) * i.sketchWeights0.x; // 在第1张纹理中采样，并乘以权重1\n\t            fixed4 sketchTex1 = tex2D(_Sketch1, i.uv) * i.sketchWeights0.y;\t// 在第2张纹理中采样，并乘以权重2\n\t            fixed4 sketchTex2 = tex2D(_Sketch2, i.uv) * i.sketchWeights0.z;\t// 在第3张纹理中采样，并乘以权重3\n\t            fixed4 sketchTex3 = tex2D(_Sketch3, i.uv) * i.sketchWeights1.x;\t// 在第4张纹理中采样，并乘以权重4\n\t            fixed4 sketchTex4 = tex2D(_Sketch4, i.uv) * i.sketchWeights1.y;\t// 在第5张纹理中采样，并乘以权重5\n\t            fixed4 sketchTex5 = tex2D(_Sketch5, i.uv) * i.sketchWeights1.z;\t// 在第6张纹理中采样，并乘以权重6\n\t            // 6~7区间 所有采样颜色都是(0,0,0,0)，代表最亮的地方，计算白色叠加值\n                fixed4 whiteColor = fixed4(1, 1, 1, 1) * \n\t            \t(1 - i.sketchWeights0.x - i.sketchWeights0.y - i.sketchWeights0.z \n\t            \t   - i.sketchWeights1.x - i.sketchWeights1.y - i.sketchWeights1.z);\n                // 最终将所有纹理颜色和白色叠加值相加，得到最终颜色\n                fixed4 sketchColor = sketchTex0 + sketchTex1 + sketchTex2 + sketchTex3 + sketchTex4 + sketchTex5 + whiteColor;\n            \n                UNITY_LIGHT_ATTENUATION(atten, i, i.worldPos);      // 使用UNITY_LIGHT_ATTENUATION计算光照衰减\n\n\t            return fixed4(sketchColor.rgb * atten * _Color.rgb, 1);\n            }\n            ENDCG\n        }\n    }\n\n    Fallback \"Diffuse\"\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20250127145121-7phvuls",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20250127145121-7phvuls",
				"updated": "20250127145411"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "显示效果"
				}
			]
		},
		{
			"ID": "20250127145219-pi6pvki",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250127145219-pi6pvki",
				"updated": "20250127145253"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "设置纹理平铺密度为8，边缘线宽度为0.005"
				}
			]
		},
		{
			"ID": "20250127145212-mvkngi8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250127145212-mvkngi8",
				"updated": "20250127145212"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"style": "width: 329px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20250127145212-7i6wyzx.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 329px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20250127145217-e7zesbo",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250127145217-e7zesbo",
				"updated": "20250127145411"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "可见，物体的光照效果由素描贴图来呈现，越暗的地方笔触密度越高"
				}
			]
		}
	]
}