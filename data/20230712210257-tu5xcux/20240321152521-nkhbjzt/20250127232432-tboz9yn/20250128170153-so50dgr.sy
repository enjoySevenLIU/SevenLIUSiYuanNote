{
	"ID": "20250128170153-so50dgr",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20250128170153-so50dgr",
		"title": "US5L3——Shader变体和关键字",
		"type": "doc",
		"updated": "20250128191503"
	},
	"Children": [
		{
			"ID": "20250128184028-ov2svr2",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20250128184028-ov2svr2",
				"updated": "20250128184141"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "本章代码关键字"
				}
			]
		},
		{
			"ID": "20250128184036-h3mpo7l",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20250128184036-h3mpo7l",
				"style": "line-height: 22px;",
				"updated": "20250128184141"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "Yw=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "#pragma shader_feature\t// 声明局部关键字，只有关键词启用时才会生成对应Shader变体\n#pragma multi_compile\t// 声明局部关键字，不管是否启用都会生成对应Shader变体\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20250128170153-4ta29g2",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20250128170153-4ta29g2",
				"updated": "20250128170416"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Shader 中的变体"
				}
			]
		},
		{
			"ID": "20250128170240-nzhgjz1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250128170240-nzhgjz1",
				"updated": "20250128170425"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Shader Variant（变体）指的是一个 Shader 的特定配置，通过不同的 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "关键字（Keywords）"
				},
				{
					"Type": "NodeText",
					"Data": "和 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "设置组合"
				},
				{
					"Type": "NodeText",
					"Data": " 来实现不同的效果\n每一种关键字组合或设置都会生成一个独立的 Shader 变体，最终以二进制形式存储在构建文件中供运行时使用"
				}
			]
		},
		{
			"ID": "20250128170259-tsuf6g9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250128170259-tsuf6g9",
				"updated": "20250128170416"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "说人话：Shader 变体就是基于一个 Shader 文件当中的代码，编译生成多个版本的 Shader 它基于关键字来生成各种不同的版本"
				}
			]
		},
		{
			"ID": "20250128170427-h56ah9a",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250128170427-h56ah9a",
				"updated": "20250128170622"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "举例说明：一个 Shader 中有两个关键字，每个关键字有两种状态（启用或禁用），最终生成的变体数量就是 2"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "sup",
					"TextMarkTextContent": "2"
				},
				{
					"Type": "NodeText",
					"Data": " = 4"
				}
			]
		},
		{
			"ID": "20250128170508-watqzsy",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20250128170508-watqzsy",
				"updated": "20250128170536"
			},
			"Children": [
				{
					"ID": "20250128170508-xh7a9ql",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250128170508-xh7a9ql",
						"updated": "20250128170508"
					},
					"Children": [
						{
							"ID": "20250128170508-d6fq8t9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128170508-d6fq8t9",
								"updated": "20250128170508"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "变体 1：没有启用任何关键字（默认）。\n"
								}
							]
						}
					]
				},
				{
					"ID": "20250128170508-87nt199",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250128170508-87nt199",
						"updated": "20250128170533"
					},
					"Children": [
						{
							"ID": "20250128170508-reyfd78",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128170508-reyfd78",
								"updated": "20250128170533"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "变体 2：启用了 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "关键字1"
								},
								{
									"Type": "NodeText",
									"Data": "。\n"
								}
							]
						}
					]
				},
				{
					"ID": "20250128170508-hvn8e0b",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250128170508-hvn8e0b",
						"updated": "20250128170536"
					},
					"Children": [
						{
							"ID": "20250128170508-1jdhbk7",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128170508-1jdhbk7",
								"updated": "20250128170536"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "变体 3：启用了 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "关键字2"
								},
								{
									"Type": "NodeText",
									"Data": "。\n"
								}
							]
						}
					]
				},
				{
					"ID": "20250128170509-ehf7ron",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250128170509-ehf7ron",
						"updated": "20250128170509"
					},
					"Children": [
						{
							"ID": "20250128170509-en5aw1m",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128170509-en5aw1m",
								"updated": "20250128170509"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "变体 4：同时启用了 关键字1 和 关键字2"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20250128170506-y0pcvzj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250128170506-y0pcvzj",
				"updated": "20250128170626"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "运行时，Unity 会根据具体设置选择与之匹配的变体来使用，Unity 的一些内置功能会隐式的生成变体，比如："
				}
			]
		},
		{
			"ID": "20250128170626-k1fzqvk",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20250128170626-k1fzqvk",
				"updated": "20250128170704"
			},
			"Children": [
				{
					"ID": "20250128170626-59s0ckw",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250128170626-59s0ckw",
						"updated": "20250128170644"
					},
					"Children": [
						{
							"ID": "20250128170626-n3cygq5",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128170626-n3cygq5",
								"updated": "20250128170644"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "光照模式 —— "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "block-ref",
									"TextMarkBlockRefID": "20241128125933-atvirum",
									"TextMarkBlockRefSubtype": "d",
									"TextMarkTextContent": "US3S5L6——多种光源综合实现"
								}
							]
						}
					]
				},
				{
					"ID": "20250128170626-cl7u6on",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250128170626-cl7u6on",
						"updated": "20250128170653"
					},
					"Children": [
						{
							"ID": "20250128170626-c2c2xex",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128170626-c2c2xex",
								"updated": "20250128170653"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "雾效 —— "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "block-ref",
									"TextMarkBlockRefID": "20250125134840-yc51k91",
									"TextMarkBlockRefSubtype": "d",
									"TextMarkTextContent": "US3S11L5——Unity自带全局雾效"
								}
							]
						}
					]
				},
				{
					"ID": "20250128170627-nj298a9",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250128170627-nj298a9",
						"updated": "20250128170704"
					},
					"Children": [
						{
							"ID": "20250128170627-djktqfd",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128170627-djktqfd",
								"updated": "20250128170704"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "渲染管线 —— "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "block-ref",
									"TextMarkBlockRefID": "20240510140627-z55vrek",
									"TextMarkBlockRefSubtype": "d",
									"TextMarkTextContent": "US1L1——渲染管线概述"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20250128170629-w3ppm1t",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250128170629-w3ppm1t",
				"updated": "20250128170632"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "等等"
				}
			]
		},
		{
			"ID": "20250128170707-moiayw0",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20250128170707-moiayw0",
				"updated": "20250128173121"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "局部 Shader 关键字"
				}
			]
		},
		{
			"ID": "20250128170734-yrx9vke",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20250128170734-yrx9vke",
				"updated": "20250128173121"
			},
			"Children": [
				{
					"ID": "20250128170811-yhrze5y",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20250128170811-yhrze5y",
						"updated": "20250128172258"
					},
					"Children": [
						{
							"ID": "20250128170811-zscxbej",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128170811-zscxbej",
								"updated": "20250128171046"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "声明方法"
								}
							]
						},
						{
							"ID": "20250128171043-n44yw5k",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128171043-n44yw5k",
								"updated": "20250128171043"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "声明局部关键字有两种方式 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "#pragma shader_feature"
								},
								{
									"Type": "NodeText",
									"Data": "​ 或 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "#pragma multi_compile"
								},
								{
									"Type": "NodeText",
									"Data": "​ 来声明关键词"
								}
							]
						},
						{
							"ID": "20250128172045-a8fy2fu",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128172045-a8fy2fu",
								"updated": "20250128172046"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "关键词命名规则：通常使用大写字母和下划线分隔（"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "_大写单词_大写单词..."
								},
								{
									"Type": "NodeText",
									"Data": "​），比如："
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "_TEST_KEYWORD"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"ID": "20250128170823-w2f82wb",
							"Type": "NodeList",
							"ListData": {
								"Typ": 1
							},
							"Properties": {
								"id": "20250128170823-w2f82wb",
								"updated": "20250128172258"
							},
							"Children": [
								{
									"ID": "20250128170822-xrqjnrk",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "MS4=",
										"Num": 1
									},
									"Properties": {
										"id": "20250128170822-xrqjnrk",
										"updated": "20250128172258"
									},
									"Children": [
										{
											"ID": "20250128170822-koaprgu",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250128170822-koaprgu",
												"updated": "20250128170842"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "​"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "#pragma shader_feature 关键词1 关键词2 关键词3...."
												},
												{
													"Type": "NodeText",
													"Data": "​"
												}
											]
										},
										{
											"ID": "20250128170842-jrvwgkr",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250128170842-jrvwgkr",
												"updated": "20250128170852"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "作用：该编译指令声明的关键字，只有关键词启用时才会生成对应 Shader 变体"
												}
											]
										},
										{
											"ID": "20250128171712-ffl80wx",
											"Type": "NodeCodeBlock",
											"IsFencedCodeBlock": true,
											"Properties": {
												"id": "20250128171712-ffl80wx",
												"style": "line-height: 22px;",
												"updated": "20250128172258"
											},
											"Children": [
												{
													"Type": "NodeCodeBlockFenceOpenMarker",
													"Data": "```"
												},
												{
													"Type": "NodeCodeBlockFenceInfoMarker",
													"CodeBlockInfo": "Yw=="
												},
												{
													"Type": "NodeCodeBlockCode",
													"Data": "CGPROGRAM\n#pragma vertex vert\n#pragma fragment frag\n\n// 该编译指令声明的关键字，只有关键词启用时才会生成对应 Shader 变体\n#pragma shader_feature _TEST_KEYWORD1 _TEST_KEYWORD2\n//...\nENDCG\n"
												},
												{
													"Type": "NodeCodeBlockFenceCloseMarker",
													"Data": "```"
												}
											]
										},
										{
											"ID": "20250128171743-xdrfnq7",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250128171743-xdrfnq7",
												"updated": "20250128171818"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "如果没有任何地方显式启用 "
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "_TEST_KEYWORD"
												},
												{
													"Type": "NodeText",
													"Data": "​ 或 "
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "_TEST_KEYWORD2"
												},
												{
													"Type": "NodeText",
													"Data": "​ 则对应的 Shader 变体将不会生成"
												}
											]
										}
									]
								},
								{
									"ID": "20250128170853-pdw1o7p",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "Mi4=",
										"Num": 2
									},
									"Properties": {
										"id": "20250128170853-pdw1o7p",
										"updated": "20250128172256"
									},
									"Children": [
										{
											"ID": "20250128170853-0ni18oa",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250128170853-0ni18oa",
												"updated": "20250128170859"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "​"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "#pragma multi_compile 关键词1 关键词2 关键词3...."
												},
												{
													"Type": "NodeText",
													"Data": "​\n"
												}
											]
										},
										{
											"ID": "20250128170900-nwc0epa",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250128170900-nwc0epa",
												"updated": "20250128170920"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "作用：该编译指令声明的关键字，不管是否启用都会生成对应 Shader 变体\n"
												}
											]
										},
										{
											"ID": "20250128171919-3dsq2mo",
											"Type": "NodeCodeBlock",
											"IsFencedCodeBlock": true,
											"Properties": {
												"id": "20250128171919-3dsq2mo",
												"style": "line-height: 22px;",
												"updated": "20250128172256"
											},
											"Children": [
												{
													"Type": "NodeCodeBlockFenceOpenMarker",
													"Data": "```"
												},
												{
													"Type": "NodeCodeBlockFenceInfoMarker",
													"CodeBlockInfo": "Yw=="
												},
												{
													"Type": "NodeCodeBlockCode",
													"Data": "CGPROGRAM\n#pragma vertex vert\n#pragma fragment frag\n\n// 该编译指令声明的关键字，不管是否启用都会生成对应 Shader 变体\n#pragma multi_compile _TEST_KEYWORD1 _TEST_KEYWORD2\n//...\nENDCG\n"
												},
												{
													"Type": "NodeCodeBlockFenceCloseMarker",
													"Data": "```"
												}
											]
										}
									]
								}
							]
						},
						{
							"ID": "20250128170920-vezeiyo",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128170920-vezeiyo",
								"updated": "20250128172041"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​两种声明方式的区别：主要区别在于生成 Shader 变体的数量"
								}
							]
						},
						{
							"ID": "20250128171013-krsgcmf",
							"Type": "NodeList",
							"ListData": {},
							"Properties": {
								"id": "20250128171013-krsgcmf",
								"updated": "20250128171014"
							},
							"Children": [
								{
									"ID": "20250128171014-lxzhzup",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250128171014-lxzhzup",
										"updated": "20250128171014"
									},
									"Children": [
										{
											"ID": "20250128171014-5uyuu17",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250128171014-5uyuu17",
												"updated": "20250128171128"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "​"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "shader_feature"
												},
												{
													"Type": "NodeText",
													"Data": "​：编译更快，Shader 文件更小，适用开关功能较少的场景"
												}
											]
										}
									]
								},
								{
									"ID": "20250128171015-er3yere",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250128171015-er3yere",
										"updated": "20250128171015"
									},
									"Children": [
										{
											"ID": "20250128171015-5omohlf",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250128171015-5omohlf",
												"updated": "20250128171130"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "​"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "multi_compile"
												},
												{
													"Type": "NodeText",
													"Data": "​：编译更长，Shader 文件更大，适用需要完整覆盖的功能"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20250128170811-dlfwtsb",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20250128170811-dlfwtsb",
						"updated": "20250128173121"
					},
					"Children": [
						{
							"ID": "20250128170811-ydfr33j",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128170811-ydfr33j",
								"updated": "20250128171050"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "使用方法\n"
								}
							]
						},
						{
							"ID": "20250128171052-s9rwuu7",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128171052-s9rwuu7",
								"updated": "20250128171203"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "关键字使用规则，利用 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "#if ... #elif ... #else ... #endif"
								},
								{
									"Type": "NodeText",
									"Data": "​ 配合使用，判断关键词启用时处理什么逻辑"
								}
							]
						},
						{
							"ID": "20250128171102-lfvb8s1",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20250128171102-lfvb8s1",
								"style": "line-height: 22px;",
								"updated": "20250128171354"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "#if defined(关键词名)\n....\n#elif defined(关键词名)\n....\n#else\n....\n#endif\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						},
						{
							"ID": "20250128172735-lrg6i64",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128172735-lrg6i64",
								"updated": "20250128172821"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "例如："
								}
							]
						},
						{
							"ID": "20250128172733-5p6g35a",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20250128172733-5p6g35a",
								"style": "line-height: 22px;",
								"updated": "20250128172957"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "#pragma multi_compile _TEST_KEYWORD1 _TEST_KEYWORD2\n\nfixed4 frag (v2f i) : SV_Target\n{\n    // 用关键字控制颜色\n    fixed4 col = fixed4(1,1,1,1);\n#if defined(_TEST_KEYWORD1)\n    // 如果启用了 _TEST_KEYWORD1 就采样\n    col = tex2D(_MainTex, i.uv);\n#endif\n\n#if defined(_TEST_KEYWORD2)\n    // 如果启用了 _TEST_KEYWORD2 就启用雾效\n    UNITY_APPLY_FOG(i.fogCoord, col);\n#endif\n    return col;\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						},
						{
							"ID": "20250128173008-vv0i7y6",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128173008-vv0i7y6",
								"updated": "20250128173121"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "通过 Shader 变体和关键词控制，即可将分支行为变为执行各种情况下的变体"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20250128171356-gn6m8tm",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20250128171356-gn6m8tm",
				"updated": "20250128173528"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Shader 中利用 C"
				},
				{
					"Type": "NodeBackslash",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeText",
							"Data": "#"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": " 代码启用和禁用关键字"
				}
			]
		},
		{
			"ID": "20250128171409-qqpyzz7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250128171409-qqpyzz7",
				"updated": "20250128172108"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Unity Shader 中的关键字是一种用于控制 Shader 变体的机制，允许我们通过启用或者禁用特定功能来动态调整 Shader 的行为"
				}
			]
		},
		{
			"ID": "20250128172111-vpdwnt7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20250128172111-vpdwnt7",
				"updated": "20250128172111"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Shader 中的关键字可以分为2种："
				}
			]
		},
		{
			"ID": "20250128171446-1nmchnf",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20250128171446-1nmchnf",
				"updated": "20250128173526"
			},
			"Children": [
				{
					"ID": "20250128171446-ksdtl6h",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20250128171446-ksdtl6h",
						"updated": "20250128173526"
					},
					"Children": [
						{
							"ID": "20250128171446-1af9il0",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128171446-1af9il0",
								"updated": "20250128172144"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "启用和禁用全局关键字"
								}
							]
						},
						{
							"ID": "20250128172115-3l5wvrk",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128172115-3l5wvrk",
								"updated": "20250128173526"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "Unity 自带的关键字，所有 Shader 中共享，\n可以在 C"
								},
								{
									"Type": "NodeBackslash",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "#"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": " 代码中通过 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "Shader.EnableKeyword(\u0026quot;全局关键字名\u0026quot;)"
								},
								{
									"Type": "NodeText",
									"Data": "​ 和 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "Shader.DisableKeyword(\u0026quot;全局关键字名\u0026quot;)"
								},
								{
									"Type": "NodeText",
									"Data": "​ 来控制关键字的启用和禁用"
								}
							]
						}
					]
				},
				{
					"ID": "20250128171446-7uk6f8c",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20250128171446-7uk6f8c",
						"updated": "20250128171446"
					},
					"Children": [
						{
							"ID": "20250128171446-1geu2xr",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128171446-1geu2xr",
								"updated": "20250128172843"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "局部关键字只在特定的 Shader 中有效，不会影响其他 Shader"
								}
							]
						},
						{
							"ID": "20250128172839-u4u48cf",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128172839-u4u48cf",
								"updated": "20250128172930"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "Unity 更推荐使用局部关键字以减少关键字冲突问题，可以在 C"
								},
								{
									"Type": "NodeBackslash",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "#"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": " 代码中通过："
								}
							]
						},
						{
							"ID": "20250128172905-4zilxe7",
							"Type": "NodeList",
							"ListData": {},
							"Properties": {
								"id": "20250128172905-4zilxe7",
								"updated": "20250128172905"
							},
							"Children": [
								{
									"ID": "20250128172905-p74xx73",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250128172905-p74xx73",
										"updated": "20250128172905"
									},
									"Children": [
										{
											"ID": "20250128172905-rizritk",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250128172905-rizritk",
												"updated": "20250128172920"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "​"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "material.EnableKeyword(\u0026quot;局部关键字名\u0026quot;)"
												},
												{
													"Type": "NodeText",
													"Data": "​"
												}
											]
										}
									]
								},
								{
									"ID": "20250128172905-2lm0xkj",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20250128172905-2lm0xkj",
										"updated": "20250128172905"
									},
									"Children": [
										{
											"ID": "20250128172905-3lbfgu1",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20250128172905-3lbfgu1",
												"updated": "20250128172925"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "​"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "material.DisableKeyword(\u0026quot;局部关键字名\u0026quot;)"
												},
												{
													"Type": "NodeText",
													"Data": "​"
												}
											]
										}
									]
								}
							]
						},
						{
							"ID": "20250128172910-af0ntdr",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128172910-af0ntdr",
								"updated": "20250128172911"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "来控制关键字的启用和禁用"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20250128173528-j88qvg1",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20250128173528-j88qvg1",
				"updated": "20250128191503"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "变体和条件分支的区别"
				}
			]
		},
		{
			"ID": "20250128173534-gnrghjw",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20250128173534-gnrghjw",
				"updated": "20250128191503"
			},
			"Children": [
				{
					"ID": "20250128173551-cxoq0zh",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250128173551-cxoq0zh",
						"updated": "20250128173551"
					},
					"Children": [
						{
							"ID": "20250128173551-xfpbnws",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128173551-xfpbnws",
								"updated": "20250128173614"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "条件分支语句会带来逻辑上执行的开销，虽然能够在运行时直接判断，但是会带来对性能的影响"
								}
							]
						},
						{
							"ID": "20250128173620-i22kl3m",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128173620-i22kl3m",
								"updated": "20250128173621"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "在动态功能选择时条件分支语句更适合"
								}
							]
						}
					]
				},
				{
					"ID": "20250128173600-49pe6w3",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20250128173600-49pe6w3",
						"updated": "20250128191503"
					},
					"Children": [
						{
							"ID": "20250128173600-fatw7xd",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128173600-fatw7xd",
								"updated": "20250128173619"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "变体虽然会增加编译时间并占用更多的内容，但是它的性能高，灵活性强\n"
								}
							]
						},
						{
							"ID": "20250128173623-o8413kv",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20250128173623-o8413kv",
								"updated": "20250128191503"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "在静态功能选择时变体更优，也就是只会在材质 Inspector 面板内设置或者创建后只修改一次，而不是在运行时动态修改最好"
								}
							]
						}
					]
				}
			]
		}
	]
}