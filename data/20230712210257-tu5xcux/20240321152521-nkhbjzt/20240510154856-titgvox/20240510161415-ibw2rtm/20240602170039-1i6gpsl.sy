{"ID":"20240602170039-1i6gpsl","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240602170039-1i6gpsl","title":"US2S1L12——模型空间变换","type":"doc","updated":"20250109113604"},"Children":[{"ID":"20240602181008-x0oyuvn","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240602181008-x0oyuvn","updated":"20240604220505"},"Children":[{"Type":"NodeText","Data":"模型空间变换"}]},{"ID":"20240602181010-jkpiplk","Type":"NodeList","ListData":{},"Properties":{"id":"20240602181010-jkpiplk","updated":"20240602181050"},"Children":[{"ID":"20240602181023-kens6hq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240602181023-kens6hq","updated":"20240602181023"},"Children":[{"ID":"20240602181023-occwr2w","Type":"NodeParagraph","Properties":{"id":"20240602181023-occwr2w","updated":"20240602181023"},"Children":[{"Type":"NodeText","Data":"模型空间的意义\n"}]},{"ID":"20240602181044-mr3ybhm","Type":"NodeParagraph","Properties":{"id":"20240602181044-mr3ybhm"},"Children":[{"Type":"NodeText","Data":"模型空间的主要意义是方便我们建模，模型的顶点等数据都是基于模型空间表达的。\n"}]}]},{"ID":"20240602181024-ahc6dqh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240602181024-ahc6dqh","updated":"20240602181050"},"Children":[{"ID":"20240602181024-38grhph","Type":"NodeParagraph","Properties":{"id":"20240602181024-38grhph"},"Children":[{"Type":"NodeText","Data":"模型空间变换指什么\n"}]},{"ID":"20240602181040-da3et2w","Type":"NodeParagraph","Properties":{"id":"20240602181040-da3et2w","updated":"20240602181050"},"Children":[{"Type":"NodeText","Data":"将模型空间中的点或向量通过矩阵乘法计算，变换为相对于世界坐标空间下数据"}]}]},{"ID":"20240602181026-na066ll","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240602181026-na066ll"},"Children":[{"ID":"20240602181026-0iys44s","Type":"NodeParagraph","Properties":{"id":"20240602181026-0iys44s"},"Children":[{"Type":"NodeText","Data":"如何进行模型空间变换\n"}]},{"ID":"20240602181028-nabgpex","Type":"NodeList","ListData":{},"Properties":{"id":"20240602181028-nabgpex"},"Children":[{"ID":"20240602181027-iw1prji","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240602181027-iw1prji"},"Children":[{"ID":"20240602181027-bpvv51c","Type":"NodeParagraph","Properties":{"id":"20240602181027-bpvv51c"},"Children":[{"Type":"NodeText","Data":"方法一："}]},{"ID":"20240602181034-nqr90fs","Type":"NodeParagraph","Properties":{"id":"20240602181034-nqr90fs"},"Children":[{"Type":"NodeText","Data":"认为一开始模型坐标空间和世界坐标空间重合，模型发生缩放、旋转、平移变换时\n模型空间下的点和向量也应该发生相同的变换\n"}]}]},{"ID":"20240602181029-ed3p54h","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240602181029-ed3p54h"},"Children":[{"ID":"20240602181029-akjhmx6","Type":"NodeParagraph","Properties":{"id":"20240602181029-akjhmx6"},"Children":[{"Type":"NodeText","Data":"方法二："}]},{"ID":"20240602181037-9e80kyo","Type":"NodeParagraph","Properties":{"id":"20240602181037-9e80kyo"},"Children":[{"Type":"NodeText","Data":"用上节课学习的坐标变换规则进行计算，如果存在缩放，直接用轴向单位向量乘以对应轴缩放因子"}]}]}]}]}]},{"ID":"20240602170039-k0rrvsq","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240602170039-k0rrvsq","updated":"20240604220505"},"Children":[{"Type":"NodeText","Data":"模型空间的意义"}]},{"ID":"20240602170121-lyfyqh1","Type":"NodeParagraph","Properties":{"id":"20240602170121-lyfyqh1","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"模型空间（model space）也被称为对象空间（object space）或局部空间（local space）\n它一般指3D模型的局部坐标系，每个模型都有自己独立的坐标空间，"}]},{"ID":"20240602170152-8qqozwb","Type":"NodeParagraph","Properties":{"id":"20240602170152-8qqozwb","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"模型空间的主要意义是方便我们建模，模型的顶点等数据都是基于模型空间表达的。"}]},{"ID":"20240602170155-ng2fkpf","Type":"NodeParagraph","Properties":{"id":"20240602170155-ng2fkpf","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"注意：在Unity中当模型移动或旋转时，模型空间坐标系也会随着变换，因为此时的模型坐标空间是世界坐标空间的子空间"}]},{"ID":"20240602170204-5ooyfxt","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240602170204-5ooyfxt","updated":"20250109113604"},"Children":[{"Type":"NodeText","Data":"模型空间中的注意事项"}]},{"ID":"20240602170749-f5blr6a","Type":"NodeSuperBlock","Properties":{"id":"20240602170749-f5blr6a","updated":"20250109113604"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240602170747-8420y4m","Type":"NodeSuperBlock","Properties":{"id":"20240602170747-8420y4m","updated":"20250109113604"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240602170514-6bhalia","Type":"NodeParagraph","Properties":{"id":"20240602170514-6bhalia","updated":"20250109113600"},"Children":[{"Type":"NodeText","Data":"在模型空间中，我们一般会有 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"上、下、左、右、前、后"},{"Type":"NodeText","Data":" 六种"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"方向"},{"Type":"NodeText","Data":"概念\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Unity使用的是左手坐标系"},{"Type":"NodeText","Data":"，因此"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"模型空间的 x、y、z 轴"},{"Type":"NodeText","Data":"，对应的是"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"模型的右、上、前"},{"Type":"NodeText","Data":"三个方向。"}]},{"ID":"20240602170650-997ulov","Type":"NodeParagraph","Properties":{"id":"20240602170650-997ulov","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);","updated":"20250109113604"},"Children":[{"Type":"NodeText","Data":"需要注意的是在不同的软件中，比如 3DMax 和 Maya 中模型空间中的 x、y、z 不见得是上面这种关系，\n因此在开发时，需要让美术同学导出模型时，修改相关设置，让模型导出后能够满足Unity中的规范\n详见："},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20230807192048-3w78utg","TextMarkBlockRefSubtype":"d","TextMarkTextContent":"U3L17——模型导入相关设置"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240602170557-29u0v0z","Type":"NodeParagraph","Properties":{"id":"20240602170557-29u0v0z","style":"width: 25%; flex: 0 0 auto;","updated":"20240602170750"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240602170557-btso1bo.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240602170800-o2kf5s2","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240602170800-o2kf5s2","updated":"20240604220505"},"Children":[{"Type":"NodeText","Data":"模型空间变换指什么"}]},{"ID":"20240602170826-y0yu5a7","Type":"NodeParagraph","Properties":{"id":"20240602170826-y0yu5a7","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"本课程中的模型空间变换指的主要是：\n将模型空间中的点或向量通过"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"矩阵乘法"},{"Type":"NodeText","Data":"计算，变换为"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"相对于世界坐标空间下数据"}]},{"ID":"20240602171142-g6ohk38","Type":"NodeParagraph","Properties":{"id":"20240602171142-g6ohk38","updated":"20240602181009"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240510140627-z55vrek","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"渲染管线"},{"Type":"NodeText","Data":"是将"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"数据分阶段的变为屏幕图像的过程"},{"Type":"NodeText","Data":"\n其中在"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240510142655-96jqksb","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"几何阶段"},{"Type":"NodeText","Data":"以及"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240510144055-80eaahi","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"光栅化阶段"},{"Type":"NodeText","Data":"中，我们需要将顶点等数据进行相关的变换，让其最终的数据能够显示在屏幕上。\n而模型空间变换就是其中一个重要的变换步骤，就是"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"将模型空间下的点和向量数据转换到世界空间下进行表示"}]},{"ID":"20240602171436-regr6nz","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240602171436-regr6nz","updated":"20241219123322"},"Children":[{"Type":"NodeText","Data":"如何进行模型空间变换"}]},{"ID":"20240602171556-e98luky","Type":"NodeSuperBlock","Properties":{"id":"20240602171556-e98luky","updated":"20240602181009"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240602171554-g9zv9n6","Type":"NodeSuperBlock","Properties":{"id":"20240602171554-g9zv9n6","updated":"20240602172255"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240602171455-wwlp3ub","Type":"NodeParagraph","Properties":{"id":"20240602171455-wwlp3ub","updated":"20240602171554"},"Children":[{"Type":"NodeText","Data":"我们可以假设该机器人模型的手掌红点位置处于模型坐标空间下的（0.63, 0.84, -0.04）点\n当模型在Unity中没有任何父对象，那么该模型空间的坐标系就是相对世界坐标空间的"}]},{"ID":"20240602171457-aqx7rqu","Type":"NodeParagraph","Properties":{"id":"20240602171457-aqx7rqu","updated":"20240602171536"},"Children":[{"Type":"NodeText","Data":"当模型位于世界坐标原点时，当前的红点位置相对世界空间也会是（0.63, 0.84, -0.04）"}]},{"ID":"20240602172002-nme8jrc","Type":"NodeParagraph","Properties":{"id":"20240602172002-nme8jrc","updated":"20240602172002"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 335px;","style":"width: 325px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240602172002-orgai1p.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 325px;\" parent-style=\"width: 335px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240602171614-psqrsai","Type":"NodeParagraph","Properties":{"id":"20240602171614-psqrsai","updated":"20240602171734"},"Children":[{"Type":"NodeText","Data":"但是"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"当模型进行缩放、旋转、平移时，该点相对世界空间就会变化"},{"Type":"NodeText","Data":"。\n如果我们将模型进行2倍缩放，又进行（0, 45, 0）的旋转，然后再进行(5, 0, 5)的平移，\n红点的相对世界空间坐标是多少呢？"}]},{"ID":"20240602172255-3lds993","Type":"NodeParagraph","Properties":{"id":"20240602172255-3lds993","updated":"20240602172255"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 370px;","style":"width: 360px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240602172255-c74vwuh.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 360px;\" parent-style=\"width: 370px;\"}"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240602171554-bgq2zq8","Type":"NodeParagraph","Properties":{"id":"20240602171554-bgq2zq8","style":"width: 33%; flex: 0 0 auto;","updated":"20240602171554"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 288px;","style":"width: 278px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240602171554-tkbhwnq.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 278px;\" parent-style=\"width: 288px;\"}"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240602171629-xbr4sh0","Type":"NodeParagraph","Properties":{"id":"20240602171629-xbr4sh0","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"根据我们之前学习的"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240516124428-4talew2","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"复合运算"},{"Type":"NodeText","Data":"相关的知识\n在进行复合运算时，一定遵守先缩放、后旋转、再平移的规则。\n我们可以得到等式如下："}]},{"ID":"20240602172113-4sfejjr","Type":"NodeMathBlock","Properties":{"id":"20240602172113-4sfejjr","updated":"20240602181009"},"Children":[{"Type":"NodeMathBlockOpenMarker"},{"Type":"NodeMathBlockContent","Data":"P_{相对于世界坐标系的位置} = M_{平移}M_{旋转}M_{缩放}P_{红点的列矩阵}"},{"Type":"NodeMathBlockCloseMarker"}]},{"ID":"20240602172149-26kzh9a","Type":"NodeParagraph","Properties":{"id":"20240602172149-26kzh9a","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"因此可以计算（0.63, 0.84, -0.04）相对于世界空间的坐标："}]},{"ID":"20240602172340-iowkjmn","Type":"NodeMathBlock","Properties":{"id":"20240602172340-iowkjmn","updated":"20241219123321"},"Children":[{"Type":"NodeMathBlockOpenMarker"},{"Type":"NodeMathBlockContent","Data":"\\begin{align*}\n  P_{相对于世界坐标系的位置} \u0026 = M_{平移}M_{旋转}M_{缩放}P_{红点的列矩阵} \\\\\n  \u0026 = \\begin{bmatrix}\n  1 \u0026 0 \u0026 0 \u0026 5 \\\\\n  0 \u0026 1 \u0026 0 \u0026 0 \\\\\n  0 \u0026 0 \u0026 1 \u0026 5 \\\\\n  0 \u0026 0 \u0026 0 \u0026 1\n\\end{bmatrix} \\begin{bmatrix}\n  cos45^\\circ \u0026 0 \u0026 sin45^\\circ \u0026 0 \\\\\n  0 \u0026 1 \u0026 0 \u0026 0 \\\\\n  -sin45^\\circ \u0026 0 \u0026 cos45^\\circ \u0026 0 \\\\\n  0 \u0026 0 \u0026 0 \u0026 1 \\\\\n\\end{bmatrix} \\begin{bmatrix}\n  2 \u0026 0 \u0026 0 \u0026 0 \\\\\n  0 \u0026 2 \u0026 0 \u0026 0 \\\\\n  0 \u0026 0 \u0026 2 \u0026 0 \\\\\n  0 \u0026 0 \u0026 0 \u0026 1 \\\\\n\\end{bmatrix} \\begin{bmatrix}\n  0.63 \\\\\n  0.84 \\\\\n  -0.04 \\\\\n  1\n\\end{bmatrix} \\\\\n  \u0026 = \\begin{bmatrix}\n  5.834 \\\\\n  1.68 \\\\\n  4.052 \\\\\n  1\n\\end{bmatrix}\n\\end{align*}"},{"Type":"NodeMathBlockCloseMarker"}]},{"ID":"20240602172726-g3qqp3m","Type":"NodeParagraph","Properties":{"id":"20240602172726-g3qqp3m","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"根据刚才的例子讲解，我们知道了模型空间变换的变化规则就是："}]},{"ID":"20240602174516-lo1u7by","Type":"NodeMathBlock","Properties":{"id":"20240602174516-lo1u7by","updated":"20241219123322"},"Children":[{"Type":"NodeMathBlockOpenMarker"},{"Type":"NodeMathBlockContent","Data":"P_{模型空间下的点或向量相对于世界空间下的数据表达} = M_{平移}M_{旋转}M_{缩放}P_{模型空间下的点或向量}"},{"Type":"NodeMathBlockCloseMarker"}]},{"ID":"20240602174507-lyowjun","Type":"NodeParagraph","Properties":{"id":"20240602174507-lyowjun","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"其中平移、旋转、缩放矩阵中的具体变换值都是相对于世界空间下的数据"}]},{"ID":"20240602174519-rob7onv","Type":"NodeParagraph","Properties":{"id":"20240602174519-rob7onv","updated":"20240602181009"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"原理：认为一开始模型坐标空间和世界坐标空间重合，模型发生缩放、旋转、平移变换时，模型空间下的点和向量也应该发生相同的变换"}]},{"ID":"20240602174652-hvjifl9","Type":"NodeParagraph","Properties":{"id":"20240602174652-hvjifl9","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"问题："}]},{"ID":"20240602174702-gvqis8j","Type":"NodeList","ListData":{},"Properties":{"id":"20240602174702-gvqis8j","updated":"20240602181009"},"Children":[{"ID":"20240602174702-mts3sn2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240602174702-mts3sn2","updated":"20240602174934"},"Children":[{"ID":"20240602174702-x2xfa1g","Type":"NodeParagraph","Properties":{"id":"20240602174702-x2xfa1g","updated":"20240602174702"},"Children":[{"Type":"NodeText","Data":"当存在多层模型父子关系时\n"}]},{"ID":"20240602174722-b3pg5q2","Type":"NodeParagraph","Properties":{"id":"20240602174722-b3pg5q2","updated":"20240602174934"},"Children":[{"Type":"NodeText","Data":"直接一层层往上计算接口，或者直接使用 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20230708170942-miiie2x","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"transform"},{"Type":"NodeText","Data":" 当中的 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20230709133928-dccfycd","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"position"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20230709140539-gtrttb0","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"rotation"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20230709142754-ivs1vgk","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"lossyScale"},{"Type":"NodeText","Data":" 属性进行计算"}]}]},{"ID":"20240602174703-srz8qgy","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240602174703-srz8qgy","updated":"20240602180052"},"Children":[{"ID":"20240602174703-3smm5ct","Type":"NodeParagraph","Properties":{"id":"20240602174703-3smm5ct","updated":"20240602174725"},"Children":[{"Type":"NodeText","Data":"为什么没有使用上节课讲解的"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240516213528-1sqjexb","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"坐标空间变换规则"}]},{"ID":"20240602174726-96iczvl","Type":"NodeParagraph","Properties":{"id":"20240602174726-96iczvl","updated":"20240602180052"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"因为上节课的坐标变换规则是未讲解缩放相关内容"}]}]}]},{"ID":"20240602175711-azu974s","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240602175711-azu974s","updated":"20240604220505"},"Children":[{"Type":"NodeText","Data":"使用坐标变换规则进行模型空间变换"}]},{"ID":"20240602175116-qe6cfin","Type":"NodeParagraph","Properties":{"id":"20240602175116-qe6cfin","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"如果要使用坐标变换规则的矩阵进行模型空间变换，对于存在缩放的模型空间\n只需要用 "},{"Type":"NodeTextMark","TextMarkType":"inline-math","TextMarkInlineMathContent":"x,y,z"},{"Type":"NodeText","Data":" 轴向的单位向量 "},{"Type":"NodeTextMark","TextMarkType":"inline-math","TextMarkInlineMathContent":"\\times"},{"Type":"NodeText","Data":" 对应轴的缩放因子 即可，相当于："}]},{"ID":"20240602180343-ix90i5o","Type":"NodeMathBlock","Properties":{"id":"20240602180343-ix90i5o","updated":"20240602181009"},"Children":[{"Type":"NodeMathBlockOpenMarker"},{"Type":"NodeMathBlockContent","Data":"M_{s-f} = \\begin{pmatrix} \n    kx \u0026 0 \u0026 0 \u0026 0 \\\\\n    0 \u0026 ky \u0026 0 \u0026 0 \\\\\n    0 \u0026 0 \u0026 kz \u0026 0 \\\\\n    0 \u0026 0 \u0026 0 \u0026 1 \n  \\end{pmatrix} \\begin{pmatrix} \n    | \u0026 | \u0026 | \u0026 | \\\\\n    X_s \u0026 Y_s \u0026 Z_s \u0026 O_s \\\\\n    | \u0026 | \u0026 | \u0026 | \\\\\n    0 \u0026 0 \u0026 0 \u0026 1 \n  \\end{pmatrix}"},{"Type":"NodeMathBlockCloseMarker"}]},{"ID":"20240602180055-n7aw85s","Type":"NodeParagraph","Properties":{"id":"20240602180055-n7aw85s","updated":"20240602181009"},"Children":[{"Type":"NodeText","Data":"因此，根据上例计算："}]},{"ID":"20240602180610-307yqzn","Type":"NodeMathBlock","Properties":{"id":"20240602180610-307yqzn","updated":"20240602181009"},"Children":[{"Type":"NodeMathBlockOpenMarker"},{"Type":"NodeMathBlockContent","Data":"\\begin{align*}\n  P_{相对于世界坐标系的位置} \u0026 = M_{s-f}P_{红点的列矩阵} \\\\\n  \u0026 = \\begin{bmatrix}\n  2 \u0026 0 \u0026 0 \u0026 0 \\\\\n  0 \u0026 2 \u0026 0 \u0026 0 \\\\\n  0 \u0026 0 \u0026 2 \u0026 0 \\\\\n  0 \u0026 0 \u0026 0 \u0026 1\n\\end{bmatrix} \\begin{bmatrix}\n  0.71 \u0026 0 \u0026 0.71 \u0026 0 \\\\\n  0 \u0026 1 \u0026 0 \u0026 0 \\\\\n  -0.71 \u0026 0 \u0026 0.71 \u0026 0 \\\\\n  0 \u0026 0 \u0026 0 \u0026 1 \\\\\n\\end{bmatrix} \\begin{bmatrix}\n  0.63 \\\\\n  0.84 \\\\\n  -0.04 \\\\\n  1\n\\end{bmatrix} \\\\\n\u0026 = \\begin{bmatrix}\n  1.414 \u0026 0 \u0026 1.414 \u0026 0 \\\\\n  0 \u0026 2 \u0026 0 \u0026 0 \\\\\n  -1.414 \u0026 0 \u0026 1.414 \u0026 0 \\\\\n  0 \u0026 0 \u0026 0 \u0026 1 \\\\\n\\end{bmatrix} \\begin{bmatrix}\n  0.63 \\\\\n  0.84 \\\\\n  -0.04 \\\\\n  1\n\\end{bmatrix} \\\\\n  \u0026 = \\begin{bmatrix}\n  5.834 \\\\\n  1.68 \\\\\n  4.052 \\\\\n  1\n\\end{bmatrix}\n\\end{align*}"},{"Type":"NodeMathBlockCloseMarker"}]},{"ID":"20240604124723-ezjtrdp","Type":"NodeParagraph","Properties":{"id":"20240604124723-ezjtrdp","updated":"20240604124737"},"Children":[{"Type":"NodeText","Data":"假设Unity中有一个模型空间（父空间为世界坐标空间）中的顶点P，坐标为（2,4,0）\n现在将该模型平移（2,3,4）个单位，又绕Y轴旋转150度，再缩放3倍\n现在请将P点进行模型空间转换得到它相对于世界坐标空间的位置："}]},{"ID":"20240604124728-0tlr4zn","Type":"NodeMathBlock","Properties":{"id":"20240604124728-0tlr4zn","updated":"20240604220505"},"Children":[{"Type":"NodeMathBlockOpenMarker"},{"Type":"NodeMathBlockContent","Data":"\\begin{align*}\n  P_{相对于世界坐标系的位置} \u0026 = M_{平移}M_{旋转}M_{缩放}P_{红点的列矩阵} \\\\\n  \u0026 = \\begin{bmatrix}\n  1 \u0026 0 \u0026 0 \u0026 2 \\\\\n  0 \u0026 1 \u0026 0 \u0026 3 \\\\\n  0 \u0026 0 \u0026 1 \u0026 4 \\\\\n  0 \u0026 0 \u0026 0 \u0026 1\n\\end{bmatrix} \\begin{bmatrix}\n  cos150^\\circ \u0026 0 \u0026 sin150^\\circ \u0026 0 \\\\\n  0 \u0026 1 \u0026 0 \u0026 0 \\\\\n  -sin150^\\circ \u0026 0 \u0026 cos150^\\circ \u0026 0 \\\\\n  0 \u0026 0 \u0026 0 \u0026 1 \\\\\n\\end{bmatrix} \\begin{bmatrix}\n  3 \u0026 0 \u0026 0 \u0026 0 \\\\\n  0 \u0026 3 \u0026 0 \u0026 0 \\\\\n  0 \u0026 0 \u0026 3 \u0026 0 \\\\\n  0 \u0026 0 \u0026 0 \u0026 1 \\\\\n\\end{bmatrix} \\begin{bmatrix}\n  2 \\\\\n  4 \\\\\n  0 \\\\\n  1\n\\end{bmatrix} \\\\\n  \u0026 = \\begin{bmatrix}\n  -3.196 \\\\\n  15 \\\\\n  1 \\\\\n  1\n\\end{bmatrix}\n\\end{align*}"},{"Type":"NodeMathBlockCloseMarker"}]},{"ID":"20240604124845-xcu8221","Type":"NodeParagraph","Properties":{"id":"20240604124845-xcu8221"}}]}