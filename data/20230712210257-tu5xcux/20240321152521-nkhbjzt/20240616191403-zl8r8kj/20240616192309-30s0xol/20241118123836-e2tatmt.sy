{
	"ID": "20241118123836-e2tatmt",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20241118123836-e2tatmt",
		"title": "US3S3L1——渲染顺序的重要性",
		"type": "doc",
		"updated": "20241123144118"
	},
	"Children": [
		{
			"ID": "20241118123836-qkz6fwl",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20241118123836-qkz6fwl",
				"updated": "20241118124452"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "深度测试和深度写入带来的好处"
				}
			]
		},
		{
			"ID": "20241118123912-7q8xbvq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118123912-7q8xbvq",
				"updated": "20241118124204"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "有了"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "block-ref",
					"TextMarkBlockRefID": "20240612204959-woux783",
					"TextMarkBlockRefSubtype": "s",
					"TextMarkTextContent": "深度测试"
				},
				{
					"Type": "NodeText",
					"Data": "和"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "block-ref",
					"TextMarkBlockRefID": "20240612204920-0vut5cr",
					"TextMarkBlockRefSubtype": "s",
					"TextMarkTextContent": "深度写入"
				},
				{
					"Type": "NodeText",
					"Data": "发挥作用，让我们不需要关心不透明物体的渲染顺序"
				}
			]
		},
		{
			"ID": "20241118124012-hyl0dik",
			"Type": "NodeSuperBlock",
			"Properties": {
				"id": "20241118124012-hyl0dik",
				"updated": "20241118124010"
			},
			"Children": [
				{
					"Type": "NodeSuperBlockOpenMarker"
				},
				{
					"Type": "NodeSuperBlockLayoutMarker",
					"Data": "col"
				},
				{
					"ID": "20241118124038-uiq9x2x",
					"Type": "NodeSuperBlock",
					"Properties": {
						"id": "20241118124038-uiq9x2x",
						"updated": "20241118124127"
					},
					"Children": [
						{
							"Type": "NodeSuperBlockOpenMarker"
						},
						{
							"Type": "NodeSuperBlockLayoutMarker",
							"Data": "row"
						},
						{
							"ID": "20241118123917-nra0rlw",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118123917-nra0rlw",
								"updated": "20241118124053"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "以图为例：一个物体 A 挡住了 物体 B"
								}
							]
						},
						{
							"ID": "20241118124038-d6bhb8g",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124038-d6bhb8g",
								"updated": "20241118124127"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "即使底层逻辑中：先渲染 A ，后渲染 B ，我们也不用担心 B 的颜色会把 A 覆盖\n"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "因为在进行深度测试时，远处的 B 的深度值无法通过深度测试"
								},
								{
									"Type": "NodeText",
									"Data": "\n因为它的深度会比已经写入深度缓冲中 A 的深度值大\n重合处的片元会被丢弃，颜色自然就不会写入，最终重叠处渲染出来的会是 A 的颜色"
								}
							]
						},
						{
							"Type": "NodeSuperBlockCloseMarker"
						}
					]
				},
				{
					"ID": "20241118124010-fmebfja",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20241118124010-fmebfja",
						"style": "width: 33%; flex: 0 0 auto;",
						"updated": "20241118124010"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "​"
						},
						{
							"Type": "NodeImage",
							"Data": "span",
							"Properties": {
								"style": "width: 233px;"
							},
							"Children": [
								{
									"Type": "NodeBang"
								},
								{
									"Type": "NodeOpenBracket"
								},
								{
									"Type": "NodeLinkText",
									"Data": "image"
								},
								{
									"Type": "NodeCloseBracket"
								},
								{
									"Type": "NodeOpenParen"
								},
								{
									"Type": "NodeLinkDest",
									"Data": "assets/image-20241118124010-hn3xsgg.png"
								},
								{
									"Type": "NodeCloseParen"
								}
							]
						},
						{
							"Type": "NodeKramdownSpanIAL",
							"Data": "{: style=\"width: 233px;\"}"
						},
						{
							"Type": "NodeText",
							"Data": "​"
						}
					]
				},
				{
					"Type": "NodeSuperBlockCloseMarker"
				}
			]
		},
		{
			"ID": "20241118124143-fhmy0s8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118124143-fhmy0s8",
				"updated": "20241118124338"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "我们之前写的所有Shader都没有刻意的去设置下列内容："
				}
			]
		},
		{
			"ID": "20241118124339-anb5cud",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20241118124339-anb5cud",
				"updated": "20241118124427"
			},
			"Children": [
				{
					"ID": "20241118124340-zex4p5y",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20241118124340-zex4p5y",
						"updated": "20241118124427"
					},
					"Children": [
						{
							"ID": "20241118124340-b251z5q",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124340-b251z5q",
								"updated": "20241118124427"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "深度测试（默认小于判断）"
								}
							]
						}
					]
				},
				{
					"ID": "20241118124343-ksfvwpi",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20241118124343-ksfvwpi",
						"updated": "20241118124423"
					},
					"Children": [
						{
							"ID": "20241118124343-1lnhbl3",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124343-1lnhbl3",
								"updated": "20241118124423"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "深度写入（默认开启）"
								}
							]
						}
					]
				},
				{
					"ID": "20241118124346-hwcdo6f",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20241118124346-hwcdo6f",
						"updated": "20241118124418"
					},
					"Children": [
						{
							"ID": "20241118124346-6r4ar0z",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124346-6r4ar0z",
								"updated": "20241118124418"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "混合模式（默认不混合）"
								}
							]
						}
					]
				},
				{
					"ID": "20241118124351-ze143j1",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20241118124351-ze143j1",
						"updated": "20241118124412"
					},
					"Children": [
						{
							"ID": "20241118124351-77b4yau",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124351-77b4yau",
								"updated": "20241118124412"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "渲染队列（默认为几何 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "block-ref",
									"TextMarkBlockRefID": "20240612194147-nam567h",
									"TextMarkBlockRefSubtype": "s",
									"TextMarkTextContent": "Geometry"
								},
								{
									"Type": "NodeText",
									"Data": " 队列) 相关内容"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241118124255-xdmi68t",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118124255-xdmi68t",
				"updated": "20241118124440"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "这是因为对于不透明的物体来说，使用默认设置就能够得到正确的渲染效果\n但目前我们将要学习的透明相关知识，就需要对他们进行改变\n其中，处理透明混合时最重要的改变就是：处理透明混合时，"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "需要关闭深度写入"
				}
			]
		},
		{
			"ID": "20241118124431-dc5k0ai",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20241118124431-dc5k0ai",
				"updated": "20241123144118"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "透明混合需要关闭深度写入的原因"
				}
			]
		},
		{
			"ID": "20241118124503-ufly0o6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118124503-ufly0o6",
				"updated": "20241118124523"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在图形学中，模拟出现实世界的 半透明效果 是通过将"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "多个颜色进行混合计算呈现出来的"
				}
			]
		},
		{
			"ID": "20241118124613-isccim5",
			"Type": "NodeSuperBlock",
			"Properties": {
				"id": "20241118124613-isccim5",
				"updated": "20241123143731"
			},
			"Children": [
				{
					"Type": "NodeSuperBlockOpenMarker"
				},
				{
					"Type": "NodeSuperBlockLayoutMarker",
					"Data": "col"
				},
				{
					"ID": "20241122122745-vyrle6i",
					"Type": "NodeSuperBlock",
					"Properties": {
						"id": "20241122122745-vyrle6i",
						"updated": "20241123143731"
					},
					"Children": [
						{
							"Type": "NodeSuperBlockOpenMarker"
						},
						{
							"Type": "NodeSuperBlockLayoutMarker",
							"Data": "row"
						},
						{
							"ID": "20241118124524-hpqakbp",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124524-hpqakbp",
								"updated": "20241123143731"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "举例： 对于右图来说，如果前方的A对象不关闭深度写入，\n那么 B 被 A 遮挡的部分会在深度测试时被舍弃（因为 A 离摄像机更近深度更小）\n那么我们就无法得到被遮挡部分的颜色，也就无法进行颜色的混合计算\n因此我们"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "必须关闭透明物体的深度写入"
								},
								{
									"Type": "NodeText",
									"Data": "，\n"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "让其不会导致被遮挡物体无法通过深度测试从而无法进行颜色混合"
								}
							]
						},
						{
							"ID": "20241122122745-6dkwdk6",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241122122745-6dkwdk6",
								"updated": "20241122124816"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "不过，透明混合在某些情况下也可以开启深度写入，\n它适用于一些特殊的复杂的遮挡情况，但这需要使用至少两个 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "Pass"
								},
								{
									"Type": "NodeText",
									"Data": "​ 通道去处理\n因此，开启深度写入的性能相较于关闭深度写入的透明混合更差\n详见："
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "block-ref",
									"TextMarkBlockRefID": "20241122122716-yk7ji9p",
									"TextMarkBlockRefSubtype": "d",
									"TextMarkTextContent": "US3S3L6——开启深度写入的半透明"
								}
							]
						},
						{
							"Type": "NodeSuperBlockCloseMarker"
						}
					]
				},
				{
					"ID": "20241118124611-2trx8ei",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20241118124611-2trx8ei",
						"style": "width: 33%; flex: 0 0 auto;",
						"updated": "20241118124611"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "​"
						},
						{
							"Type": "NodeImage",
							"Data": "span",
							"Children": [
								{
									"Type": "NodeBang"
								},
								{
									"Type": "NodeOpenBracket"
								},
								{
									"Type": "NodeLinkText",
									"Data": "image"
								},
								{
									"Type": "NodeCloseBracket"
								},
								{
									"Type": "NodeOpenParen"
								},
								{
									"Type": "NodeLinkDest",
									"Data": "assets/image-20241118124611-cpqf0nq.png"
								},
								{
									"Type": "NodeCloseParen"
								}
							]
						},
						{
							"Type": "NodeText",
							"Data": "​"
						}
					]
				},
				{
					"Type": "NodeSuperBlockCloseMarker"
				}
			]
		},
		{
			"ID": "20241121130251-uzwbe0r",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241121130251-uzwbe0r",
				"updated": "20241123144044"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "不过，Unity Shader 的 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "block-ref",
					"TextMarkBlockRefID": "20240612194041-x2l9cdo",
					"TextMarkBlockRefSubtype": "s",
					"TextMarkTextContent": "渲染队列"
				},
				{
					"Type": "NodeText",
					"Data": " 决定了，半透明物体会在不透明物体（几何队列）后渲染，并且会从远到近的渲染\n因此虽然开启深度写入，理论上来说在前面的半透明物体也能够通过深度测试，和颜色缓冲区中的颜色进行混合"
				}
			]
		},
		{
			"ID": "20241123144043-7wz5l2r",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123144043-7wz5l2r",
				"updated": "20241123144043"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "那为何还需要关闭深度写入呢？"
				}
			]
		},
		{
			"ID": "20241123142954-1z9f2by",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123142954-1z9f2by",
				"updated": "20241123144118"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "原因是，在 Unity 中虽然是会从远到近的渲染半透明物体，\n但是这个从远到近，Unity 是基于物体去排序的，即使用物体的中心点排序后决定渲染顺序的先后。\n但是我们"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "在实际渲染时，是基于片元（像素）去渲染的"
				},
				{
					"Type": "NodeText",
					"Data": "，如果两个物体之间存在交叉："
				}
			]
		},
		{
			"ID": "20241123143116-4dtxfsi",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123143116-4dtxfsi",
				"updated": "20241123143317"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "以下图为例，A 和 B 是透明立方体："
				}
			]
		},
		{
			"ID": "20241123143129-elf9vut",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123143129-elf9vut",
				"updated": "20241123143129"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"style": "width: 314px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20241123143129-421nvq6.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 314px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20241123143142-3yhpwz1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123143142-3yhpwz1",
				"updated": "20241123143250"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "这张图中，B 在 A 之后，Unity 根据物体的中心点去决定谁先渲染，那么 B 离摄像机更远会先渲染，A 离摄像机更近会后渲染\n但是实际上，AB 的重合部分，明显 B 的一些片元（像素）是在 A 之前的。\n如果这时我们开启深度写入，渲染的结果就会出现一些问题，如下图："
				}
			]
		},
		{
			"ID": "20241123143300-q0s7ixu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123143300-q0s7ixu",
				"updated": "20241123143300"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"style": "width: 341px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20241123143300-3h4xvwh.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 341px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20241123143521-f4p6j7m",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123143521-f4p6j7m",
				"updated": "20241123143640"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "可见，A 处于 B 后边的片元，因为没有通过深度测试，从而被抛弃，导致出现 A 的一部分直接消失了"
				}
			]
		},
		{
			"ID": "20241123143324-eu6nr2a",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123143324-eu6nr2a",
				"updated": "20241123143330"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "如果关闭深度写入会得到以下结果："
				}
			]
		},
		{
			"ID": "20241123143336-t6a54vn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123143336-t6a54vn",
				"updated": "20241123143336"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"style": "width: 338px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20241123143336-96c5pqx.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 338px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20241123143648-orhnxua",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123143648-orhnxua",
				"updated": "20241123143747"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "可见，这时 A 不再会因为 B 进行了深度写入而出现深度测试不通过的情况"
				}
			]
		},
		{
			"ID": "20241123143341-vohc14p",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123143341-vohc14p",
				"updated": "20241123143348"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "虽然关闭深度写入也不能完美解决渲染问题，但是关闭深度写入得到的结果是更接近于我们想要的结果的。"
				}
			]
		},
		{
			"ID": "20241123143356-oc8zn01",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123143356-oc8zn01",
				"updated": "20241123143502"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "因此关闭深度写入的主要目的简而言之就是：\n传统的半透明混合总是会在物体交叉、渲染重叠的情况下，出现错误的混合效果。\n如果开启深度写入，会令到渲染错误很明显，而关掉的话影响较小一点。"
				}
			]
		},
		{
			"ID": "20241118124637-g037w2y",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20241118124637-g037w2y",
				"updated": "20241118125313"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "关闭深度写入带来的问题"
				}
			]
		},
		{
			"ID": "20241118124734-4cbvoiq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118124734-4cbvoiq",
				"updated": "20241118124810"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "若关闭深度写入，那么物体的渲染顺序就会变得非常的重要！谁先被渲染，谁后被渲染都会影响最终的呈现效果"
				}
			]
		},
		{
			"ID": "20241118124747-f8eitu6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118124747-f8eitu6",
				"updated": "20241118124750"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "举例说明"
				}
			]
		},
		{
			"ID": "20241118124750-5q9mecc",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20241118124750-5q9mecc",
				"updated": "20241118124750"
			},
			"Children": [
				{
					"ID": "20241118124750-hc4ez1m",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20241118124750-hc4ez1m",
						"updated": "20241118124750"
					},
					"Children": [
						{
							"ID": "20241118124750-l92srjj",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124750-l92srjj",
								"updated": "20241118124753"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "事例一：两个物体 A为半透明物体 B为不透明物体\n"
								}
							]
						},
						{
							"ID": "20241118124827-13flopl",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124827-13flopl",
								"style": "width: 33%; flex: 0 0 auto;",
								"updated": "20241118124827"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeImage",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20241118124827-97vtyl2.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"ID": "20241118124755-2iz0gqw",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124755-2iz0gqw",
								"updated": "20241118124755"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "两种可能的渲染顺序"
								}
							]
						},
						{
							"ID": "20241118124805-fh6fxoq",
							"Type": "NodeList",
							"ListData": {},
							"Properties": {
								"id": "20241118124805-fh6fxoq",
								"updated": "20241118124806"
							},
							"Children": [
								{
									"ID": "20241118124806-a2ku0f3",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20241118124806-a2ku0f3",
										"updated": "20241118124806"
									},
									"Children": [
										{
											"ID": "20241118124806-uzyqms2",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20241118124806-uzyqms2",
												"updated": "20241118124806"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "第一种：先渲染B，再渲染A，可以得到正确的半透明效果\n"
												}
											]
										}
									]
								},
								{
									"ID": "20241118124807-trx9r8b",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20241118124807-trx9r8b",
										"updated": "20241118124807"
									},
									"Children": [
										{
											"ID": "20241118124807-acracx1",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20241118124807-acracx1",
												"updated": "20241118124807"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "第二种：先渲染A，再渲染B，只会看到B的颜色"
												}
											]
										}
									]
								}
							]
						},
						{
							"ID": "20241118124758-tpiy334",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124758-tpiy334",
								"updated": "20241118124800"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "从这个例子我们看出，想要得到正确的半透明混合效果，需要先渲染不透明物体，再渲染透明物体"
								}
							]
						}
					]
				},
				{
					"ID": "20241118124853-2jqc351",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20241118124853-2jqc351",
						"updated": "20241118124853"
					},
					"Children": [
						{
							"ID": "20241118124853-czq3s2a",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124853-czq3s2a",
								"updated": "20241118124920"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "事例二：两个物体 A B 都为半透明物体"
								}
							]
						},
						{
							"ID": "20241118125018-drj3l1w",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118125018-drj3l1w",
								"updated": "20241118125018"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeImage",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20241118125018-b4s6tmz.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"ID": "20241118124923-2xhx6jp",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124923-2xhx6jp",
								"updated": "20241118124929"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "两种可能的渲染顺序 "
								}
							]
						},
						{
							"ID": "20241118124932-t0aghp7",
							"Type": "NodeList",
							"ListData": {},
							"Properties": {
								"id": "20241118124932-t0aghp7",
								"updated": "20241118124934"
							},
							"Children": [
								{
									"ID": "20241118124934-43vb6jg",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20241118124934-43vb6jg",
										"updated": "20241118124934"
									},
									"Children": [
										{
											"ID": "20241118124934-agri2ae",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20241118124934-agri2ae",
												"updated": "20241118124937"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "第一种：先渲染B，再渲染A，得到正确的半透明效果"
												}
											]
										}
									]
								},
								{
									"ID": "20241118124937-3n483ts",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20241118124937-3n483ts",
										"updated": "20241118124937"
									},
									"Children": [
										{
											"ID": "20241118124937-y5utmao",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20241118124937-y5utmao",
												"updated": "20241118125238"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "第二种：先渲染A，再渲染B，得到B在前的错误的半透明效果"
												}
											]
										}
									]
								}
							]
						},
						{
							"ID": "20241118124939-mck8mgy",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118124939-mck8mgy",
								"updated": "20241118124948"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "从这个例子我们看出，想要得到正确的半透明混合效果，半透明物体之间也需要正确的渲染顺序才能得到正确结果"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241118125245-yyny1u6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118125245-yyny1u6",
				"updated": "20241118125313"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "通过这两个事例我们知道，当关闭了深度写入后带来的最大问题是"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "物体的渲染顺序会直接影响最终的渲染效果"
				},
				{
					"Type": "NodeText",
					"Data": "\n如果先渲染没有开启深度写入的前面的物体，之后渲染后面的物体就会将前面物体的颜色覆盖，或出现错误前后关系表现"
				}
			]
		},
		{
			"ID": "20241118124836-x1e1x5q",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20241118124836-x1e1x5q",
				"updated": "20241118130203"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "如何解决渲染顺序带来的问题"
				}
			]
		},
		{
			"ID": "20241118125331-mz2c9jh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118125331-mz2c9jh",
				"updated": "20241118125348"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "为了解决渲染顺序带来的问题，大部分的渲染引擎采取的方式都是先对场景上的物体进行排序，然后再渲染"
				}
			]
		},
		{
			"ID": "20241118125351-k1ccpw6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118125351-k1ccpw6",
				"updated": "20241118125351"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "常规方法为："
				}
			]
		},
		{
			"ID": "20241118125334-et44dc8",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20241118125334-et44dc8",
				"updated": "20241118125739"
			},
			"Children": [
				{
					"ID": "20241118125338-b5e0ez9",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20241118125338-b5e0ez9",
						"updated": "20241118125440"
					},
					"Children": [
						{
							"ID": "20241118125338-0q0qko7",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118125338-0q0qko7",
								"updated": "20241118125440"
							},
							"Children": [
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "先渲染所有不透明物体，并开启不透明物体的深度测试和深度写入"
								}
							]
						}
					]
				},
				{
					"ID": "20241118125338-le4l7of",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20241118125338-le4l7of",
						"updated": "20241118125739"
					},
					"Children": [
						{
							"ID": "20241118125338-fb3rp3x",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118125338-fb3rp3x",
								"updated": "20241118125739"
							},
							"Children": [
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "将半透明物体（基于物体中心点，而非片元）按照离摄像机的远近进行排序，然后从后往前的顺序渲染它们，开启深度测试关闭深度写入"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241118125357-ljs6mkb",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118125357-ljs6mkb",
				"updated": "20241118125528"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "这样做的目的，是保证靠后的物体颜色能先直接进入颜色缓冲区或混合后进入颜色缓冲区\n就不会出现之前两个事例当中，由于先渲染前面的物体导致结果出现问题"
				}
			]
		},
		{
			"ID": "20241118125445-1y07syf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118125445-1y07syf",
				"updated": "20241118130536"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "但是，这种方法能解决大部分的渲染情况，一些特殊情况是不好处理的，以下图为例："
				}
			]
		},
		{
			"ID": "20241118125657-a3bq8xs",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118125657-a3bq8xs",
				"updated": "20241118125657"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"style": "width: 451px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20241118125657-acakkhu.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 451px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20241118125741-eei3jf8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118125741-eei3jf8",
				"updated": "20241118130512"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "以右图为例，A物体的中心点稍微更接近摄像机一些，但是实际上是B遮挡住了A的一部分，\n如果按照上边的常规方法，那么实际上会先渲染A，再渲染B，这就会出现A在前的错误半透明效果"
				}
			]
		},
		{
			"ID": "20241118130139-6yfbbd7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241118130139-6yfbbd7",
				"updated": "20241118130148"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "这种情况的解决方法是："
				}
			]
		},
		{
			"ID": "20241118130149-cyu9hwq",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20241118130149-cyu9hwq",
				"updated": "20241118130203"
			},
			"Children": [
				{
					"ID": "20241118130203-i4jdn8y",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20241118130203-i4jdn8y",
						"updated": "20241118130203"
					},
					"Children": [
						{
							"ID": "20241118130203-p30lw5n",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118130203-p30lw5n",
								"updated": "20241118130203"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "忍一忍，接受部分细节的小瑕疵"
								}
							]
						}
					]
				},
				{
					"ID": "20241118130203-8exm4eg",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20241118130203-8exm4eg",
						"updated": "20241118130323"
					},
					"Children": [
						{
							"ID": "20241118130203-j8b5v51",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118130203-j8b5v51",
								"updated": "20241118130323"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "从模型入手：拆分模型，将被遮挡的部分从原来的模型出切分开，例如将上图A的被遮挡部分切割出模型A"
								}
							]
						}
					]
				},
				{
					"ID": "20241118130203-cd6aqxe",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20241118130203-cd6aqxe",
						"updated": "20241118130203"
					},
					"Children": [
						{
							"ID": "20241118130203-kzyimik",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241118130203-kzyimik",
								"updated": "20241118130203"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "使用开启深度写入的半透明效果来模拟半透明（性能消耗较高）"
								}
							]
						}
					]
				}
			]
		}
	]
}