{
	"ID": "20241123152553-jdxdn9i",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20241123152553-jdxdn9i",
		"title": "US3S4L3——顶点照明渲染路径",
		"type": "doc",
		"updated": "20241123165733"
	},
	"Children": [
		{
			"ID": "20241123152553-x624hcj",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20241123152553-x624hcj",
				"updated": "20241123165733"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "顶点照明渲染路径"
				}
			]
		},
		{
			"ID": "20241123165442-7csij83",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20241123165442-7csij83",
				"updated": "20241123165446"
			},
			"Children": [
				{
					"ID": "20241123165446-etmjp3a",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20241123165446-etmjp3a",
						"updated": "20241123165446"
					},
					"Children": [
						{
							"ID": "20241123165446-y7s54lo",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123165446-y7s54lo",
								"updated": "20241123165449"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "顶点照明渲染路径处理光照的方式\n"
								}
							]
						},
						{
							"ID": "20241123165459-77j2fpr",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123165459-77j2fpr",
								"updated": "20241123165525"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "基本思想就是所有的光都按照逐顶点的方式进行计算的，\n在内置渲染管线中，它只会最多记录8个光源的数据，只会将光相关的数据填充到那些逐顶点相关的内置光源变量"
								}
							]
						}
					]
				},
				{
					"ID": "20241123165452-sgn67j1",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20241123165452-sgn67j1",
						"updated": "20241123165452"
					},
					"Children": [
						{
							"ID": "20241123165452-0n5ktu3",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123165452-0n5ktu3",
								"updated": "20241123165455"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "顶点照明渲染路径在哪里进行光照计算：在一个Pass当中按照逐顶点的方式一次性对所有光照去进行计算"
								}
							]
						}
					]
				},
				{
					"ID": "20241123165449-zgf4h92",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20241123165449-zgf4h92",
						"updated": "20241123165449"
					},
					"Children": [
						{
							"ID": "20241123165449-sr9b7pe",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123165449-sr9b7pe",
								"updated": "20241123165449"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "顶点照明渲染路径的内置光照变量和函数\n"
								}
							]
						},
						{
							"ID": "20241123165507-er5i70h",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123165507-er5i70h",
								"updated": "20241123165515"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "我们完全可以直接调用内置函数 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "ShadeVertexLights"
								},
								{
									"Type": "NodeText",
									"Data": "​ 或 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "ShadeVertexLightsFull"
								},
								{
									"Type": "NodeText",
									"Data": "​，就可以完成对所有光源的逐顶点统一计算"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123164155-y7n3yxk",
			"Type": "NodeBlockquote",
			"Properties": {
				"id": "20241123164155-y7n3yxk",
				"style": "background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);",
				"updated": "20241123165733"
			},
			"Children": [
				{
					"Type": "NodeBlockquoteMarker",
					"Data": "\u003e"
				},
				{
					"ID": "20241123164155-qyzuow9",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20241123164155-qyzuow9",
						"updated": "20241123164201"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "注意：顶点照明渲染路径使用场景较少，只做了解"
						}
					]
				}
			]
		},
		{
			"ID": "20241123165616-ae2r5x4",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20241123165616-ae2r5x4",
				"updated": "20241123165624"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "顶点照明渲染路径的方式"
				}
			]
		},
		{
			"ID": "20241123164111-urf5h98",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123164111-urf5h98",
				"updated": "20241123164248"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "顶点照明渲染路径仅仅是前向渲染路径的一个子集，所有在顶点照明渲染路径中能实现的效果都可以在前向渲染路径中实现\n它对硬件配置要求最少、运算性能最高，但是效果是最差的，它不支持那些逐像素才能得到的效果，比如阴影、法线纹理、高精度高光反射等\n"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "它的基本思想就是所有的光都按照逐顶点的方式进行计算"
				},
				{
					"Type": "NodeText",
					"Data": "，在内置渲染管线中，它只会最多记录8个光源的数据，会根据光源类型、强度、距离等因素来决定"
				}
			]
		},
		{
			"ID": "20241123164148-29tgt9n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123164148-29tgt9n",
				"updated": "20241123164151"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Unity 中的顶点照明渲染路径只会将光相关的数据填充到那些逐顶点相关的内置光源变量中，意味着我们不能像前向渲染路径中那样使用逐像素相关的内置变量"
				}
			]
		},
		{
			"ID": "20241123164204-7fir5ff",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20241123164204-7fir5ff",
				"updated": "20241123164631"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "顶点照明渲染路径在哪里进行光照计算"
				}
			]
		},
		{
			"ID": "20241123164404-uovqwy2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123164404-uovqwy2",
				"updated": "20241123164514"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "顶点照明渲染路径进行光照计算，是在 Shader 当中的 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "Pass"
				},
				{
					"Type": "NodeText",
					"Data": "​ 渲染通道中进行计算。顶点照明渲染路径通常在一个 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "Pass"
				},
				{
					"Type": "NodeText",
					"Data": "​ 当中就可以完成对物体的渲染。"
				}
			]
		},
		{
			"ID": "20241123164420-qpd86nh",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20241123164420-qpd86nh",
				"style": "line-height: 22px;",
				"updated": "20241123164558"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "Yw=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "Pass\n{\n    // 渲染路径为顶点照明是，光模式设置为 Vertex 顶点\n    Tags { \"LightMode\" = \"Vertex\" }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20241123164600-bmre1av",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123164600-bmre1av",
				"updated": "20241123164621"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在这个 Pass 当中我们会计算我们关心的所有光源对该物体的影响，并且会按照逐顶点的方式一次性对所有光照去进行计算\n因此它是 Unity 内置渲染管线当中最快速的渲染路径，并且具有最广泛的硬件支持，只是相对来说渲染效果最差"
				}
			]
		},
		{
			"ID": "20241123164631-4g8hn3b",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20241123164631-4g8hn3b",
				"updated": "20241123164632"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "顶点照明渲染路径的内置光照变量和函数"
				}
			]
		},
		{
			"ID": "20241123164658-g0xy1n0",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20241123164658-g0xy1n0",
				"updated": "20241123165212"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "常用内置光照变量"
				}
			]
		},
		{
			"ID": "20241123164658-kw4l6kg",
			"Type": "NodeTable",
			"TableAligns": [
				0,
				0,
				0
			],
			"Properties": {
				"colgroup": "min-width: 60px;|min-width: 60px;|min-width: 60px;",
				"id": "20241123164658-kw4l6kg",
				"updated": "20241123165212"
			},
			"Children": [
				{
					"Type": "NodeTableHead",
					"Data": "thead",
					"Children": [
						{
							"Type": "NodeTableRow",
							"Data": "tr",
							"Children": [
								{
									"Type": "NodeTableCell",
									"Data": "th",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "变量名"
										}
									]
								},
								{
									"Type": "NodeTableCell",
									"Data": "th",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "类型"
										}
									]
								},
								{
									"Type": "NodeTableCell",
									"Data": "th",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "描述"
										}
									]
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "unity_LightColor"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "half4[8]"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "光源颜色，最多8个，光源小于8个时，数组中多出的颜色会默认设置为黑色"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "unity_LightPosition"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "float4[8]"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "xyz"
								},
								{
									"Type": "NodeText",
									"Data": "​ 是视角空间中光源的位置。如果光源是平行光，那么 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "w"
								},
								{
									"Type": "NodeText",
									"Data": "​ 分量值为0，其他光源类型 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "w"
								},
								{
									"Type": "NodeText",
									"Data": "​ 分量值为1"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "unity_LightAtten"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "half4[8]"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "光源衰减因子。"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								},
								{
									"Type": "NodeText",
									"Data": "如果光源是聚光灯，"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "x"
								},
								{
									"Type": "NodeText",
									"Data": "​ 分量为 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "inline-math",
									"TextMarkInlineMathContent": "\\cos{(\\frac{spotAngle}{2})}"
								},
								{
									"Type": "NodeText",
									"Data": "，"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "y"
								},
								{
									"Type": "NodeText",
									"Data": "​ 分量为 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "inline-math",
									"TextMarkInlineMathContent": "\\frac{1}{cos(spotAngle/4)}"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								},
								{
									"Type": "NodeText",
									"Data": "如果是其他类型的光源，"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "x"
								},
								{
									"Type": "NodeText",
									"Data": "​ 分量为 -1，"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "y"
								},
								{
									"Type": "NodeText",
									"Data": "​ 分量为1。"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "z"
								},
								{
									"Type": "NodeText",
									"Data": "​ 分量是衰减的平方，"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "w"
								},
								{
									"Type": "NodeText",
									"Data": "​ 分量是光源范围开根号结果"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "unity_SpotDirection"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "float4[8]"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "如果光源是聚光灯，值为视角空间的聚光灯位置"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								},
								{
									"Type": "NodeText",
									"Data": "如果是其他类型光源，值为 (0,0,1,0)"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123164658-ig3m963",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20241123164658-ig3m963",
				"updated": "20241123165422"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "常用内置光照函数"
				}
			]
		},
		{
			"ID": "20241123164658-voamzqb",
			"Type": "NodeTable",
			"TableAligns": [
				0,
				0
			],
			"Properties": {
				"colgroup": "width: 716px;|width: 431px;",
				"id": "20241123164658-voamzqb",
				"updated": "20241123165422"
			},
			"Children": [
				{
					"Type": "NodeTableHead",
					"Data": "thead",
					"Children": [
						{
							"Type": "NodeTableRow",
							"Data": "tr",
							"Children": [
								{
									"Type": "NodeTableCell",
									"Data": "th",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "函数名"
										}
									]
								},
								{
									"Type": "NodeTableCell",
									"Data": "th",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "描述"
										}
									]
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "float3 ShadeVertexLights(float4 vertex, float3normal)"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "输入模型空间中的顶点和法线，计算四个逐顶点光源的光照以及环境光。"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "float3 ShadeVertexLightsFull(float4 v, float3normal, int lightCount, bool spotLight)"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "输入模型空间中的顶点位置和法线，计算 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "lightCount"
								},
								{
									"Type": "NodeText",
									"Data": "​ 个光源的光照以及环境光。"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								},
								{
									"Type": "NodeText",
									"Data": "如果 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "spotLight"
								},
								{
									"Type": "NodeText",
									"Data": "​ 为 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "true"
								},
								{
									"Type": "NodeText",
									"Data": "​，那么这些光源会被当成聚光灯来处理（结果更精准， 但计算更耗时），否则，按点光源处理"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123165412-htpkyc8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123165412-htpkyc8",
				"updated": "20241123165412"
			}
		}
	]
}