{
	"ID": "20241123152542-z1g01al",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20241123152542-z1g01al",
		"title": "US3S4L2——前向渲染路径",
		"type": "doc",
		"updated": "20241123164448"
	},
	"Children": [
		{
			"ID": "20241123152542-ooczey6",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20241123152542-ooczey6",
				"updated": "20241123163953"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "前向渲染路径"
				}
			]
		},
		{
			"ID": "20241123163811-3db8628",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20241123163811-3db8628",
				"updated": "20241123163904"
			},
			"Children": [
				{
					"ID": "20241123163838-o1u4l70",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20241123163838-o1u4l70",
						"updated": "20241123163904"
					},
					"Children": [
						{
							"ID": "20241123163838-tawzsxy",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123163838-tawzsxy",
								"updated": "20241123163838"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "前向渲染路径处理光照的方式\n"
								}
							]
						},
						{
							"ID": "20241123163859-0e1rzi1",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123163859-0e1rzi1",
								"updated": "20241123163904"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "有一套划分光源 “三六九等” 的规则，将光源分成了高中低三种身份，主要通过灯光渲染模式、项目质量设置中的像素灯光计数的数量、光照强度、距离物体距离来综合判定"
								}
							]
						}
					]
				},
				{
					"ID": "20241123163841-22o762n",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20241123163841-22o762n",
						"updated": "20241123163841"
					},
					"Children": [
						{
							"ID": "20241123163841-1w9ln8r",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123163841-1w9ln8r",
								"updated": "20241123163845"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "前向渲染路径在哪里进行光照计算"
								}
							]
						},
						{
							"ID": "20241123163845-i9ckuap",
							"Type": "NodeList",
							"ListData": {},
							"Properties": {
								"id": "20241123163845-i9ckuap",
								"updated": "20241123163845"
							},
							"Children": [
								{
									"ID": "20241123163845-ucte1lr",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20241123163845-ucte1lr",
										"updated": "20241123163845"
									},
									"Children": [
										{
											"ID": "20241123163845-c1nx9v4",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20241123163845-c1nx9v4",
												"updated": "20241123163848"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "Base Pass（基础渲染通道）：主要用于处理影响该物体的一个高质量光源（平行光）、所有中（逐顶点处理）低质量（SH处理）光源等"
												}
											]
										}
									]
								},
								{
									"ID": "20241123163846-4njk9mo",
									"Type": "NodeListItem",
									"ListData": {
										"BulletChar": 42,
										"Marker": "Kg=="
									},
									"Properties": {
										"id": "20241123163846-4njk9mo",
										"updated": "20241123163846"
									},
									"Children": [
										{
											"ID": "20241123163846-gf3ifzd",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20241123163846-gf3ifzd",
												"updated": "20241123163849"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "Additional Pass（附加渲染通道）：主要用于处理影响该物体的除平行光以外的其它高质量光源（每个高质量光源都会调用）"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20241123163842-n1txyae",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20241123163842-n1txyae",
						"updated": "20241123163842"
					},
					"Children": [
						{
							"ID": "20241123163842-pwyp7d2",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123163842-pwyp7d2",
								"updated": "20241123163842"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "前向渲染路径的内置光照变量和函数\n"
								}
							]
						},
						{
							"ID": "20241123163853-fnqe5bz",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123163853-fnqe5bz",
								"updated": "20241123163855"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "有了内置光照变量，我们便可以获取到前向渲染路径当中，对渲染质量有不同要求的光源们的相关数据，利用这些数据和函数在Base Pass（基础渲染通道）和 Additional Pass（附加渲染通道）中按照需求进行相关的逻辑处理即可"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123163758-77upzo0",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20241123163758-77upzo0",
				"updated": "20241123163953"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "前向渲染路径对处理光源的方式"
				}
			]
		},
		{
			"ID": "20241123152618-9ktw5k7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123152618-9ktw5k7",
				"updated": "20241123153049"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "前向渲染路径中会将光源分为以下 3 种处理方式："
				}
			]
		},
		{
			"ID": "20241123152914-m8vesxw",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20241123152914-m8vesxw",
				"updated": "20241123152914"
			},
			"Children": [
				{
					"ID": "20241123152914-eeyx1mn",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20241123152914-eeyx1mn",
						"updated": "20241123152914"
					},
					"Children": [
						{
							"ID": "20241123152914-r2ugdne",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123152914-r2ugdne",
								"updated": "20241123152914"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "逐像素处理（需要高等质量处理的光）"
								}
							]
						}
					]
				},
				{
					"ID": "20241123152914-bg6ha89",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20241123152914-bg6ha89",
						"updated": "20241123152914"
					},
					"Children": [
						{
							"ID": "20241123152914-l191d91",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123152914-l191d91",
								"updated": "20241123152914"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "逐顶点处理（需要中等质量处理的光）"
								}
							]
						}
					]
				},
				{
					"ID": "20241123152914-hh0pv4z",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20241123152914-hh0pv4z",
						"updated": "20241123152914"
					},
					"Children": [
						{
							"ID": "20241123152914-d4ersfw",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123152914-d4ersfw",
								"updated": "20241123152914"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "球谐函数（SH）处理（需要低等质量处理的光）"
								}
							]
						},
						{
							"ID": "20241123153020-wbiw1wi",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123153020-wbiw1wi",
								"updated": "20241123153029"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "其中，球谐函数处理光照的方式是将光照场景投影到球谐函数的空间中，通过一组球谐系数来表示光照。\n这是一种内存换性能的方式，细节表现效果差，但是性能最佳（不需要我们自己书写，Unity底层会帮助我们进行处理）"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123153107-buumco1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123153107-buumco1",
				"updated": "20241123160911"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "这里说的处理方式，主要是针对三种质量类型的光的处理方式，具体处理这三类光源的时候，不一定非要按照上述描述的方式处理光照，\n例如，高等质量处理的光实际也可以使用逐顶点光照处理，中等质量处理的光实际也可以使用逐像素光照处理\n也就是说，这里所说的处理方式更多是"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "对光源进行处理类型的划分"
				},
				{
					"Type": "NodeText",
					"Data": "，而非实际对光源的处理方式，所谓逐像素、逐顶点、SH 处理只是期望的处理方式"
				}
			]
		},
		{
			"ID": "20241123153404-qu6uslp",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20241123153404-qu6uslp",
				"updated": "20241123163953"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "场景当中的各种光源采用哪种处理方式"
				}
			]
		},
		{
			"ID": "20241123153452-9np7tpn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123153452-9np7tpn",
				"updated": "20241123153457"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在前向渲染中，一部分最亮的灯光以逐像素处理，然后4个点光源以逐顶点方式处理，其余的灯光以SH处理"
				}
			]
		},
		{
			"ID": "20241123153501-cw6zdlt",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123153501-cw6zdlt",
				"updated": "20241123153516"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "一个光源是逐像素、逐顶点还是SH处理主要取决于以下几点："
				}
			]
		},
		{
			"ID": "20241123153802-0827d9s",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123153802-0827d9s",
				"updated": "20241123154547"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "下面提到的渲染模式都是指的光源组件 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code block-ref",
					"TextMarkBlockRefID": "20230709200536-yy6ragq",
					"TextMarkBlockRefSubtype": "s",
					"TextMarkTextContent": "Light"
				},
				{
					"Type": "NodeText",
					"Data": "​ 的 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "block-ref",
					"TextMarkBlockRefID": "20240321164447-ancimfx",
					"TextMarkBlockRefSubtype": "s",
					"TextMarkTextContent": "Render Mode"
				},
				{
					"Type": "NodeText",
					"Data": " - 渲染模式 属性："
				}
			]
		},
		{
			"ID": "20241123153927-h40yw6s",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123153927-h40yw6s",
				"updated": "20241123154105"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"style": "width: 267px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20241123154007-c3qcbs8.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 267px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20241123153516-2fkqz23",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20241123153516-2fkqz23",
				"updated": "20241123154227"
			},
			"Children": [
				{
					"ID": "20241123153516-9rrlzz1",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20241123153516-9rrlzz1",
						"updated": "20241123153516"
					},
					"Children": [
						{
							"ID": "20241123153516-x58da6r",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123153516-x58da6r",
								"updated": "20241123154139"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "光源的 渲染模式 设置为 Not Important（不重要）的灯光始终以逐顶点或者SH的方式渲染"
								}
							]
						}
					]
				},
				{
					"ID": "20241123153516-656llye",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20241123153516-656llye",
						"updated": "20241123153516"
					},
					"Children": [
						{
							"ID": "20241123153516-hdlkkha",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123153516-hdlkkha",
								"updated": "20241123154133"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "光源的 渲染模式 设置为 Important（重要）的灯光始终是逐像素渲染"
								}
							]
						}
					]
				},
				{
					"ID": "20241123153516-4y3l7px",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20241123153516-4y3l7px",
						"updated": "20241123153516"
					},
					"Children": [
						{
							"ID": "20241123153516-ba8qliy",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123153516-ba8qliy",
								"updated": "20241123153516"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "最亮的平行光总是逐像素渲染"
								}
							]
						}
					]
				},
				{
					"ID": "20241123153516-sjyeqdp",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NC4=",
						"Num": 4
					},
					"Properties": {
						"id": "20241123153516-sjyeqdp",
						"updated": "20241123154227"
					},
					"Children": [
						{
							"ID": "20241123153516-ecvporo",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123153516-ecvporo",
								"updated": "20241123154146"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "如果逐像素光照的灯光数量少于项目质量设置中的 Pixel Light Count（像素灯光计数）的数量，那么其余比较亮的灯光将会被逐像素渲染"
								}
							]
						},
						{
							"ID": "20241123154227-sd6envu",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123154227-sd6envu",
								"updated": "20241123154227"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeImage",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20241123154227-17rngqf.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123153512-2sc1rx5",
			"Type": "NodeBlockquote",
			"Properties": {
				"id": "20241123153512-2sc1rx5",
				"style": "background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);",
				"updated": "20241123154423"
			},
			"Children": [
				{
					"Type": "NodeBlockquoteMarker",
					"Data": "\u003e"
				},
				{
					"ID": "20241123153620-aaelhyn",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20241123153620-aaelhyn",
						"updated": "20241123154423"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "注意：如果光源的 渲染模式 设置为 Auto (自动)，Unity 会根据灯光的亮度以及与物体的距离自动判断重要性"
						}
					]
				}
			]
		},
		{
			"ID": "20241123153625-mr5hrwj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123153625-mr5hrwj",
				"updated": "20241123154538"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "举例说明：如下图，A"
				},
				{
					"Type": "NodeBackslash",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeText",
							"Data": "~"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "H 是 8 个具有相同的颜色和强度的光源，并且光源渲染模式都是 Auto(自动) 的"
				}
			]
		},
		{
			"ID": "20241123154522-6jkxrvx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123154522-6jkxrvx",
				"updated": "20241123154522"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20241123154522-5f5dfrx.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20241123155021-ch4a515",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123155021-ch4a515",
				"updated": "20241123155537"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "A"
				},
				{
					"Type": "NodeBackslash",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeText",
							"Data": "~"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "H 具有相同的颜色和强度，而和中间接受光照的物体距离则逐渐变大，因此对于中间的受光照的对象来说， A"
				},
				{
					"Type": "NodeBackslash",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeText",
							"Data": "~"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "H 的亮度是由高变低的"
				}
			]
		},
		{
			"ID": "20241123154750-u8ul3zf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123154750-u8ul3zf",
				"updated": "20241123155241"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "其中最亮的光源以逐像素光照模式渲染（A"
				},
				{
					"Type": "NodeBackslash",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeText",
							"Data": "~"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "D），然后最多4个光源以逐顶点光照模式渲染（D"
				},
				{
					"Type": "NodeBackslash",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeText",
							"Data": "~"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "G），最后剩下的光源以SH模式渲染（G"
				},
				{
					"Type": "NodeBackslash",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeText",
							"Data": "~"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "H）"
				}
			]
		},
		{
			"ID": "20241123154748-j9fmy1p",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123154748-j9fmy1p",
				"updated": "20241123154748"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20241123154748-n4d9o7i.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20241123154840-m2m98x5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123154840-m2m98x5",
				"updated": "20241123154951"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "其中，灯光 D 既是逐像素也是逐顶点处理，灯光 G 既是逐顶点也是SH处理，\n这是因为物体移动或灯光移动时，不同渲染模式的"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "灯光交界处"
				},
				{
					"Type": "NodeText",
					"Data": "会出现明显瑕疵，\n为了避免该问题，Unity 将不同灯光组之间进行了重叠"
				}
			]
		},
		{
			"ID": "20241123154952-5x8tu54",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123154952-5x8tu54",
				"updated": "20241123155641"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "简而言之："
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "Unity 中有一套划分光源“三六九等”的规则，主要通过光源渲染模式、光照强度、距离物体距离、项目质量设置中像素灯光计数的数量来综合判定"
				}
			]
		},
		{
			"ID": "20241123155411-c12d6jp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123155411-c12d6jp",
				"updated": "20241123160828"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在前向渲染路径中会将光源分成所谓的逐像素（高质量）、逐顶点（中质量）、SH（低质量）三种处理类型，\n因此有了对光源的”高中低”的身份认知，（具体如何处理这三类光源不一定是按照处理类型名字描述的方式来处理）\nUnity 底层就可以将这些光源的数据存储到 Shader 中对应的内置变量中，我们就可以通过这些内置变量获取到对应“身份”的光源数据，从而进行差异化的处理"
				}
			]
		},
		{
			"ID": "20241123155938-gvynswn",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20241123155938-gvynswn",
				"updated": "20241123164448"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "前向渲染路径的光照计算实现位置"
				}
			]
		},
		{
			"ID": "20241123155921-5cgx8dm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123155921-5cgx8dm",
				"updated": "20241123164448"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "前向渲染路径进行光照计算，是在Shader当中的 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "Pass"
				},
				{
					"Type": "NodeText",
					"Data": "​ 渲染通道中进行计算。\n但是对于前向渲染来说，有两种 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "Pass"
				},
				{
					"Type": "NodeText",
					"Data": "​ 可以用来进行光照处理："
				}
			]
		},
		{
			"ID": "20241123160004-32cvnq1",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20241123160004-32cvnq1",
				"updated": "20241123160225"
			},
			"Children": [
				{
					"ID": "20241123160004-0r5n9zr",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20241123160004-0r5n9zr",
						"updated": "20241123160225"
					},
					"Children": [
						{
							"ID": "20241123160004-ozcc5it",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123160004-ozcc5it",
								"updated": "20241123160004"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "Base Pass（基础渲染通道）\n"
								}
							]
						},
						{
							"ID": "20241123160005-ldncrmv",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123160005-ldncrmv",
								"updated": "20241123160225"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "渲染物体的主要光照通道，用于处理主要的光照效果，"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "主要用于计算逐像素的平行光以及所有逐顶点和SH光源"
								},
								{
									"Type": "NodeText",
									"Data": "\n可实现的效果：漫反射、高光反射、自发光、阴影、光照纹理等"
								}
							]
						},
						{
							"ID": "20241123160036-owzvcms",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20241123160036-owzvcms",
								"style": "line-height: 22px;",
								"updated": "20241123160108"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "Pass\n{\n    // Base Pass\n    Tags { \"LightMode\" = \"ForwardBase\" }\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				},
				{
					"ID": "20241123160004-lg3wng4",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20241123160004-lg3wng4",
						"updated": "20241123160218"
					},
					"Children": [
						{
							"ID": "20241123160004-631aoh3",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123160004-631aoh3",
								"updated": "20241123160004"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "Additional Pass（附加渲染通道）\n"
								}
							]
						},
						{
							"ID": "20241123160010-v8wjkek",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123160010-v8wjkek",
								"updated": "20241123160218"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "渲染物体额外的光照通道，用于处理一些附加的光照效果，"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "主要用于计算其他影响物体的逐像素光源"
								},
								{
									"Type": "NodeText",
									"Data": "\n每个光源都会执行一次该 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "Pass"
								},
								{
									"Type": "NodeText",
									"Data": "​，可实现的效果：描边、轮廓、辉光等"
								}
							]
						},
						{
							"ID": "20241123160113-pauh2e7",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20241123160113-pauh2e7",
								"style": "line-height: 22px;",
								"updated": "20241123160151"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "Yw=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "Pass\n{\n    // Additional Pass\n    Tags { \"LightMode\" = \"ForwardAdd\" }\n    Blend One One\t// 用于和其他光照颜色进行混合叠加\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123160304-vugpzxi",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123160304-vugpzxi",
				"updated": "20241123160454"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "对于一个前向渲染路径下的 Unity Shader，通常会定义一个 Base Pass（基础渲染通道）以及一个 Additional Pass（附加渲染通道），每次渲染时："
				}
			]
		},
		{
			"ID": "20241123160441-riya8lw",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20241123160441-riya8lw",
				"updated": "20241123161002"
			},
			"Children": [
				{
					"ID": "20241123160442-anor2fp",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20241123160442-anor2fp",
						"updated": "20241123160511"
					},
					"Children": [
						{
							"ID": "20241123160442-51p1bsm",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123160442-51p1bsm",
								"updated": "20241123160511"
							},
							"Children": [
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "一个 Base Pass 仅会执行一次"
								},
								{
									"Type": "NodeText",
									"Data": "（多个 Base Pass 情况除外）"
								}
							]
						},
						{
							"ID": "20241123160510-qy0ij9z",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123160510-qy0ij9z",
								"updated": "20241123160510"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "主要用于渲染环境光或自发光等"
								}
							]
						}
					]
				},
				{
					"ID": "20241123160444-pclni03",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20241123160444-pclni03",
						"updated": "20241123161002"
					},
					"Children": [
						{
							"ID": "20241123160444-3a9x300",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123160444-3a9x300",
								"updated": "20241123161002"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "一个 Additional Pass 会根据影响该物体的其他逐像素光源的数量被多次调用"
								}
							]
						},
						{
							"ID": "20241123160517-ak41f37",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123160517-ak41f37",
								"updated": "20241123160520"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "每个逐像素光源都会调用一次 Additional Pass，Additional Pass 由于开启了混合，渲染结果会和之前的光照颜色进行混合"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123160549-61e1599",
			"Type": "NodeBlockquote",
			"Properties": {
				"id": "20241123160549-61e1599",
				"style": "background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);",
				"updated": "20241123160811"
			},
			"Children": [
				{
					"Type": "NodeBlockquoteMarker",
					"Data": "\u003e"
				},
				{
					"ID": "20241123160406-9pap97j",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20241123160406-9pap97j",
						"updated": "20241123160536"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "注意："
						}
					]
				},
				{
					"ID": "20241123160536-hbcmb3k",
					"Type": "NodeList",
					"ListData": {
						"Typ": 1
					},
					"Properties": {
						"id": "20241123160536-hbcmb3k",
						"updated": "20241123160811"
					},
					"Children": [
						{
							"ID": "20241123160536-q0kz2aj",
							"Type": "NodeListItem",
							"ListData": {
								"Typ": 1,
								"Delimiter": 46,
								"Marker": "MS4=",
								"Num": 1
							},
							"Properties": {
								"id": "20241123160536-q0kz2aj",
								"updated": "20241123160536"
							},
							"Children": [
								{
									"ID": "20241123160536-uqep9s2",
									"Type": "NodeParagraph",
									"Properties": {
										"id": "20241123160536-uqep9s2",
										"updated": "20241123160600"
									},
									"Children": [
										{
											"Type": "NodeText",
											"Data": "Base Pass 也可以有多个，比如需要双面渲染的情况"
										}
									]
								}
							]
						},
						{
							"ID": "20241123160537-yeg1hu6",
							"Type": "NodeListItem",
							"ListData": {
								"Typ": 1,
								"Delimiter": 46,
								"Marker": "Mi4=",
								"Num": 2
							},
							"Properties": {
								"id": "20241123160537-yeg1hu6",
								"updated": "20241123160811"
							},
							"Children": [
								{
									"ID": "20241123160537-5f1a0a3",
									"Type": "NodeParagraph",
									"Properties": {
										"id": "20241123160537-5f1a0a3",
										"updated": "20241123160612"
									},
									"Children": [
										{
											"Type": "NodeText",
											"Data": "Base Pass 默认支持阴影， Additional Pass 默认不支持，可以通过添加 "
										},
										{
											"Type": "NodeTextMark",
											"TextMarkType": "code",
											"TextMarkTextContent": "#pragma multi_compile_fwdadd_fullshadows"
										},
										{
											"Type": "NodeText",
											"Data": "​ 编译指令开启阴影"
										}
									]
								},
								{
									"ID": "20241123160634-04xau9w",
									"Type": "NodeCodeBlock",
									"IsFencedCodeBlock": true,
									"Properties": {
										"id": "20241123160634-04xau9w",
										"style": "line-height: 22px;",
										"updated": "20241123160811"
									},
									"Children": [
										{
											"Type": "NodeCodeBlockFenceOpenMarker",
											"Data": "```"
										},
										{
											"Type": "NodeCodeBlockFenceInfoMarker",
											"CodeBlockInfo": "Yw=="
										},
										{
											"Type": "NodeCodeBlockCode",
											"Data": "CGPROGRAM\n#pragma vertex vert\n#pragma fragment frag\n​#pragma multi_compile_fwdadd_fullshadows​\n\n/* 具体着色器代码实现... */\nENDCG\n"
										},
										{
											"Type": "NodeCodeBlockFenceCloseMarker",
											"Data": "```"
										}
									]
								}
							]
						},
						{
							"ID": "20241123160540-mv2v503",
							"Type": "NodeListItem",
							"ListData": {
								"Typ": 1,
								"Delimiter": 46,
								"Marker": "My4=",
								"Num": 3
							},
							"Properties": {
								"id": "20241123160540-mv2v503",
								"updated": "20241123160540"
							},
							"Children": [
								{
									"ID": "20241123160540-lrd2dwd",
									"Type": "NodeParagraph",
									"Properties": {
										"id": "20241123160540-lrd2dwd",
										"updated": "20241123160626"
									},
									"Children": [
										{
											"Type": "NodeText",
											"Data": "这些 Pass 当中我们具体处理光照的方式是由我们自己决定的，使用逐顶点光照还是逐像素光照的计算方式，都根据我们的具体实现而定，前文提到的逐像素光源只是按照期望处理类型来分的而已"
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123160926-0zfczct",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123160926-0zfczct",
				"updated": "20241123160947"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "简而言之："
				}
			]
		},
		{
			"ID": "20241123160947-3ca0vht",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20241123160947-3ca0vht",
				"updated": "20241123160952"
			},
			"Children": [
				{
					"ID": "20241123160947-5v6rcci",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20241123160947-5v6rcci",
						"updated": "20241123160950"
					},
					"Children": [
						{
							"ID": "20241123160947-suae8vz",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123160947-suae8vz",
								"updated": "20241123160950"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "Base Pass（基础渲染通道）：主要用于处理影响该物体的一个高质量光源（如平行光）、所有中（逐顶点处理）低质量（SH处理）光源等"
								}
							]
						}
					]
				},
				{
					"ID": "20241123160948-ogcm4w7",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20241123160948-ogcm4w7",
						"updated": "20241123160952"
					},
					"Children": [
						{
							"ID": "20241123160948-cnzwny8",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20241123160948-cnzwny8",
								"updated": "20241123160952"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "Additional Pass（附加渲染通道）：主要用于处理影响该物体的除平行光以外的其它高质量光源（每个高质量光源都会调用）"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123161024-4iepfhr",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20241123161024-4iepfhr",
				"updated": "20241123163359"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "前向渲染路径的内置光照变量和函数"
				}
			]
		},
		{
			"ID": "20241123161143-bcet7u2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123161143-bcet7u2",
				"updated": "20241123161158"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "知道了在哪里处理对应等级的光照计算，接下来需要知道如何获取到对应“身份”的光源数据，从而进行差异化的处理"
				}
			]
		},
		{
			"ID": "20241123161124-m92j55z",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20241123161124-m92j55z",
				"updated": "20241123163359"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "常用内置光照变量"
				}
			]
		},
		{
			"ID": "20241123161159-zki9ad0",
			"Type": "NodeTable",
			"TableAligns": [
				0,
				0,
				0
			],
			"Properties": {
				"colgroup": "min-width: 60px;|min-width: 60px;|min-width: 60px;",
				"id": "20241123161159-zki9ad0",
				"updated": "20241123163359"
			},
			"Children": [
				{
					"Type": "NodeTableHead",
					"Data": "thead",
					"Children": [
						{
							"Type": "NodeTableRow",
							"Data": "tr",
							"Children": [
								{
									"Type": "NodeTableCell",
									"Data": "th",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "变量名"
										}
									]
								},
								{
									"Type": "NodeTableCell",
									"Data": "th",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "类型"
										}
									]
								},
								{
									"Type": "NodeTableCell",
									"Data": "th",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "描述"
										}
									]
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code block-ref",
									"TextMarkBlockRefID": "20240616185553-hqtgl7k",
									"TextMarkBlockRefSubtype": "s",
									"TextMarkTextContent": "_LightColor0"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "float4"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "该 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "Pass"
								},
								{
									"Type": "NodeText",
									"Data": "​ 当前处理的逐像素(高质量)光源的颜色"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "_WorldSpaceLightPos0"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "float4"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "_WorldSpaceLightPos0.xyz"
								},
								{
									"Type": "NodeText",
									"Data": "​ 表示该 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "Pass"
								},
								{
									"Type": "NodeText",
									"Data": "​ 当前处理的逐像素(高质量)光源的位置，如果该光源是平行光，那么 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "_WorldSpaceLightPos0.w"
								},
								{
									"Type": "NodeText",
									"Data": "​ 是 0，其他光源类型 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "w"
								},
								{
									"Type": "NodeText",
									"Data": "​ 为1"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "_LightMatrix0"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "float4x4"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "世界空间到光源空间的变换矩阵，可以用于采样光强衰减纹理和 cookie"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "unity_4LightPosX0"
								},
								{
									"Type": "NodeText",
									"Data": "​、"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "unity_4LightPosY0"
								},
								{
									"Type": "NodeText",
									"Data": "​、"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "unity_4LightPosZ0"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "float4"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "仅用于 Base Pass。前4个非重要（逐顶点处理）的点光源在世界空间中的"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "位置"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "unity_4LightAtten0"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "float4"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "仅用于 Base Pass。存储了前 4 个非重要的点光源的衰减"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "因子"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "unity_LightColor"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "half4[4]"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "仅用于 Base Pass。存储了前 4 个非重要的点光源的颜色"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123161541-9tl6hn5",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20241123161541-9tl6hn5",
				"updated": "20241123163719"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "常用内置光照函数"
				}
			]
		},
		{
			"ID": "20241123161552-5arvoc2",
			"Type": "NodeTable",
			"TableAligns": [
				0,
				0
			],
			"Properties": {
				"colgroup": "min-width: 60px;|min-width: 60px;",
				"id": "20241123161552-5arvoc2",
				"updated": "20241123163621"
			},
			"Children": [
				{
					"Type": "NodeTableHead",
					"Data": "thead",
					"Children": [
						{
							"Type": "NodeTableRow",
							"Data": "tr",
							"Children": [
								{
									"Type": "NodeTableCell",
									"Data": "th",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "函数名"
										}
									]
								},
								{
									"Type": "NodeTableCell",
									"Data": "th",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "描述"
										}
									]
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code block-ref",
									"TextMarkBlockRefID": "20240616182923-ml8kgur",
									"TextMarkBlockRefSubtype": "s",
									"TextMarkTextContent": "float3 WorldSpaceLightDir(float4 v)"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "仅用于前向渲染路径中。输入"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "模型空间"
								},
								{
									"Type": "NodeText",
									"Data": "中顶点位置，返回"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "世界空间"
								},
								{
									"Type": "NodeText",
									"Data": "中从该点到光源的光照方向。结果没有被归一化"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code block-ref",
									"TextMarkBlockRefID": "20240707141901-okyzj31",
									"TextMarkBlockRefSubtype": "s",
									"TextMarkTextContent": "float3 UnityWorldSpaceLightDir(float4 v)"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "仅用于前向渲染路径中。输入一个"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "世界空间"
								},
								{
									"Type": "NodeText",
									"Data": "中的顶点位置，返回"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "世界空间"
								},
								{
									"Type": "NodeText",
									"Data": "中从该点到光源的光照方向。结果没有被归一化"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code block-ref",
									"TextMarkBlockRefID": "20240616182923-2366ixd",
									"TextMarkBlockRefSubtype": "s",
									"TextMarkTextContent": "float3 ObjSpaceLightDir(float4 v)"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "仅用于前向渲染路径中。输入一个"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "模型空间"
								},
								{
									"Type": "NodeText",
									"Data": "中的顶点位置，返回"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "strong",
									"TextMarkTextContent": "模型空间"
								},
								{
									"Type": "NodeText",
									"Data": "中从该点到光源的光照方向。结果没有被归一化"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "float3 Shade4PointLights(/*...*/)"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								},
								{
									"Type": "NodeText",
									"Data": "（参数过多，在表格下面列出）"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "仅用于前向渲染路径中。计算四个点光源的光照，它的参数非常多，"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								},
								{
									"Type": "NodeText",
									"Data": "主要用的就是刚才讲解的 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "unity_"
								},
								{
									"Type": "NodeText",
									"Data": "​ 相关的参数，都是非重要的点光源相关的数据。"
								},
								{
									"Type": "NodeBr",
									"Data": "br"
								},
								{
									"Type": "NodeText",
									"Data": "可以使用它来计算逐顶点光照。返回值是四个点光源的叠加颜色"
								}
							]
						}
					]
				},
				{
					"Type": "NodeTableRow",
					"Data": "tr",
					"Children": [
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "......"
								}
							]
						},
						{
							"Type": "NodeTableCell",
							"Data": "td",
							"Children": [
								{
									"Type": "NodeText",
									"Data": "......"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20241123161545-67qakvu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123161545-67qakvu",
				"updated": "20241123163038"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "其中，"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "float3 Shade4PointLights(/*...*/)"
				},
				{
					"Type": "NodeText",
					"Data": "​ 的具体参数为："
				}
			]
		},
		{
			"ID": "20241123162654-b91im5o",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20241123162654-b91im5o",
				"style": "line-height: 22px;",
				"updated": "20241123163020"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "Yw=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "float3 Shade4PointLights(\n    float4 lightPosX, float4 lightPosY, float4 lightPosZ, \n    float3 lightColor0, float3 lightColor1, float3 lightColor2, float3 lightColor3, \n    float4 lightAttenSq, float3 pos, float3 normal)\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20241123162909-73q36xt",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20241123162909-73q36xt",
				"updated": "20241123163719"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "简而言之：通过这些内置光照变量，我们便可以获取到前向渲染路径当中，对渲染质量有不同要求的光源们的相关数据。\n我们只需要利用这些数据和函数在 Base Pass（基础渲染通道）和 Additional Pass（附加渲染通道）中按照需求进行相关的逻辑处理即可"
				}
			]
		}
	]
}