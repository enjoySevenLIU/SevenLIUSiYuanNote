{"ID":"20241203124904-komok5k","Spec":"1","Type":"NodeDocument","Properties":{"id":"20241203124904-komok5k","title":"US3S6L2——Unity中阴影的实现原理","type":"doc","updated":"20241204123522"},"Children":[{"ID":"20241203124904-pg3049a","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20241203124904-pg3049a","updated":"20241203130939"},"Children":[{"Type":"NodeText","Data":"Screen Space Shadow Mapping 技术"}]},{"ID":"20241203125001-ln9achv","Type":"NodeParagraph","Properties":{"id":"20241203125001-ln9achv","updated":"20241203125106"},"Children":[{"Type":"NodeText","Data":"虽然上一篇提到了 Shadow Mapping 技术的原理，但是在 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Unity 当中"},{"Type":"NodeText","Data":"，使用的并不只是纯粹的 Shadow Mapping 技术\n还会使用由微软研究院提出的 （首次提出是在2011年）：Screen Space Shadow Mapping（ SSSM ），翻译过来就是：屏幕空间阴影映射技术\n它是基于 Shadow Mapping 技术的一种拓展和改进技术。"}]},{"ID":"20241203125104-v7u42gu","Type":"NodeBlockquote","Properties":{"id":"20241203125104-v7u42gu","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color); --b3-parent-background: var(--b3-card-warning-background);","updated":"20241203125130"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20241203125118-t5ji275","Type":"NodeParagraph","Properties":{"id":"20241203125118-t5ji275","updated":"20241203125130"},"Children":[{"Type":"NodeText","Data":"注意：并不是所有设备都支持 SSSM 技术！\n在之后编写阴影相关 Shader 时，Unity 内部会帮助我们判断对应平台是否支持\n不支持时会默认使用 Shadow Mapping 处理阴影"}]}]},{"ID":"20241203125122-d3tv9ur","Type":"NodeParagraph","Properties":{"id":"20241203125122-d3tv9ur","updated":"20241203125158"},"Children":[{"Type":"NodeText","Data":"要理解SSSM（屏幕空间阴影映射技术）的原理，我们首先再来回顾一下 Shadow Mapping 技术：\n即从光源的角度渲染场景，生成一张阴影映射纹理（深度图），记录场景中每个像素到光源的距离（深度）。\n在真正渲染场景时，通过将顶点坐标转换到光源空间下，并与阴影映射纹理（深度图）中的深度值进行比较，判断像素是否在阴影中。"}]},{"ID":"20241203125231-402bkob","Type":"NodeParagraph","Properties":{"id":"20241203125231-402bkob","updated":"20241203125232"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 262px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241203124303-xbzlel6.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"生成的深度图（阴影隐射原理）"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 262px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20241203125233-89ku9m0","Type":"NodeParagraph","Properties":{"id":"20241203125233-89ku9m0","updated":"20241203125538"},"Children":[{"Type":"NodeText","Data":"SSSM（屏幕空间阴影映射技术）基于 Shadow Mapping 技术的基础上，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"需要多生成一张深度图 —— 屏幕空间深度图"},{"Type":"NodeText","Data":"。\n在屏幕空间阴影映射技术中，它会和 Shadow Mapping 一样，为每个光源生成对应的阴影映射纹理（从光源视角生成）。\n并且还会生成一"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"张屏幕空间深度图"},{"Type":"NodeText","Data":"，这张屏幕空间深度图中，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"记录了从摄像机视角看到的每个像素的深度值（即每个像素点到相机的距离）"}]},{"ID":"20241203125407-ra86xxq","Type":"NodeParagraph","Properties":{"id":"20241203125407-ra86xxq","updated":"20241203125530"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241203125407-vahmglj.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"摄像机拍到的屏幕空间图"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 281px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241203125423-mrs07w3.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"屏幕空间深度图（类似）"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 281px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20241203125329-ckmf6p4","Type":"NodeParagraph","Properties":{"id":"20241203125329-ckmf6p4","updated":"20241203125451"},"Children":[{"Type":"NodeText","Data":"更确切的说，是每个像素点对应的场景中的顶点离摄像机的深度值\n（深度值 0"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"~"}]},{"Type":"NodeText","Data":"1 之间， 0 表示离摄像机近裁剪面最近的距离，1 表示摄像机远裁剪面 也就是最远的距离）"}]},{"ID":"20241203125344-zu22afl","Type":"NodeParagraph","Properties":{"id":"20241203125344-zu22afl","updated":"20241203125717"},"Children":[{"Type":"NodeText","Data":"当有了 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"阴影映射纹理"},{"Type":"NodeText","Data":" 和 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"屏幕空间深度图"},{"Type":"NodeText","Data":" 后，我们将利用他们携带的信息来决定最终的阴影效果。其中一件非常重要的事，就是坐标转换。\n我们需要把 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"屏幕空间 的 像素位置 变换到 光源空间下，然后在 光源空间 下 比较每个像素的深度值 和 阴影映射纹理中的值，\n如果当前像素的深度值大于光源深度图中的值，说明该像素在阴影中。"}]},{"ID":"20241203125652-2dfabqf","Type":"NodeBlockquote","Properties":{"id":"20241203125652-2dfabqf","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color); --b3-parent-background: var(--b3-card-warning-background);","updated":"20241203125659"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20241203125659-1cfd5ok","Type":"NodeParagraph","Properties":{"id":"20241203125659-1cfd5ok","updated":"20241203125659"},"Children":[{"Type":"NodeText","Data":"注意：当屏幕空间中的像素位置变换到光源空间下时，可能不在光源空间的可见范围内，这时我们无需进行比较判断，该像素不用进行阴影处理"}]}]},{"ID":"20241203125753-kmlsnta","Type":"NodeParagraph","Properties":{"id":"20241203125753-kmlsnta","updated":"20241203125808"},"Children":[{"Type":"NodeText","Data":"SSSM（屏幕空间阴影映射技术）的原理："}]},{"ID":"20241203125808-ca5c310","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20241203125808-ca5c310","updated":"20241203125830"},"Children":[{"ID":"20241203125808-uz8ib50","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20241203125808-uz8ib50","updated":"20241203125808"},"Children":[{"ID":"20241203125808-7roaof5","Type":"NodeParagraph","Properties":{"id":"20241203125808-7roaof5","updated":"20241203125808"},"Children":[{"Type":"NodeText","Data":"基于光源位置生成的 阴影映射纹理\n"}]}]},{"ID":"20241203125809-hgwky29","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20241203125809-hgwky29","updated":"20241203125809"},"Children":[{"ID":"20241203125809-m92bltk","Type":"NodeParagraph","Properties":{"id":"20241203125809-m92bltk","updated":"20241203125809"},"Children":[{"Type":"NodeText","Data":"基于渲染游戏画面时得到的 屏幕空间深度图\n"}]}]},{"ID":"20241203125810-cgs9qqa","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20241203125810-cgs9qqa","updated":"20241203125830"},"Children":[{"ID":"20241203125810-am4gyaz","Type":"NodeParagraph","Properties":{"id":"20241203125810-am4gyaz","updated":"20241203125830"},"Children":[{"Type":"NodeText","Data":"将 屏幕像素位置 变换到 光源空间下"}]}]},{"ID":"20241203125812-3z6ybhf","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20241203125812-3z6ybhf","updated":"20241203125814"},"Children":[{"ID":"20241203125812-nhxc5we","Type":"NodeParagraph","Properties":{"id":"20241203125812-nhxc5we","updated":"20241203125814"},"Children":[{"Type":"NodeText","Data":"对 屏幕空间深度图 和 阴影映射纹理 进行采样 比较深度值，决定最后的阴影处理效果"}]}]}]},{"ID":"20241203125822-5qxbumo","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20241203125822-5qxbumo","updated":"20241204123522"},"Children":[{"Type":"NodeText","Data":"Unity 中如何实现阴影"}]},{"ID":"20241203131124-eb0x3s6","Type":"NodeParagraph","Properties":{"id":"20241203131124-eb0x3s6","updated":"20241203131134"},"Children":[{"Type":"NodeText","Data":"想要在Unity中实现阴影效果，必须注意以下三点："}]},{"ID":"20241203131134-5xfsg01","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20241203131134-5xfsg01","updated":"20241203131204"},"Children":[{"ID":"20241203131134-6ymg0tx","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20241203131134-6ymg0tx","updated":"20241203131142"},"Children":[{"ID":"20241203131134-z66bpje","Type":"NodeParagraph","Properties":{"id":"20241203131134-z66bpje","updated":"20241203131142"},"Children":[{"Type":"NodeText","Data":"对 光源 以及 物体进行相关设置：让光源开启阴影，让物体能够投射和接收阴影"}]}]},{"ID":"20241203131137-jnlhmw6","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20241203131137-jnlhmw6","updated":"20241203131204"},"Children":[{"ID":"20241203131137-m2axnfi","Type":"NodeParagraph","Properties":{"id":"20241203131137-m2axnfi","updated":"20241203131204"},"Children":[{"Type":"NodeText","Data":"想要向其它物体投射阴影的物体 Shader 中必须要有 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20241123151649-j4hmhiy","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"LightMode"},{"Type":"NodeText","Data":"​ 被设置为 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240615191302-3mpxk9n","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"ShadowCaster"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Pass"},{"Type":"NodeText","Data":"​，才能在阴影映射纹理中记录自己的信息"}]}]},{"ID":"20241203131138-wn9lvwe","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20241203131138-wn9lvwe","updated":"20241203131157"},"Children":[{"ID":"20241203131138-t2lnk3e","Type":"NodeParagraph","Properties":{"id":"20241203131138-t2lnk3e","updated":"20241203131157"},"Children":[{"Type":"NodeText","Data":"想要接收其他物体投射的阴影的物体 Shader 中，必须对阴影映射纹理进行采样，用于最后的光照计算"}]}]}]},{"ID":"20241203125902-j5okni1","Type":"NodeParagraph","Properties":{"id":"20241203125902-j5okni1","updated":"20241203130302"},"Children":[{"Type":"NodeText","Data":"Unity 会调用 "},{"Type":"NodeTextMark","TextMarkType":"block-ref code","TextMarkBlockRefID":"20241123151649-j4hmhiy","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"LightMode"},{"Type":"NodeText","Data":"​（灯光模式）被设置为 "},{"Type":"NodeTextMark","TextMarkType":"block-ref code","TextMarkBlockRefID":"20240615191302-3mpxk9n","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"ShadowCaster"},{"Type":"NodeText","Data":"​（阴影投射器）的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Pass"},{"Type":"NodeText","Data":"​（渲染通道）\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"来生成对应的阴影映射纹理（Shadow Mapping 技术），以便在后续的阴影计算中使用"}]},{"ID":"20241203130303-r5agtra","Type":"NodeParagraph","Properties":{"id":"20241203130303-r5agtra","updated":"20241203130303"},"Children":[{"Type":"NodeText","Data":"阴影映射纹理的计算过程往往不需要我们手动处理，Unity 中提供了对应的阴影相关的宏帮助我们进行计算，我们直接调用它们即可"}]},{"ID":"20241203130013-xq8deqb","Type":"NodeParagraph","Properties":{"id":"20241203130013-xq8deqb","updated":"20241203130126"},"Children":[{"Type":"NodeText","Data":"注意：如果 Shader 中没有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"LightMode"},{"Type":"NodeText","Data":"​ 为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ShadowCaster"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Pass"},{"Type":"NodeText","Data":"​，会在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Shader"},{"Type":"NodeText","Data":"​ 中的 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240615195300-k2o23bg","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Fallback"},{"Type":"NodeText","Data":"​ 指定的 Shader 中继续寻找，直到找到对应 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Pass"},{"Type":"NodeText","Data":"​。\n如果没有找到，那么该物体就无法向其他物体投射阴影，因为在阴影映射纹理计算中无法计算该物体的信息。（但是该物体仍可以接收其他物体的投影）"}]},{"ID":"20241203130131-d4rp0cr","Type":"NodeParagraph","Properties":{"id":"20241203130131-d4rp0cr","updated":"20241203130257"},"Children":[{"Type":"NodeText","Data":"而对于支持 SSSM（屏幕空间阴影映射技术）的设备来说，除了 阴影映射纹理外，还需要屏幕空间深度图。\n而"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"屏幕空间深度图通常由摄像机在渲染过程中自动生成，并存储在摄像机的深度纹理中"},{"Type":"NodeText","Data":"\n我们只需要在计算时，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"从光源的阴影映射纹理 以及 屏幕空间深度图 中进行采样比较深度即可"}]},{"ID":"20241203130258-so3slhw","Type":"NodeParagraph","Properties":{"id":"20241203130258-so3slhw","updated":"20241203130258"},"Children":[{"Type":"NodeText","Data":"同样这个过程往往不需要我们手动处理，Unity 中提供了对应的阴影相关的宏帮助我们进行计算，我们直接调用它们即可"}]},{"ID":"20241203130236-igulmgh","Type":"NodeParagraph","Properties":{"id":"20241203130236-igulmgh","updated":"20241203130329"},"Children":[{"Type":"NodeText","Data":"需要注意的是，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"物体接收来自其他物体的阴影"},{"Type":"NodeText","Data":" "},{"Type":"NodeText","Data":"和 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"物体向其它物体投射阴影"},{"Type":"NodeText","Data":" 是两个过程："}]},{"ID":"20241203130315-oytb71i","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20241203130315-oytb71i","updated":"20241203130339"},"Children":[{"ID":"20241203130315-wtfooky","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20241203130315-wtfooky","updated":"20241203130339"},"Children":[{"ID":"20241203130315-blmpq5h","Type":"NodeParagraph","Properties":{"id":"20241203130315-blmpq5h","updated":"20241203130315"},"Children":[{"Type":"NodeText","Data":"物体接收来自其他物体的阴影\n"}]},{"ID":"20241203130331-p17fj8s","Type":"NodeParagraph","Properties":{"id":"20241203130331-p17fj8s","updated":"20241203130339"},"Children":[{"Type":"NodeText","Data":"必须在 Shader 中对阴影映射纹理（SM或SSSM中的阴影图）进行采样，把采样结果和最后的光照结果相乘来产生阴影效果"}]}]},{"ID":"20241203130315-4xx2mvi","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20241203130315-4xx2mvi","updated":"20241203130415"},"Children":[{"ID":"20241203130315-6zhihad","Type":"NodeParagraph","Properties":{"id":"20241203130315-6zhihad","updated":"20241203130315"},"Children":[{"Type":"NodeText","Data":"物体向其它物体投射阴影\n"}]},{"ID":"20241203130346-nnhr5rz","Type":"NodeParagraph","Properties":{"id":"20241203130346-nnhr5rz","updated":"20241203130415"},"Children":[{"Type":"NodeText","Data":"必须将该物体加入到光源的阴影映射纹理的计算中，\n必须要有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"LightMode"},{"Type":"NodeText","Data":"​（灯光模式）被设置为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ShadowCaster"},{"Type":"NodeText","Data":"​（阴影投射器）的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Pass"},{"Type":"NodeText","Data":"​（渲染通道），\n这样才能让其他物体在对阴影映射纹理采样时，得到该物体的相关信息。"}]}]}]},{"ID":"20241203130501-1je57hp","Type":"NodeParagraph","Properties":{"id":"20241203130501-1je57hp","updated":"20241203130522"},"Children":[{"Type":"NodeText","Data":"想要让 物体接收来自其他物体的阴影 和 物体向其它物体投射阴影，我们需要在 Unity 中对光源和物体进行一些设置："}]},{"ID":"20241203130518-0pk4xhd","Type":"NodeList","ListData":{},"Properties":{"id":"20241203130518-0pk4xhd","updated":"20241204123522"},"Children":[{"ID":"20241203130518-49y7gxa","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20241203130518-49y7gxa","updated":"20241203130900"},"Children":[{"ID":"20241203130518-ie23jil","Type":"NodeParagraph","Properties":{"id":"20241203130518-ie23jil","updated":"20241203130727"},"Children":[{"Type":"NodeText","Data":"保证光源能够生成阴影映射纹理 —— 光源组件上设置 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240321164447-9gexkzq","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Shadow Type"},{"Type":"NodeText","Data":"（阴影类型）"}]},{"ID":"20241203130527-y0emkjv","Type":"NodeParagraph","Properties":{"id":"20241203130527-y0emkjv","updated":"20241203130900"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 333px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241203130612-nxcjdhi.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"只要不选择No Shadows，该光源就会生成阴影映射纹理"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 333px;\"}"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20241203130519-fvhqo9q","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20241203130519-fvhqo9q","updated":"20241204123110"},"Children":[{"ID":"20241203130519-hwwz200","Type":"NodeParagraph","Properties":{"id":"20241203130519-hwwz200","updated":"20241203130519"},"Children":[{"Type":"NodeText","Data":"保证物体能接收其他物体的阴影 —— 网格渲染器组件上勾选 Receive Shadows（接收阴影）"}]},{"ID":"20241204123110-fslh0vb","Type":"NodeParagraph","Properties":{"id":"20241204123110-fslh0vb","updated":"20241204123110"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 329px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241203130718-ljj00xn.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"勾选了接收阴影，Unity的内置宏和变量才会计算该对象的阴影表现"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 329px;\"}"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20241203130520-7z83tl7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20241203130520-7z83tl7","updated":"20241204123522"},"Children":[{"ID":"20241203130520-v414j5e","Type":"NodeParagraph","Properties":{"id":"20241203130520-v414j5e","updated":"20241203130520"},"Children":[{"Type":"NodeText","Data":"保证物体向其它物体投射阴影 —— 网格渲染器组件上设置 Cast Shadows（投射阴影）"}]},{"ID":"20241204123102-kf4hb1e","Type":"NodeParagraph","Properties":{"id":"20241204123102-kf4hb1e","updated":"20241204123102"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 330px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241203130643-8dht9c7.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"开启了投射阴影，Unity就会把该物体加入到光源的阴影映射纹理的计算中"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 330px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20241204123102-g67ebmc","Type":"NodeBlockquote","Properties":{"id":"20241204123102-g67ebmc","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color); --b3-parent-background: var(--b3-card-warning-background);","updated":"20241204123522"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20241204123228-eh5lzyb","Type":"NodeParagraph","Properties":{"id":"20241204123228-eh5lzyb","updated":"20241204123228"},"Children":[{"Type":"NodeText","Data":"注意：对于一些单面对象（例如只渲染一面的平面），我们可以将 Cast Shadows 设置为 Two Sided（双面）投射双面阴影\n这意味着，即使光源在网格后面，平面或者四边形等单面对象也可以投射阴影"}]},{"ID":"20241204123249-x8qn43h","Type":"NodeParagraph","Properties":{"id":"20241204123249-x8qn43h","updated":"20241204123334"},"Children":[{"Type":"NodeText","Data":"Unity 的默认集合体 Plane 默认就无法从正面投射阴影，开启过后就可以让正面投射阴影"}]},{"ID":"20241204123409-p4fq62j","Type":"NodeParagraph","Properties":{"id":"20241204123409-p4fq62j","updated":"20241204123522"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241204123409-910k1mb.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"Caster Shadow 选择 On"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 203px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241204123456-zovsss8.png"},{"Type":"NodeLinkSpace"},{"Type":"NodeLinkTitle","Data":"Caster Shadow 选择 Two Sided"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 203px;\"}"},{"Type":"NodeText","Data":"​"}]}]}]}]},{"ID":"20241203131013-we1rrhe","Type":"NodeParagraph","Properties":{"id":"20241203131013-we1rrhe","updated":"20241203131013"}}]}