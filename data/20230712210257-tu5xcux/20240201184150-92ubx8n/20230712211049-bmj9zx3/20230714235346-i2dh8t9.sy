{"ID":"20230714235346-i2dh8t9","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230714235346-i2dh8t9","name":"PlayerPrefs的基本方法","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230714235346-i2dh8t9\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230714235347-hjkxzhu\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230714235347-eysb8fs\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20230714235347-hjkxzhu\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0\u0026#125;","title":"UD1L1-PlayerPrefs的基本方法","type":"doc","updated":"20250210112036"},"Children":[{"ID":"20230714235347-b7c4lba","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230714235347-b7c4lba","updated":"20250210112036"},"Children":[{"Type":"NodeText","Data":"本章代码关键字"}]},{"ID":"20230714235347-h9xaubm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230714235347-h9xaubm","updated":"20230714235347"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"PlayerPrefs.SetInt();\t\t//键值对存储int类型数据到内存\nPlayerPrefs.SetFloat();\t\t//键值对存储float类型数据到内存\nPlayerPrefs.SetString();\t//键值对存储string类型数据到内存\nPlayerPrefs.Save();\t\t//立刻让内存内的数据存储到硬盘中\nPlayerPrefs.GetInt(,)\t\t//根据键获取int类型数据\nPlayerPrefs.GetFloat(,)\t\t//根据键获取float类型数据\nPlayerPrefs.GetString(,)\t//根据键获取string类型数据\nPlayerPrefs.HasKey()\t\t//判断数据是否存在\nDeleteKey()\t\t\t//删除指定键值对\nDeletaall()\t\t\t//删除所有存储的信息\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250210112036-53rd6c3","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20250210112036-53rd6c3","name":"PlayerPrefs","updated":"20250210112036"},"Children":[{"Type":"NodeText","Data":"PlayerPrefs"}]},{"ID":"20250210112036-i4ktl7z","Type":"NodeParagraph","Properties":{"id":"20250210112036-i4ktl7z","updated":"20250210112036"},"Children":[{"Type":"NodeText","Data":"是 Unity 提供的可以用于存储读取玩家数据的公共类"}]},{"ID":"20230714235347-ithrmhd","Type":"NodeHeading","HeadingLevel":3,"Properties":{"alias":"PlayerPrefs.SetFloat(),PlayerPrefs.SetString()","id":"20230714235347-ithrmhd","name":"PlayerPrefs.SetInt()","updated":"20250210111239"},"Children":[{"Type":"NodeText","Data":"存储相关"}]},{"ID":"20230714235347-elrkp2s","Type":"NodeParagraph","Properties":{"id":"20230714235347-elrkp2s","updated":"20250210111045"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"PlayerPrefs"},{"Type":"NodeText","Data":"​ 的数据存储 是类似与键值对存储，一个键对应一个值\n提供了存储 3 种数据的方法："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"float"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240321170416-umw1214","Type":"NodeList","ListData":{},"Properties":{"id":"20240321170416-umw1214","updated":"20240321170424"},"Children":[{"ID":"20240321170416-7miglkh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240321170416-7miglkh","updated":"20250210111048"},"Children":[{"ID":"20240321170416-sa65sh6","Type":"NodeParagraph","Properties":{"id":"20240321170416-sa65sh6","updated":"20250210111048"},"Children":[{"Type":"NodeText","Data":"键："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​ 类型"}]}]},{"ID":"20240321170417-jnetklm","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240321170417-jnetklm","updated":"20240321170424"},"Children":[{"ID":"20240321170417-zyypyt4","Type":"NodeParagraph","Properties":{"id":"20240321170417-zyypyt4","updated":"20240321170424"},"Children":[{"Type":"NodeText","Data":"值："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"float"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​ 对应三种API"}]}]}]},{"ID":"20230714235347-l0mtlyz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230714235347-l0mtlyz","style":"line-height: 22px;","updated":"20231113174722"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"PlayerPrefs.SetInt(\"myAge\", 18);\nPlayerPrefs.SetFloat(\"myHeight\", 177.5f);\nPlayerPrefs.SetString(\"myName\", \"SevenL\");\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230714235347-wfd0sc5","Type":"NodeBlockquote","Properties":{"id":"20230714235347-wfd0sc5","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color); --b3-parent-background: var(--b3-card-warning-background);","updated":"20250210111239"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20250210111239-wbddosr","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250210111239-wbddosr","updated":"20250210111257"},"Children":[{"Type":"NodeText","Data":"注意！"}]},{"ID":"20250210111255-fe11dbo","Type":"NodeParagraph","Properties":{"id":"20250210111255-fe11dbo","updated":"20250210111255"},"Children":[{"Type":"NodeText","Data":"直接调用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Set"},{"Type":"NodeText","Data":"​ 相关方法，只会把数据存到内存里，当游戏结束时 Unity 会自动把数据存到硬盘中，\n如果游戏没有正常结束，而是崩溃，数据是不会存到硬盘里的！"}]}]},{"ID":"20230714235347-ymmdzj2","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230714235347-ymmdzj2","name":"PlayerPrefs.Save()","updated":"20230714235347"},"Children":[{"Type":"NodeText","Data":"立刻存储"}]},{"ID":"20230714235347-u4kkyb7","Type":"NodeParagraph","Properties":{"id":"20230714235347-u4kkyb7","updated":"20230714235347"},"Children":[{"Type":"NodeText","Data":"调用下列方法可以立刻让数据存储到硬盘中"}]},{"ID":"20230714235347-lpjyqzi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230714235347-lpjyqzi","updated":"20230714235347"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"PlayerPrefs.Save();\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230714235347-47phowi","Type":"NodeParagraph","Properties":{"id":"20230714235347-47phowi","updated":"20230714235347"},"Children":[{"Type":"NodeText","Data":"PlayerPrefs是有局限性的 它只能存储3种类型的数据\n如果你想要存储别的类型的数据 只能降低精度 或者上升精度来存储"}]},{"ID":"20230714235347-agyuiax","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230714235347-agyuiax","updated":"20230714235347"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"bool sex = true;\nPlayerPrefs.SetInt(\"sex\", sex ?  1 : 0);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230714235347-3iid2ou","Type":"NodeParagraph","Properties":{"id":"20230714235347-3iid2ou","updated":"20230714235347"},"Children":[{"Type":"NodeText","Data":"如果不同类型用同一键名进行存储 会进行覆盖"}]},{"ID":"20230714235347-gvp86al","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230714235347-gvp86al","updated":"20230714235347"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"PlayerPrefs.SetFloat(\"myAge\", 20.2f);\t//原来的数据18会被覆盖\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230714235347-by22qlf","Type":"NodeHeading","HeadingLevel":3,"Properties":{"alias":"PlayerPrefs.GetFloat,PlayerPrefs.GetString","id":"20230714235347-by22qlf","name":"PlayerPrefs.GetInt","updated":"20250210111321"},"Children":[{"Type":"NodeText","Data":"读取相关"}]},{"ID":"20230714235347-qkhsngv","Type":"NodeBlockquote","Properties":{"id":"20230714235347-qkhsngv","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color); --b3-parent-background: var(--b3-card-warning-background);","updated":"20250210111321"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20250210111321-mxalji6","Type":"NodeParagraph","Properties":{"id":"20250210111321-mxalji6","updated":"20250210111321"},"Children":[{"Type":"NodeText","Data":"注意！在运行时只要 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Set"},{"Type":"NodeText","Data":"​ 了对应键值对，即使没有马上存储 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Save"},{"Type":"NodeText","Data":"​ 在本地，也能够读取出信息"}]}]},{"ID":"20230714235347-nbpcji5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230714235347-nbpcji5","updated":"20230714235347"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"//int\nint age = PlayerPrefs.GetInt(\"myAge\");  //注意 这里的键myAge对应的数据是float类型，也就是说int数据里没有这个键，因此这句会返回空也就是0\nprint(age);\nage = PlayerPrefs.GetInt(\"myAge\", 25);  //在找不到myAge对应的int数据时，可以填入将默认值填入第二个参数，当找不到数据就会返回默认值\nprint(age);\n\n//float\nfloat heihgt = PlayerPrefs.GetFloat(\"myHeight\", 175.5f);\nprint(heihgt);\n\n//string\nstring name = PlayerPrefs.GetString(\"myName\");\nprint(name);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230714235347-9ykvtpj","Type":"NodeParagraph","Properties":{"id":"20230714235347-9ykvtpj","updated":"20230714235347"},"Children":[{"Type":"NodeText","Data":"第二个参数 默认值 对于我们的作用\n就是 在得到没有的数据的时候 就可以用它来进行基础数据的初始化"}]},{"ID":"20230714235347-sayo4wa","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230714235347-sayo4wa","name":"PlayerPrefs.HasKey()","updated":"20230714235347"},"Children":[{"Type":"NodeText","Data":"判断数据是否存在"}]},{"ID":"20230714235347-05bdbw2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230714235347-05bdbw2","updated":"20230714235347"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"if (PlayerPrefs.HasKey(\"myName\"))\n{\n    print(\"存在myName对应的键值对数据\");\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230714235347-ooe2lpv","Type":"NodeHeading","HeadingLevel":3,"Properties":{"alias":"PlayerPrefs.DeleteAll()","id":"20230714235347-ooe2lpv","name":"PlayerPrefs.DeleteKey()","updated":"20230714235347"},"Children":[{"Type":"NodeText","Data":"删除数据"}]},{"ID":"20230714235347-u967qe9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230714235347-u967qe9","updated":"20230714235347"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"//删除指定键值对\nPlayerPrefs.DeleteKey(\"myAge\");\n//删除所有存储的信息\nPlayerPrefs.DeleteAll();\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230714235347-9qq5ue7","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230714235347-9qq5ue7","updated":"20250210111429"},"Children":[{"Type":"NodeText","Data":"PlayerPrefs数据唯一性"}]},{"ID":"20230714235347-eysb8fs","Type":"NodeParagraph","Properties":{"id":"20230714235347-eysb8fs","updated":"20250210111429"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"PlayerPrefs"},{"Type":"NodeText","Data":"​ 中不同数据的唯一性是由 key 决定的，不同的 key 决定了不同的数据\n同一项目中，如果不同数据key相同，就会造成数据丢失，要保证数据不丢失就要"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);"},"TextMarkType":"text","TextMarkTextContent":"建立一个保证Key唯一的规则"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);\"}"}]}]}