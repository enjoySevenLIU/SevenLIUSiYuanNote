{"ID":"20240328225358-1c4rlw1","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240328225358-1c4rlw1","title":"UEDL8——Handles公共类","type":"doc","updated":"20241018133907"},"Children":[{"ID":"20240405130828-yw9ew79","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240405130828-yw9ew79","updated":"20240405130835"},"Children":[{"Type":"NodeText","Data":"本章代码关键字"}]},{"ID":"20240405130835-ifnjxt5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240405130835-ifnjxt5","style":"line-height: 22px;","updated":"20240405131237"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"Handles\t\t\t\t\t\t//处理类，可以为某个脚本对象或者自定义编辑器窗口拓展在Scene窗口上的显示，可以自定义绘制内容\nOnSceneGUI() { }\t\t\t//为某个脚本对象扩展在Scene窗口上的显示时，就需要在该方法内编写绘制逻辑\nSceneView.duringSceneGui\t//为某个自定义编辑器窗口扩展在Scene窗口上的显示时，就需要将实现了绘制逻辑的方法添加到该事件内，窗口关闭时需要移除\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240328225358-4d866y4","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240328225358-4d866y4","name":"Handles","updated":"20240328225436"},"Children":[{"Type":"NodeText","Data":"Handles"}]},{"ID":"20240328225442-xwwxdhn","Type":"NodeParagraph","Properties":{"id":"20240328225442-xwwxdhn","updated":"20240328225452"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Handles"},{"Type":"NodeText","Data":"​类提供了很多API，让我们可以在Scene窗口中绘制我们的自定义内容\n它和"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GUI"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"EditorGUI"},{"Type":"NodeText","Data":"​类似，只不过它专门提供给Scene窗口使用"}]},{"ID":"20240328225442-5k0d5uq","Type":"NodeParagraph","Properties":{"id":"20240328225442-5k0d5uq","updated":"20240328225458"},"Children":[{"Type":"NodeText","Data":"想要在Scene窗口中显示自定义内容，我们需要在对应的响应函数中进行处理"}]},{"ID":"20240328225651-rjwq4l7","Type":"NodeParagraph","Properties":{"id":"20240328225651-rjwq4l7","updated":"20240328225701"},"Children":[{"Type":"NodeText","Data":"Scene窗口拓展功能，主要是提供给自定义脚本和自定义窗口的，我们采用对应的规则进行处理\n便可以在之后的学习中利用场景更新响应函数来自定义一些Scene窗口的显示内容"}]},{"ID":"20240405211353-eso004m","Type":"NodeParagraph","Properties":{"id":"20240405211353-eso004m","updated":"20240405211513"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Handles"},{"Type":"NodeText","Data":"​的更多内容可看："}]},{"ID":"20240405211517-1jbwxm1","Type":"NodeList","ListData":{},"Properties":{"id":"20240405211517-1jbwxm1","updated":"20240405211540"},"Children":[{"ID":"20240405211518-3yyw7lp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240405211518-3yyw7lp","updated":"20240405211518"},"Children":[{"ID":"20240405211518-674c367","Type":"NodeParagraph","Properties":{"id":"20240405211518-674c367","updated":"20240405211518"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.unity.cn/cn/2022.3/ScriptReference/Handles.html","TextMarkTextContent":"Handles - Unity 脚本 API"},{"Type":"NodeText","Data":"（中文文档，部分翻译缺失）"}]}]},{"ID":"20240405211519-x5hg6iq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240405211519-x5hg6iq","updated":"20240405211540"},"Children":[{"ID":"20240405211519-v6u4d4k","Type":"NodeParagraph","Properties":{"id":"20240405211519-v6u4d4k","updated":"20240405211540"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.unity3d.com/ScriptReference/Handles.html","TextMarkTextContent":"Unity - Scripting API: Handles (unity3d.com)"},{"Type":"NodeText","Data":"（英文文档）"}]}]}]},{"ID":"20240328225500-uhci0gc","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240328225500-uhci0gc","name":"OnSceneGUI()","updated":"20240328225508"},"Children":[{"Type":"NodeText","Data":"Scene窗口更新响应函数"}]},{"ID":"20240328225513-2t6xusd","Type":"NodeParagraph","Properties":{"id":"20240328225513-2t6xusd","updated":"20240328225527"},"Children":[{"Type":"NodeText","Data":"关键点（前两个步骤 和自定义Inspector窗口显示内容一致）："}]},{"ID":"20240328225520-1k4mgvh","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240328225520-1k4mgvh","updated":"20240404231301"},"Children":[{"ID":"20240328225520-gcioqv2","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240328225520-gcioqv2","updated":"20240328225520"},"Children":[{"ID":"20240328225520-j45kd4b","Type":"NodeParagraph","Properties":{"id":"20240328225520-j45kd4b","updated":"20240328225533"},"Children":[{"Type":"NodeText","Data":"单独为某一个脚本实现一个自定义脚本，并且脚本需要继承"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Editor"},{"Type":"NodeText","Data":"​\n一般该脚本命名为 自定义脚本名 + "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Editor"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240404225053-wwpemv5","Type":"NodeParagraph","Properties":{"id":"20240404225053-wwpemv5","updated":"20240404225104"},"Children":[{"Type":"NodeText","Data":"假设我们要对下面这个脚本进行Scene窗口显示的拓展："}]}]},{"ID":"20240328225520-f55vok4","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240328225520-f55vok4","updated":"20240328225520"},"Children":[{"ID":"20240328225520-ob5uuna","Type":"NodeParagraph","Properties":{"id":"20240328225520-ob5uuna","updated":"20240328225538"},"Children":[{"Type":"NodeText","Data":"在该脚本前加上特性\n命名空间："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"UnityEditor"},{"Type":"NodeText","Data":"​\n特性名："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"CustomEditor(想要自定义脚本类名的Type)"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240328225520-3wzpz18","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240328225520-3wzpz18","updated":"20240404231301"},"Children":[{"ID":"20240328225520-rz7i33e","Type":"NodeParagraph","Properties":{"id":"20240328225520-rz7i33e","updated":"20240328225549"},"Children":[{"Type":"NodeText","Data":"在该脚本中实现"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"void OnSceneGUI()"},{"Type":"NodeText","Data":"​方法，该方法会在我们选中挂载自定义脚本的对象时自动更新"}]},{"ID":"20240404231255-39wgct2","Type":"NodeParagraph","Properties":{"id":"20240404231255-39wgct2","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);","updated":"20240404231301"},"Children":[{"Type":"NodeText","Data":"注意：只有选中时才会执行，没有选中不执行"}]}]}]},{"ID":"20240404231254-0opwvrc","Type":"NodeParagraph","Properties":{"id":"20240404231254-0opwvrc","updated":"20240404231338"},"Children":[{"Type":"NodeText","Data":"假设我们要为"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Lesson26"},{"Type":"NodeText","Data":"​拓展在Scene窗口的显示，我们就需要声明这样的一个类"}]},{"ID":"20240404231255-i71083c","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240404231255-i71083c","style":"line-height: 22px;","updated":"20240404231255"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"using UnityEditor;\nusing UnityEngine;\n\n[CustomEditor(typeof(Lesson26))]\npublic class Lesson26Editor : Editor\n{\n    private void OnSceneGUI()\n    {\n        Debug.Log(\"Scene窗口拓展相关逻辑\");\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240404231255-otqchfj","Type":"NodeParagraph","Properties":{"id":"20240404231255-otqchfj","updated":"20240404231255"},"Children":[{"Type":"NodeText","Data":"值得一提的是，即使选中了挂载自定义脚本的对象，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"OnSceneGUI()"},{"Type":"NodeText","Data":"​也不一定是每帧都执行"}]},{"ID":"20240328225613-m71ensi","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240328225613-m71ensi","name":"SceneView.duringSceneGui","updated":"20240404231019"},"Children":[{"Type":"NodeText","Data":"自定义窗口中监听Scene窗口更新响应函数"}]},{"ID":"20240404231020-ebp3cjr","Type":"NodeParagraph","Properties":{"id":"20240404231020-ebp3cjr","updated":"20240404231106"},"Children":[{"Type":"NodeText","Data":"我们不仅可以为一个脚本拓展在Scene窗口上的显示，还可以为自定义编辑器窗口拓展Scene窗口上的显示"}]},{"ID":"20240328225620-8eb0p3x","Type":"NodeParagraph","Properties":{"id":"20240328225620-8eb0p3x","updated":"20240404231019"},"Children":[{"Type":"NodeText","Data":"可以在自定义窗口显示时："}]},{"ID":"20240328225623-tdhxxhb","Type":"NodeList","ListData":{},"Properties":{"id":"20240328225623-tdhxxhb","updated":"20240328225638"},"Children":[{"ID":"20240328225623-yt6ka5h","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240328225623-yt6ka5h","updated":"20240328225635"},"Children":[{"ID":"20240328225623-5rb50hs","Type":"NodeParagraph","Properties":{"id":"20240328225623-5rb50hs","updated":"20240328225635"},"Children":[{"Type":"NodeText","Data":"监听更新事件："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SceneView.duringSceneGui += 事件函数"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240328225623-8sdnzq2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240328225623-8sdnzq2","updated":"20240328225638"},"Children":[{"ID":"20240328225623-gsgucao","Type":"NodeParagraph","Properties":{"id":"20240328225623-gsgucao","updated":"20240328225638"},"Children":[{"Type":"NodeText","Data":"窗口隐藏或销毁时移除事件："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SceneView.duringSceneGui -= 事件函数"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240404231345-ov4t2ae","Type":"NodeParagraph","Properties":{"id":"20240404231345-ov4t2ae","updated":"20240404231426"},"Children":[{"Type":"NodeText","Data":"假设我们要为"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Lesson26Window"},{"Type":"NodeText","Data":"​这个编辑器窗口拓展Scene窗口上的显示，就需要这样实现："}]},{"ID":"20240404231108-h2jtz90","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240404231108-h2jtz90","style":"line-height: 22px;","updated":"20240404231531"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"using UnityEditor;\nusing UnityEngine;\n\npublic class Lesson26Window : EditorWindow\n{\n\t//窗口开启入口\n    [MenuItem(\"Unity编辑器拓展/Lesson26/打开Scene拓展窗口\")]\n    private static void OpenLesson26()\n    {\n        Lesson26Window window = EditorWindow.GetWindow\u003cLesson26Window\u003e();\n        window.Show();\n    }\n\n    private void OnEnable()\n    {\n\t\t//窗口显示时开始监听Scene窗口更新\n        SceneView.duringSceneGui += SceneUpdate;\n    }\n\n    private void OnDestroy()\n    {\n\t\t//窗口销毁时移除对Scene窗口更新的监听\n        SceneView.duringSceneGui -= SceneUpdate;\n    }\n\n\t//当Scene窗口更新时会执行的方法\n    private void SceneUpdate(SceneView sceneView)\n    {\n        Debug.Log(\"自定义窗口拓展Scene相关内容\");\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240404230056-347h8vl","Type":"NodeParagraph","Properties":{"id":"20240404230056-347h8vl","updated":"20240404231235"},"Children":[{"Type":"NodeText","Data":"当自定义窗口显示时，就会执行添加到"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SceneView.duringSceneGui"},{"Type":"NodeText","Data":"​事件内的方法，该方法要有一个"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SceneView"},{"Type":"NodeText","Data":"​参数"}]},{"ID":"20240404231613-mqtjdu3","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240404231613-mqtjdu3","updated":"20241018133907"},"Children":[{"Type":"NodeText","Data":"Handles类的具体使用"}]},{"ID":"20240404232014-z9rk9cc","Type":"NodeList","ListData":{},"Properties":{"id":"20240404232014-z9rk9cc","updated":"20240404232100"},"Children":[{"ID":"20240404232014-k7c2qcg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404232014-k7c2qcg","updated":"20240404232019"},"Children":[{"ID":"20240404232014-30yu65x","Type":"NodeParagraph","Properties":{"id":"20240404232014-30yu65x","updated":"20240404232019"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240404232019-5njgms2","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"文本、线段、虚线"}]}]},{"ID":"20240404232014-7z53m6w","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404232014-7z53m6w","updated":"20240404232037"},"Children":[{"ID":"20240404232014-19ndehk","Type":"NodeParagraph","Properties":{"id":"20240404232014-19ndehk","updated":"20240404232037"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240404232037-bwg5brb","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"弧线、圆、立方体，几何体"}]}]},{"ID":"20240404232014-5vz30pf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404232014-5vz30pf","updated":"20240404232045"},"Children":[{"ID":"20240404232014-f25bnp3","Type":"NodeParagraph","Properties":{"id":"20240404232014-f25bnp3","updated":"20240404232045"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240404232044-sc734pz","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"移动、旋转、缩放"}]}]},{"ID":"20240404232014-n9wjtv6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404232014-n9wjtv6","updated":"20240404232053"},"Children":[{"ID":"20240404232014-vy0h376","Type":"NodeParagraph","Properties":{"id":"20240404232014-vy0h376","updated":"20240404232053"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240404232052-4cikgq4","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"自由移动、自由旋转"}]}]},{"ID":"20240404232014-d4njz85","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404232014-d4njz85","updated":"20240404232100"},"Children":[{"ID":"20240404232014-86cejcq","Type":"NodeParagraph","Properties":{"id":"20240404232014-86cejcq","updated":"20240404232100"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240404232100-hislblr","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"显示GUI"}]}]}]},{"ID":"20241018133907-pkkz0pg","Type":"NodeParagraph","Properties":{"id":"20241018133907-pkkz0pg","updated":"20241018133907"}}]}