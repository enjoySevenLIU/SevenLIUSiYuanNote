{"ID":"20230805131856-z9wg2em","Spec":"1","Type":"NodeDocument","Properties":{"id":"20230805131856-z9wg2em","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20230805131856-z9wg2em\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230807140818-x48xjv6\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230807142810-ss2prc0\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20230807140818-x48xjv6\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0\u0026#125;","title":"U3L16-1-e——2D Animation 换装","type":"doc","updated":"20250109125447"},"Children":[{"ID":"20230807140818-x48xjv6","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230807140818-x48xjv6","updated":"20250109125025"},"Children":[{"Type":"NodeText","Data":"同一文件和 不同文件 制作换装资源两种方案"}]},{"ID":"20230807140831-0hva49j","Type":"NodeParagraph","Properties":{"id":"20230807140831-0hva49j","updated":"20250109124933"},"Children":[{"Type":"NodeText","Data":"换装有两种情况，一个是在 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20230805213357-mybxg1k","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"同一个文件"},{"Type":"NodeText","Data":" 内，一个是 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20230805212929-09ibone","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"不在同一文件"},{"Type":"NodeText","Data":" 内"}]},{"ID":"20230807140820-pzxhp5p","Type":"NodeList","ListData":{},"Properties":{"id":"20230807140820-pzxhp5p","updated":"20250109125025"},"Children":[{"ID":"20250109125006-k73y60r","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250109125006-k73y60r","updated":"20250109125020"},"Children":[{"ID":"20250109125006-asil1fw","Type":"NodeParagraph","Properties":{"id":"20250109125006-asil1fw","updated":"20250109125020"},"Children":[{"Type":"NodeText","Data":"换装较少的游戏，比如只有面部表情更换，可以使用同一 psb 文件方案"}]}]},{"ID":"20250109125007-uzjm6h3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250109125007-uzjm6h3","updated":"20250109125025"},"Children":[{"ID":"20250109125007-v0ztpys","Type":"NodeParagraph","Properties":{"id":"20250109125007-v0ztpys","updated":"20250109125025"},"Children":[{"Type":"NodeText","Data":"换装较多的游戏，比如各部位有 n 种装备，可以使用不同 psb 文件方案，不同 psb 文件的拓展性更强"}]}]}]},{"ID":"20250109124952-yrma9rm","Type":"NodeParagraph","Properties":{"id":"20250109124952-yrma9rm","updated":"20250109124952"},"Children":[{"Type":"NodeText","Data":"一切根据需求而定使用何种方案"}]},{"ID":"20230807140837-wn17hjm","Type":"NodeThematicBreak","Properties":{"id":"20230807140837-wn17hjm"}},{"ID":"20230805213357-mybxg1k","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230805213357-mybxg1k","updated":"20230805213408"},"Children":[{"Type":"NodeText","Data":"换装资源在同一个文件中"}]},{"ID":"20230806011021-wwq63fu","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230806011021-wwq63fu","updated":"20230806011032"},"Children":[{"Type":"NodeText","Data":"本章代码关键字"}]},{"ID":"20230806011033-2fw763w","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230806011033-2fw763w","updated":"20230806011215"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"UnityEngine.U2D.Animation                //SpriteResolver所需要的命名空间\nSpriteResolver                           //精灵解算器类\nspriteResolver.GetCategory()             //获取当前部位默认的类别名\nspriteResolver.SetCategoryAndLabel(,)    //设置当前部位想要切换的图片信息\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230805131856-ddgjobx","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230805131856-ddgjobx","updated":"20250109125031"},"Children":[{"Type":"NodeText","Data":"如何在同一个psb文件中制作换装资源"}]},{"ID":"20230805212847-gle7d2c","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230805212847-gle7d2c","updated":"20250109125031"},"Children":[{"ID":"20250109125028-ggo06gx","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250109125028-ggo06gx","updated":"20250109125031"},"Children":[{"ID":"20250109125028-ztnxofs","Type":"NodeParagraph","Properties":{"id":"20250109125028-ztnxofs","updated":"20250109125031"},"Children":[{"Type":"NodeText","Data":"在 PS 中制作美术资源时，将一个游戏对象的所有换装资源都摆放好位置"}]}]},{"ID":"20250109125028-383ba8w","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250109125028-383ba8w","updated":"20250109125028"},"Children":[{"ID":"20250109125028-gnk0pnw","Type":"NodeParagraph","Properties":{"id":"20250109125028-gnk0pnw","updated":"20250109125028"},"Children":[{"Type":"NodeText","Data":"当我们导入该资源时，要注意是否导入隐藏的图层"}]}]}]},{"ID":"20230805212812-0axz1s7","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230805212812-0axz1s7","updated":"20250109125132"},"Children":[{"Type":"NodeText","Data":"编辑换装资源的骨骼信息以及分组类别"}]},{"ID":"20230805212848-6e4cnq8","Type":"NodeParagraph","Properties":{"id":"20230805212848-6e4cnq8","updated":"20250109125043"},"Children":[{"Type":"NodeText","Data":"注意事项：每个部位，关联的骨骼要明确设置，为同一个部位的不同装备分组"}]},{"ID":"20230806001315-abg1fnk","Type":"NodeBlockquote","Properties":{"id":"20230806001315-abg1fnk","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color); --b3-parent-background: var(--b3-card-warning-background);","updated":"20250109125132"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20250109125113-ofyqw6v","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250109125113-ofyqw6v","updated":"20250109125132"},"Children":[{"Type":"NodeText","Data":"注意！"}]},{"ID":"20250109125111-pa11pg1","Type":"NodeParagraph","Properties":{"id":"20250109125111-pa11pg1","updated":"20250109125132"},"Children":[{"Type":"NodeText","Data":"2021 版 Unity 以后，Skinning Editor 右侧面板的 Sprite 不能再进行分组，\n因此编辑换装资源的骨骼信息以及分组类别和如何换装的部分较课上发生了较大的变化，下面会重写如何换装的部分"}]}]},{"ID":"20230805212826-3actazo","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230805212826-3actazo","updated":"20250109125138"},"Children":[{"Type":"NodeText","Data":"如何换装"}]},{"ID":"20230805212855-dj8yyfj","Type":"NodeList","ListData":{},"Properties":{"id":"20230805212855-dj8yyfj","updated":"20250109125138"},"Children":[{"ID":"20250109125138-vwme88s","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250109125138-vwme88s","updated":"20250109125138"},"Children":[{"ID":"20250109125138-nb4e0yu","Type":"NodeParagraph","Properties":{"id":"20250109125138-nb4e0yu","updated":"20250109125138"},"Children":[{"Type":"NodeText","Data":"两个关键组件\n"}]},{"ID":"20250109125143-hhu03ts","Type":"NodeList","ListData":{},"Properties":{"id":"20250109125143-hhu03ts","updated":"20250109125143"},"Children":[{"ID":"20250109125139-1dbbq8o","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250109125139-1dbbq8o","updated":"20250109125139"},"Children":[{"ID":"20250109125139-jhxyeu3","Type":"NodeParagraph","Properties":{"id":"20250109125139-jhxyeu3","updated":"20250109125139"},"Children":[{"Type":"NodeText","Data":"Sprite Library —— 精灵资料库，确定类别分组信息\n"}]}]},{"ID":"20250109125140-w2155o0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250109125140-w2155o0","updated":"20250109125140"},"Children":[{"ID":"20250109125140-jk4g851","Type":"NodeParagraph","Properties":{"id":"20250109125140-jk4g851","updated":"20250109125140"},"Children":[{"Type":"NodeText","Data":"Sprite Resolver —— 精灵解算器，用于确定部位类别和使用的图片\n"}]}]}]}]},{"ID":"20250109125141-m0wnvm4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250109125141-m0wnvm4","updated":"20250109125141"},"Children":[{"ID":"20250109125141-zhs5q4h","Type":"NodeParagraph","Properties":{"id":"20250109125141-zhs5q4h","updated":"20250109125141"},"Children":[{"Type":"NodeText","Data":"一个数据文件\n"}]},{"ID":"20250109125146-xxykcbs","Type":"NodeList","ListData":{},"Properties":{"id":"20250109125146-xxykcbs","updated":"20250109125146"},"Children":[{"ID":"20250109125141-kqy1ht7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250109125141-kqy1ht7","updated":"20250109125141"},"Children":[{"ID":"20250109125141-4j1k7mq","Type":"NodeParagraph","Properties":{"id":"20250109125141-4j1k7mq","updated":"20250109125141"},"Children":[{"Type":"NodeText","Data":"Sprite Library Asset —— 精灵资料库资源，具体记录类别分组信息的文件"}]}]}]}]}]},{"ID":"20230806002029-t7vpy8z","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230806002029-t7vpy8z","updated":"20250109125312"},"Children":[{"Type":"NodeText","Data":"2021 版 Unity 的 编辑分组类别 以及 换装方法"}]},{"ID":"20230806002125-2ypcx2z","Type":"NodeParagraph","Properties":{"id":"20230806002125-2ypcx2z","updated":"20250109125150"},"Children":[{"Type":"NodeText","Data":"如上文所述，2021 版 Unity 以后，Skinning Editor 右侧面板的 Sprite 不能再进行分组\n因此 编辑换装资源的骨骼信息以及分组类别 和 如何换装 较课上所讲内容 发生了较大的变化"}]},{"ID":"20230806002207-dlcs0gr","Type":"NodeParagraph","Properties":{"id":"20230806002207-dlcs0gr","updated":"20230806002323"},"Children":[{"Type":"NodeText","Data":"这里重写一次 编辑分组类别 和 换装 的具体流程"}]},{"ID":"20230806002331-mfww8iw","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230806002331-mfww8iw","updated":"20250109125312"},"Children":[{"ID":"20230806002333-f16j02x","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230806002333-f16j02x","updated":"20250109125233"},"Children":[{"ID":"20230806002333-3wtmjv3","Type":"NodeParagraph","Properties":{"id":"20230806002333-3wtmjv3","updated":"20230806002345"},"Children":[{"Type":"NodeText","Data":"编辑分组类别"}]},{"ID":"20230806002348-jrxxt5q","Type":"NodeParagraph","Properties":{"id":"20230806002348-jrxxt5q","updated":"20250109125225"},"Children":[{"Type":"NodeText","Data":"首先，需要完成 PSB 文件下所有小图的骨骼绑定，每个部位所关联的骨骼要明确设置，完成以上步骤，保存并退出\n然后，在 Project 面板下右键新建一个 Sprite Library Asset（精灵资料库资源）文件，进行手动分组"}]},{"ID":"20230806003147-u1oxlhp","Type":"NodeSuperBlock","Properties":{"id":"20230806003147-u1oxlhp","updated":"20250109125233"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20230806003141-uvbwffh","Type":"NodeParagraph","Properties":{"id":"20230806003141-uvbwffh","updated":"20230806003207"},"Children":[{"Type":"NodeText","Data":"​​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230806003207-dma9wms.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​​"}]},{"ID":"20230806003135-2qwy7o7","Type":"NodeList","ListData":{},"Properties":{"id":"20230806003135-2qwy7o7","updated":"20250109125233"},"Children":[{"ID":"20230806003145-31vigzk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230806003145-31vigzk","updated":"20230806003145"},"Children":[{"ID":"20230806003145-3znzsw9","Type":"NodeParagraph","Properties":{"id":"20230806003145-3znzsw9","updated":"20230806003348"},"Children":[{"Type":"NodeText","Data":"首先，为每个要换装的部位都创建一个组（按右下角的 + ）并为其命名"}]}]},{"ID":"20230806003349-q7jp88n","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230806003349-q7jp88n"},"Children":[{"ID":"20230806003349-g0f9nwy","Type":"NodeParagraph","Properties":{"id":"20230806003349-g0f9nwy","updated":"20230806003500"},"Children":[{"Type":"NodeText","Data":"然后将每个部位的各个小图拖入对应的组内"}]}]},{"ID":"20230806003445-wnsuzv9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20230806003445-wnsuzv9","updated":"20250109125233"},"Children":[{"ID":"20230806003445-4m4x3pf","Type":"NodeParagraph","Properties":{"id":"20230806003445-4m4x3pf","updated":"20250109125233"},"Children":[{"Type":"NodeText","Data":"按 Apply 保存"}]}]}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20230806003300-htm9ehe","Type":"NodeParagraph","Properties":{"id":"20230806003300-htm9ehe","updated":"20230806003540"},"Children":[{"Type":"NodeText","Data":"为同一个部位的不同装备分完组后，就可以换装"}]}]},{"ID":"20230806003541-kcy6ugm","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230806003541-kcy6ugm","updated":"20250109125312"},"Children":[{"ID":"20230806003541-08swp85","Type":"NodeParagraph","Properties":{"id":"20230806003541-08swp85","updated":"20230806003545"},"Children":[{"Type":"NodeText","Data":"换装方法"}]},{"ID":"20230806003548-uhldtoy","Type":"NodeParagraph","Properties":{"id":"20230806003548-uhldtoy","updated":"20250109125238"},"Children":[{"Type":"NodeText","Data":"由于 PSB 文件内无法内置 Sprite Library Asset 文件，因此换装的流程相对于课上所讲的内容会更繁琐一些"}]},{"ID":"20230806003652-nlivxh1","Type":"NodeParagraph","Properties":{"id":"20230806003652-nlivxh1","updated":"20250109125254"},"Children":[{"Type":"NodeText","Data":"首先，在场景上创建一个空物体作为根对象，将PSB文件拖到空物体下作为子对象\n然后，在空物体或者 PSB 父对象上添加 Sprite Library（精灵资料库），并将上一步完成的 Sprite Library Asset 文件拖进去（如下图）"}]},{"ID":"20250109125246-2kwtm5t","Type":"NodeParagraph","Properties":{"id":"20250109125246-2kwtm5t","updated":"20250109125246"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 647px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230806004338-ewgozhm.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 647px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20230806003915-7tteqi1","Type":"NodeParagraph","Properties":{"id":"20230806003915-7tteqi1","updated":"20230806004912"},"Children":[{"Type":"NodeText","Data":"完成上一步后，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"将所有要换装的部位下的"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);"},"TextMarkType":"strong text","TextMarkTextContent":"多余贴图全部失活，只留一个贴图"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);\"}"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"（如下图所示）"}]},{"ID":"20250109125258-580iz2i","Type":"NodeParagraph","Properties":{"id":"20250109125258-580iz2i","updated":"20250109125258"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 239px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230806004205-kze1kyi.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 239px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20230806004209-vyp6kaq","Type":"NodeParagraph","Properties":{"id":"20230806004209-vyp6kaq","updated":"20250109125312"},"Children":[{"Type":"NodeText","Data":"接下来，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"对所有要换装的部位下唯一激活的贴图添加Sprite Resolver（精灵解算器），"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);"},"TextMarkType":"strong text","TextMarkTextContent":"并打开 SpriteSkin 的 Auto Rebind（以防止出现渲染错误）"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);\"}"}]},{"ID":"20250109125305-jz6snr5","Type":"NodeParagraph","Properties":{"id":"20250109125305-jz6snr5","updated":"20250109125305"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 411px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230806004810-btr881v.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 411px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20230806004815-9h17lq9","Type":"NodeParagraph","Properties":{"id":"20230806004815-9h17lq9","updated":"20230806004904"},"Children":[{"Type":"NodeText","Data":"对所有要换装的部位完成以上步骤后，换装部分就完成了，之后可以在代码里调用他们"}]}]}]},{"ID":"20230805212833-9ah89pa","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230805212833-9ah89pa","updated":"20250109125326"},"Children":[{"Type":"NodeText","Data":"代码换装"}]},{"ID":"20230806005155-ja6o0y1","Type":"NodeParagraph","Properties":{"id":"20230806005155-ja6o0y1","updated":"20250109125320"},"Children":[{"Type":"NodeText","Data":"获取各部位的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SpriteResolver"},{"Type":"NodeText","Data":"​（需要引用命名空间）"}]},{"ID":"20230806005535-da7so19","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230806005535-da7so19","updated":"20230806010031"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"using UnityEngine;\nusing UnityEngine.U2D.Animation;\n\npublic class Lesson40 : MonoBehaviour\n{\n    public SpriteResolver spriteResolver;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230806005155-2s0s4oh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230806005155-2s0s4oh","updated":"20250109125326"},"Children":[{"Type":"NodeText","Data":"使用 SpriteResolver 的 API 进行装备切换"}]},{"ID":"20230806005618-vk7dzmx","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230806005618-vk7dzmx","name":"spriteResolver.GetCategory()","updated":"20230806005703"},"Children":[{"Type":"NodeText","Data":"获取当前部位默认的类别名"}]},{"ID":"20230806005706-kvdk4ej","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230806005706-kvdk4ej","updated":"20230806005850"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"spriteResolver.GetCategory()\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230806005900-snp2xk3","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20230806005900-snp2xk3","name":"spriteResolver.SetCategoryAndLabel()","updated":"20250109125329"},"Children":[{"Type":"NodeText","Data":"设置当前部位想要切换的图片信息"}]},{"ID":"20230806005921-6lkslpj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230806005921-6lkslpj","updated":"20230806005937"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"spriteResolver.SetCategoryAndLabel(spriteResolver.GetCategory(), \"CASK 3\");\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230806010821-agbtcl7","Type":"NodeParagraph","Properties":{"id":"20230806010821-agbtcl7","updated":"20250109125329"},"Children":[{"Type":"NodeText","Data":"利用 API 获取所有的部位，并通过封装方便切换"}]},{"ID":"20230806010848-327nf9o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20230806010848-327nf9o","updated":"20230806011010"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"using System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.U2D.Animation;\n\npublic class Lesson40 : MonoBehaviour\n{\n    private Dictionary\u003cstring, SpriteResolver\u003e equipDic = new Dictionary\u003cstring, SpriteResolver\u003e();\n\n    void Start()\n    {\n        SpriteResolver[] srs = this.GetComponentsInChildren\u003cSpriteResolver\u003e();\n        for (int i = 0; i \u003c srs.Length; i++)\n        {\n            equipDic.Add(srs[i].GetCategory(), srs[i]);\n        }\n\n        ChangeEquip(\"cask\", \"CASK 4\");\n    }\n\n    public void ChangeEquip(string category, string equipName)\n    {\n        if (equipDic.ContainsKey(category))\n        {\n            equipDic[category].SetCategoryAndLabel(category, equipName);\n        }\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20230807140842-rf662lw","Type":"NodeThematicBreak","Properties":{"id":"20230807140842-rf662lw"}},{"ID":"20230805212929-09ibone","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20230805212929-09ibone","updated":"20250109125447"},"Children":[{"Type":"NodeText","Data":"换装资源在不同文件中"}]},{"ID":"20230806005947-iibqsyx","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230806005947-iibqsyx","updated":"20250109125447"},"Children":[{"Type":"NodeText","Data":"如何在不同psb文件中制作换装资源"}]},{"ID":"20230807134947-spzea54","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230807134947-spzea54","updated":"20250109125447"},"Children":[{"ID":"20230807134955-c46l0s6","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230807134955-c46l0s6","updated":"20250109125447"},"Children":[{"ID":"20230807134955-1lwhddp","Type":"NodeParagraph","Properties":{"id":"20230807134955-1lwhddp","updated":"20250109125447"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"保证各部位在 PS 文件中的统一"}]}]},{"ID":"20230807134955-vxpyxz6","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230807134955-vxpyxz6","updated":"20230807134955"},"Children":[{"ID":"20230807134955-u2zz6s2","Type":"NodeParagraph","Properties":{"id":"20230807134955-u2zz6s2","updated":"20230807134955"},"Children":[{"Type":"NodeText","Data":"基础部位可选择性隐藏"}]}]}]},{"ID":"20230807135003-krrcr5a","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230807135003-krrcr5a","updated":"20250109125333"},"Children":[{"Type":"NodeText","Data":"编辑换装资源的骨骼信息"}]},{"ID":"20230807135018-1zhuz89","Type":"NodeParagraph","Properties":{"id":"20230807135018-1zhuz89","updated":"20250109125333"},"Children":[{"Type":"NodeText","Data":"注意事项："},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"不同文件的骨骼信息必须统一"},{"Type":"NodeText","Data":"，所以我们直接使用复制的方式"}]},{"ID":"20230807135238-62n9z3e","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230807135238-62n9z3e","updated":"20250109125440"},"Children":[{"Type":"NodeText","Data":"手动添加关键组件和数据文件"}]},{"ID":"20230807135259-tywumej","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230807135259-tywumej","updated":"20250109125402"},"Children":[{"ID":"20230807135302-x534lk1","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230807135302-x534lk1","updated":"20250109125358"},"Children":[{"ID":"20230807135302-y4fx34b","Type":"NodeParagraph","Properties":{"id":"20230807135302-y4fx34b","updated":"20250109125358"},"Children":[{"Type":"NodeText","Data":"首先创建 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SpriteLibraryAsset"},{"Type":"NodeText","Data":"​ 数据文件"}]}]},{"ID":"20230807135302-6i93a1k","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230807135302-6i93a1k","updated":"20250109125400"},"Children":[{"ID":"20230807135302-4xzpiox","Type":"NodeParagraph","Properties":{"id":"20230807135302-4xzpiox","updated":"20250109125400"},"Children":[{"Type":"NodeText","Data":"为跟对象添加 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SpriteLibrary"},{"Type":"NodeText","Data":"​ 并关联数据文件"}]}]},{"ID":"20230807135302-a2iteto","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20230807135302-a2iteto","updated":"20250109125402"},"Children":[{"ID":"20230807135302-msonxod","Type":"NodeParagraph","Properties":{"id":"20230807135302-msonxod","updated":"20250109125402"},"Children":[{"Type":"NodeText","Data":"为换装部位关联 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SpriteResolver"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20230807140759-e6yzsff","Type":"NodeParagraph","Properties":{"id":"20230807140759-e6yzsff","updated":"20250109125420"},"Children":[{"Type":"NodeText","Data":"步骤直接参照同一文件换装下的 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20230806002029-t7vpy8z","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"2021版换装方法"},{"Type":"NodeText","Data":" 即可，区别"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"在于："}]},{"ID":"20250109125421-vnqs3um","Type":"NodeList","ListData":{},"Properties":{"id":"20250109125421-vnqs3um","updated":"20250109125440"},"Children":[{"ID":"20250109125422-35jg4a9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250109125422-35jg4a9","updated":"20250109125422"},"Children":[{"ID":"20250109125422-yxjd3e2","Type":"NodeParagraph","Properties":{"id":"20250109125422-yxjd3e2","updated":"20250109125422"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"不同文件的不同部位都关联到一个"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SpriteLibraryAsset"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"数据文件内，"}]}]},{"ID":"20250109125425-tvlr5vz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250109125425-tvlr5vz","updated":"20250109125425"},"Children":[{"ID":"20250109125425-9v3na36","Type":"NodeParagraph","Properties":{"id":"20250109125425-9v3na36","updated":"20250109125429"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"如果 PSB 文件要换装的部位只有一个 Sprite 还可以省去隐藏其他 Sprite 的步骤"}]}]},{"ID":"20250109125431-te3rk4p","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250109125431-te3rk4p","updated":"20250109125440"},"Children":[{"ID":"20250109125431-wglan8k","Type":"NodeParagraph","Properties":{"id":"20250109125431-wglan8k","updated":"20250109125440"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);"},"TextMarkType":"text strong","TextMarkTextContent":"仍然要打开 Sprite Skin 的 Auto Behind！否则可能出现渲染问题（错位或者撕裂）"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);\"}"}]}]}]},{"ID":"20230807141534-n9xxzcz","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230807141534-n9xxzcz","updated":"20250109125342"},"Children":[{"Type":"NodeText","Data":"代码控制"}]},{"ID":"20230807142810-ss2prc0","Type":"NodeParagraph","Properties":{"id":"20230807142810-ss2prc0","updated":"20250109125342"},"Children":[{"Type":"NodeText","Data":"和上文的"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20230805212833-9ah89pa","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"相应内容"},{"Type":"NodeText","Data":"完全一致"}]},{"ID":"20250109125339-qhjb6pv","Type":"NodeParagraph","Properties":{"id":"20250109125339-qhjb6pv","updated":"20250109125339"}}]}