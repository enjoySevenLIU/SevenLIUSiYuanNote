{
	"ID": "20240322143125-sre050s",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20240322143125-sre050s",
		"title": "UH3L6——下载资源对比文件",
		"type": "doc",
		"updated": "20240324140654"
	},
	"Children": [
		{
			"ID": "20240322143125-9bgmkmy",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20240322143125-9bgmkmy",
				"updated": "20240324132924"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "必备知识点"
				}
			]
		},
		{
			"ID": "20240322165930-xlmc39a",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20240322165930-xlmc39a",
				"updated": "20240324132924"
			},
			"Children": [
				{
					"ID": "20240322165930-j2zk2ip",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20240322165930-j2zk2ip",
						"updated": "20240322170045"
					},
					"Children": [
						{
							"ID": "20240322165930-rh47fzo",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240322165930-rh47fzo",
								"updated": "20240322170045"
							},
							"Children": [
								{
									"Type": "NodeTextMark",
									"TextMarkType": "block-ref",
									"TextMarkBlockRefID": "20240322170007-5bgxww8",
									"TextMarkBlockRefSubtype": "s",
									"TextMarkTextContent": "string字符串相关"
								},
								{
									"Type": "NodeText",
									"Data": "（C"
								},
								{
									"Type": "NodeBackslash",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeText",
											"Data": "#"
										}
									]
								},
								{
									"Type": "NodeText",
									"Data": "核心）"
								}
							]
						}
					]
				},
				{
					"ID": "20240322165945-3t4ki74",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20240322165945-3t4ki74",
						"updated": "20240322170053"
					},
					"Children": [
						{
							"ID": "20240322165945-sfh7lt3",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240322165945-sfh7lt3",
								"updated": "20240322170053"
							},
							"Children": [
								{
									"Type": "NodeTextMark",
									"TextMarkType": "block-ref",
									"TextMarkBlockRefID": "20240313211326-c26ekxr",
									"TextMarkBlockRefSubtype": "s",
									"TextMarkTextContent": "FTP下载相关"
								},
								{
									"Type": "NodeText",
									"Data": "（Unity网络开发基础中）"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20240324132349-hszkppr",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20240324132349-hszkppr",
				"updated": "20240324132925"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "目标"
				}
			]
		},
		{
			"ID": "20240324132809-k1qhqkm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240324132809-k1qhqkm",
				"updated": "20240324132925"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "从Ftp服务器上下载在编辑模式时上传的资源对比文件，并解析该资源对比文件，获取所有AB包的名字，大小和MD5码"
				}
			]
		},
		{
			"ID": "20240324132918-qav80gz",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20240324132918-qav80gz",
				"updated": "20240324133056"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "实现流程"
				}
			]
		},
		{
			"ID": "20240324133103-ky9tgsq",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20240324133103-ky9tgsq",
				"updated": "20240324140654"
			},
			"Children": [
				{
					"ID": "20240324133103-mpzlogc",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20240324133103-mpzlogc",
						"updated": "20240324140654"
					},
					"Children": [
						{
							"ID": "20240324133103-70a3z0r",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240324133103-70a3z0r",
								"updated": "20240324140654"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "由于下载使用异步执行，因此下载资源对比方法"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "DownLoadABCompareFile"
								},
								{
									"Type": "NodeText",
									"Data": "​是异步方法，需要在传入资源对比文件下载完毕后要执行的回调函数"
								}
							]
						}
					]
				},
				{
					"ID": "20240324133437-mp2jyul",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"fold": "1",
						"id": "20240324133437-mp2jyul",
						"updated": "20240324135417"
					},
					"Children": [
						{
							"ID": "20240324133437-1pk39cr",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240324133437-1pk39cr",
								"updated": "20240324135558"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "Main"
								},
								{
									"Type": "NodeText",
									"Data": "​脚本的"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "start"
								},
								{
									"Type": "NodeText",
									"Data": "​方法内"
								}
							]
						},
						{
							"ID": "20240324135417-58t0xmp",
							"Type": "NodeList",
							"ListData": {
								"Typ": 1
							},
							"Properties": {
								"id": "20240324135417-58t0xmp"
							},
							"Children": [
								{
									"ID": "20240324135416-2sa8a2z",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "MS4=",
										"Num": 1
									},
									"Properties": {
										"id": "20240324135416-2sa8a2z"
									},
									"Children": [
										{
											"ID": "20240324135416-9zwry20",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20240324135416-9zwry20"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "程序启动后调用"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "ABUpdateManager"
												},
												{
													"Type": "NodeText",
													"Data": "​的"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "DownLoadABCompareFile"
												},
												{
													"Type": "NodeText",
													"Data": "​方法，传入回调匿名函数"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20240324133737-qg4k11t",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"fold": "1",
						"id": "20240324133737-qg4k11t",
						"updated": "20240324135357"
					},
					"Children": [
						{
							"ID": "20240324133737-c80wpno",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240324133737-c80wpno",
								"updated": "20240324133747"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "ABUpdateManager"
								},
								{
									"Type": "NodeText",
									"Data": "​的"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "DownLoadABCompareFile"
								},
								{
									"Type": "NodeText",
									"Data": "​方法内"
								}
							]
						},
						{
							"ID": "20240324133747-5mv69ra",
							"Type": "NodeList",
							"ListData": {
								"Typ": 1
							},
							"Properties": {
								"id": "20240324133747-5mv69ra",
								"updated": "20240324135357"
							},
							"Children": [
								{
									"ID": "20240324133747-4jpwgpo",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "MS4=",
										"Num": 1
									},
									"Properties": {
										"id": "20240324133747-4jpwgpo"
									},
									"Children": [
										{
											"ID": "20240324133747-8zkstjn",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20240324133747-8zkstjn",
												"updated": "20240324134459"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "先声明下载是否完毕，最多重试次数以及下载路径的变量"
												}
											]
										}
									]
								},
								{
									"ID": "20240324133918-75kn0re",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "Mi4=",
										"Num": 2
									},
									"Properties": {
										"id": "20240324133918-75kn0re"
									},
									"Children": [
										{
											"ID": "20240324133918-dnl0rdt",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20240324133918-dnl0rdt",
												"updated": "20240324134741"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "进入循环下载流程，如果没有下载完毕且最多重试次数大于0时就下载资源对比文件，"
												}
											]
										}
									]
								},
								{
									"ID": "20240324135122-z2ungws",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "My4=",
										"Num": 3
									},
									"Properties": {
										"id": "20240324135122-z2ungws",
										"updated": "20240324135357"
									},
									"Children": [
										{
											"ID": "20240324135122-jzbgu1i",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20240324135122-jzbgu1i",
												"updated": "20240324135131"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "创建"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "Task"
												},
												{
													"Type": "NodeText",
													"Data": "​任务调用下载方法"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "DownLoadFile"
												},
												{
													"Type": "NodeText",
													"Data": "​，传入文件名和下载路径"
												}
											]
										},
										{
											"ID": "20240324135357-nwc5gjd",
											"Type": "NodeList",
											"ListData": {},
											"Properties": {
												"id": "20240324135357-nwc5gjd",
												"updated": "20240324135357"
											},
											"Children": [
												{
													"ID": "20240324135357-8i810f7",
													"Type": "NodeListItem",
													"ListData": {
														"BulletChar": 42,
														"Marker": "Kg=="
													},
													"Properties": {
														"fold": "1",
														"id": "20240324135357-8i810f7",
														"updated": "20240324135357"
													},
													"Children": [
														{
															"ID": "20240324135357-e8dli4c",
															"Type": "NodeParagraph",
															"Properties": {
																"id": "20240324135357-e8dli4c",
																"updated": "20240324135357"
															},
															"Children": [
																{
																	"Type": "NodeText",
																	"Data": "​"
																},
																{
																	"Type": "NodeTextMark",
																	"TextMarkType": "code",
																	"TextMarkTextContent": "ABUpdateManager"
																},
																{
																	"Type": "NodeText",
																	"Data": "​的"
																},
																{
																	"Type": "NodeTextMark",
																	"TextMarkType": "code",
																	"TextMarkTextContent": "DownLoadFile"
																},
																{
																	"Type": "NodeText",
																	"Data": "​内"
																}
															]
														},
														{
															"ID": "20240324135357-m8qqvoy",
															"Type": "NodeList",
															"ListData": {
																"Typ": 1
															},
															"Properties": {
																"id": "20240324135357-m8qqvoy",
																"updated": "20240324135357"
															},
															"Children": [
																{
																	"ID": "20240324135357-6awiaqk",
																	"Type": "NodeListItem",
																	"ListData": {
																		"Typ": 1,
																		"Delimiter": 46,
																		"Marker": "MS4=",
																		"Num": 1
																	},
																	"Properties": {
																		"id": "20240324135357-6awiaqk",
																		"updated": "20240324135357"
																	},
																	"Children": [
																		{
																			"ID": "20240324135357-mweuaml",
																			"Type": "NodeParagraph",
																			"Properties": {
																				"id": "20240324135357-mweuaml",
																				"updated": "20240324135357"
																			},
																			"Children": [
																				{
																					"Type": "NodeText",
																					"Data": "尝试执行下载流程，如果下载报错输出下载失败并返回"
																				},
																				{
																					"Type": "NodeTextMark",
																					"TextMarkType": "code",
																					"TextMarkTextContent": "false"
																				},
																				{
																					"Type": "NodeText",
																					"Data": "​"
																				}
																			]
																		}
																	]
																},
																{
																	"ID": "20240324135357-a1256y6",
																	"Type": "NodeListItem",
																	"ListData": {
																		"Typ": 1,
																		"Delimiter": 46,
																		"Marker": "Mi4=",
																		"Num": 2
																	},
																	"Properties": {
																		"id": "20240324135357-a1256y6",
																		"updated": "20240324135357"
																	},
																	"Children": [
																		{
																			"ID": "20240324135357-6ojuddb",
																			"Type": "NodeParagraph",
																			"Properties": {
																				"id": "20240324135357-6ojuddb",
																				"updated": "20240324135357"
																			},
																			"Children": [
																				{
																					"Type": "NodeText",
																					"Data": "传入的文件名和服务器地址拼接为下载地址，创建FTP连接请求"
																				}
																			]
																		}
																	]
																},
																{
																	"ID": "20240324135357-pebcqcl",
																	"Type": "NodeListItem",
																	"ListData": {
																		"Typ": 1,
																		"Delimiter": 46,
																		"Marker": "My4=",
																		"Num": 3
																	},
																	"Properties": {
																		"id": "20240324135357-pebcqcl",
																		"updated": "20240324135357"
																	},
																	"Children": [
																		{
																			"ID": "20240324135357-iika0ho",
																			"Type": "NodeParagraph",
																			"Properties": {
																				"id": "20240324135357-iika0ho",
																				"updated": "20240324135357"
																			},
																			"Children": [
																				{
																					"Type": "NodeText",
																					"Data": "设置FTP连接请求通信凭证，代理设置为"
																				},
																				{
																					"Type": "NodeTextMark",
																					"TextMarkType": "code",
																					"TextMarkTextContent": "null"
																				},
																				{
																					"Type": "NodeText",
																					"Data": "​，请求完毕后关闭控制连接，操作命令设置为下载，指定传输二进制类型数据"
																				}
																			]
																		}
																	]
																},
																{
																	"ID": "20240324135357-335dhmp",
																	"Type": "NodeListItem",
																	"ListData": {
																		"Typ": 1,
																		"Delimiter": 46,
																		"Marker": "NC4=",
																		"Num": 4
																	},
																	"Properties": {
																		"id": "20240324135357-335dhmp",
																		"updated": "20240324135357"
																	},
																	"Children": [
																		{
																			"ID": "20240324135357-av0gv96",
																			"Type": "NodeParagraph",
																			"Properties": {
																				"id": "20240324135357-av0gv96",
																				"updated": "20240324135357"
																			},
																			"Children": [
																				{
																					"Type": "NodeText",
																					"Data": "通过FTP连接请求获取连接响应，通过连接响应获取下载流，创建本地文件流，从下载流下载数据到本地流，"
																				}
																			]
																		}
																	]
																},
																{
																	"ID": "20240324135403-ht5p15x",
																	"Type": "NodeListItem",
																	"ListData": {
																		"Typ": 1,
																		"Delimiter": 46,
																		"Marker": "NS4=",
																		"Num": 5
																	},
																	"Properties": {
																		"id": "20240324135403-ht5p15x"
																	},
																	"Children": [
																		{
																			"ID": "20240324135403-03txzvc",
																			"Type": "NodeParagraph",
																			"Properties": {
																				"id": "20240324135403-03txzvc",
																				"updated": "20240324135404"
																			},
																			"Children": [
																				{
																					"Type": "NodeText",
																					"Data": "下载完毕，关闭流，返回"
																				},
																				{
																					"Type": "NodeTextMark",
																					"TextMarkType": "code",
																					"TextMarkTextContent": "ture"
																				},
																				{
																					"Type": "NodeText",
																					"Data": "​"
																				}
																			]
																		}
																	]
																}
															]
														}
													]
												}
											]
										}
									]
								},
								{
									"ID": "20240324134054-k8enld7",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "NC4=",
										"Num": 4
									},
									"Properties": {
										"id": "20240324134054-k8enld7"
									},
									"Children": [
										{
											"ID": "20240324134054-2fm562o",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20240324134054-2fm562o",
												"updated": "20240324134605"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "等待"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "DownLoadFile"
												},
												{
													"Type": "NodeText",
													"Data": "​执行完成，根据其返回值是否为"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "true"
												},
												{
													"Type": "NodeText",
													"Data": "​决定是否下载完毕，如果下载完毕就会跳出循环，下载失败就最多重试次数减一"
												}
											]
										}
									]
								},
								{
									"ID": "20240324134401-0xbsvp1",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "NS4=",
										"Num": 5
									},
									"Properties": {
										"id": "20240324134401-0xbsvp1"
									},
									"Children": [
										{
											"ID": "20240324134401-vvp5kiv",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20240324134401-vvp5kiv",
												"updated": "20240324134453"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "下载完毕或者连续下载失败导致最多重试次数归0，就结束方法，执行回调函数，传入下载是否完毕"
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20240324135044-j99z7kr",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"fold": "1",
						"id": "20240324135044-j99z7kr",
						"updated": "20240324141554"
					},
					"Children": [
						{
							"ID": "20240324135044-q9zxmsk",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240324135044-q9zxmsk",
								"updated": "20240324135058"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "Main"
								},
								{
									"Type": "NodeText",
									"Data": "​脚本的"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "start"
								},
								{
									"Type": "NodeText",
									"Data": "​方法内传入的下载回调函数"
								}
							]
						},
						{
							"ID": "20240324135059-fryz8ng",
							"Type": "NodeList",
							"ListData": {
								"Typ": 1
							},
							"Properties": {
								"id": "20240324135059-fryz8ng",
								"updated": "20240324141554"
							},
							"Children": [
								{
									"ID": "20240324135906-k1lt6lh",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "MS4=",
										"Num": 1
									},
									"Properties": {
										"id": "20240324135906-k1lt6lh"
									},
									"Children": [
										{
											"ID": "20240324135906-hss53s6",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20240324135906-hss53s6",
												"updated": "20240324135906"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "如果传入"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "false"
												},
												{
													"Type": "NodeText",
													"Data": "​，则说明下载失败，输出失败信息"
												}
											]
										}
									]
								},
								{
									"ID": "20240324135058-7f78fw7",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "Mi4=",
										"Num": 2
									},
									"Properties": {
										"id": "20240324135058-7f78fw7",
										"updated": "20240324141554"
									},
									"Children": [
										{
											"ID": "20240324135058-xtf6ges",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20240324135058-xtf6ges",
												"updated": "20240324135830"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "如果传入"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "ture"
												},
												{
													"Type": "NodeText",
													"Data": "​，则说明下载成功，执行资源对比文件的解析方法"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "code",
													"TextMarkTextContent": "GetRemoteABCompareFileInfo"
												},
												{
													"Type": "NodeText",
													"Data": "​"
												}
											]
										},
										{
											"ID": "20240324135456-5z5gbbh",
											"Type": "NodeList",
											"ListData": {},
											"Properties": {
												"id": "20240324135456-5z5gbbh",
												"updated": "20240324141554"
											},
											"Children": [
												{
													"ID": "20240324135456-fyfjof9",
													"Type": "NodeListItem",
													"ListData": {
														"BulletChar": 42,
														"Marker": "Kg=="
													},
													"Properties": {
														"id": "20240324135456-fyfjof9",
														"updated": "20240324141554"
													},
													"Children": [
														{
															"ID": "20240324135456-7mxnsvw",
															"Type": "NodeParagraph",
															"Properties": {
																"id": "20240324135456-7mxnsvw",
																"updated": "20240324135516"
															},
															"Children": [
																{
																	"Type": "NodeText",
																	"Data": "​"
																},
																{
																	"Type": "NodeTextMark",
																	"TextMarkType": "code",
																	"TextMarkTextContent": "ABUpdateManager"
																},
																{
																	"Type": "NodeText",
																	"Data": "​的"
																},
																{
																	"Type": "NodeTextMark",
																	"TextMarkType": "code",
																	"TextMarkTextContent": "GetRemoteABCompareFileInfo"
																},
																{
																	"Type": "NodeText",
																	"Data": "​内"
																}
															]
														},
														{
															"ID": "20240324135518-cfcxs6j",
															"Type": "NodeList",
															"ListData": {
																"Typ": 1
															},
															"Properties": {
																"id": "20240324135518-cfcxs6j",
																"updated": "20240324141554"
															},
															"Children": [
																{
																	"ID": "20240324135517-5lrdi7l",
																	"Type": "NodeListItem",
																	"ListData": {
																		"Typ": 1,
																		"Delimiter": 46,
																		"Marker": "MS4=",
																		"Num": 1
																	},
																	"Properties": {
																		"id": "20240324135517-5lrdi7l"
																	},
																	"Children": [
																		{
																			"ID": "20240324135517-qr7ft6z",
																			"Type": "NodeParagraph",
																			"Properties": {
																				"id": "20240324135517-qr7ft6z",
																				"updated": "20240324135548"
																			},
																			"Children": [
																				{
																					"Type": "NodeText",
																					"Data": "从下载路径读取资源对比文件，获取其中的字符串内容"
																				}
																			]
																		}
																	]
																},
																{
																	"ID": "20240324135548-pplseuu",
																	"Type": "NodeListItem",
																	"ListData": {
																		"Typ": 1,
																		"Delimiter": 46,
																		"Marker": "Mi4=",
																		"Num": 2
																	},
																	"Properties": {
																		"id": "20240324135548-pplseuu"
																	},
																	"Children": [
																		{
																			"ID": "20240324135548-u4fe5ow",
																			"Type": "NodeParagraph",
																			"Properties": {
																				"id": "20240324135548-u4fe5ow",
																				"updated": "20240324135649"
																			},
																			"Children": [
																				{
																					"Type": "NodeText",
																					"Data": "通过"
																				},
																				{
																					"Type": "NodeTextMark",
																					"TextMarkType": "code",
																					"TextMarkTextContent": "'|'"
																				},
																				{
																					"Type": "NodeText",
																					"Data": "​来分割不同AB包消息，"
																				},
																				{
																					"Type": "NodeTextMark",
																					"TextMarkType": "code",
																					"TextMarkTextContent": "' '"
																				},
																				{
																					"Type": "NodeText",
																					"Data": "​分割同一AB包的不同消息，"
																				}
																			]
																		}
																	]
																},
																{
																	"ID": "20240324135651-tg9fo45",
																	"Type": "NodeListItem",
																	"ListData": {
																		"Typ": 1,
																		"Delimiter": 46,
																		"Marker": "My4=",
																		"Num": 3
																	},
																	"Properties": {
																		"id": "20240324135651-tg9fo45"
																	},
																	"Children": [
																		{
																			"ID": "20240324135651-mul8toz",
																			"Type": "NodeParagraph",
																			"Properties": {
																				"id": "20240324135651-mul8toz",
																				"updated": "20240324135801"
																			},
																			"Children": [
																				{
																					"Type": "NodeText",
																					"Data": "每个AB包消息都有一个"
																				},
																				{
																					"Type": "NodeTextMark",
																					"TextMarkType": "code",
																					"TextMarkTextContent": "ABInfo"
																				},
																				{
																					"Type": "NodeText",
																					"Data": "​对象存储，"
																				},
																				{
																					"Type": "NodeTextMark",
																					"TextMarkType": "code",
																					"TextMarkTextContent": "ABInfo"
																				},
																				{
																					"Type": "NodeText",
																					"Data": "​对象内有文件名，大小，MD5码字段来存储一个AB包的数据"
																				}
																			]
																		}
																	]
																},
																{
																	"ID": "20240324135915-7llm8kz",
																	"Type": "NodeListItem",
																	"ListData": {
																		"Typ": 1,
																		"Delimiter": 46,
																		"Marker": "NC4=",
																		"Num": 4
																	},
																	"Properties": {
																		"id": "20240324135915-7llm8kz",
																		"updated": "20240324141554"
																	},
																	"Children": [
																		{
																			"ID": "20240324135915-54vpjl6",
																			"Type": "NodeParagraph",
																			"Properties": {
																				"id": "20240324135915-54vpjl6",
																				"updated": "20240324141554"
																			},
																			"Children": [
																				{
																					"Type": "NodeText",
																					"Data": "将所有的"
																				},
																				{
																					"Type": "NodeTextMark",
																					"TextMarkType": "code",
																					"TextMarkTextContent": "ABInfo"
																				},
																				{
																					"Type": "NodeText",
																					"Data": "​对象作为值存入到字典"
																				},
																				{
																					"Type": "NodeTextMark",
																					"TextMarkType": "code",
																					"TextMarkTextContent": "remoteInfo"
																				},
																				{
																					"Type": "NodeText",
																					"Data": "​内，以AB包文件名为键，为后面的下载AB包作准备"
																				}
																			]
																		}
																	]
																}
															]
														}
													]
												}
											]
										}
									]
								},
								{
									"ID": "20240324135804-k4sg2f7",
									"Type": "NodeListItem",
									"ListData": {
										"Typ": 1,
										"Delimiter": 46,
										"Marker": "My4=",
										"Num": 3
									},
									"Properties": {
										"id": "20240324135804-k4sg2f7"
									},
									"Children": [
										{
											"ID": "20240324135804-ewetv0k",
											"Type": "NodeParagraph",
											"Properties": {
												"id": "20240324135804-ewetv0k",
												"updated": "20240324140109"
											},
											"Children": [
												{
													"Type": "NodeText",
													"Data": "执行后面的"
												},
												{
													"Type": "NodeTextMark",
													"TextMarkType": "block-ref",
													"TextMarkBlockRefID": "20240322143137-nwasewx",
													"TextMarkBlockRefSubtype": "s",
													"TextMarkTextContent": "下载AB包方法"
												},
												{
													"Type": "NodeText",
													"Data": "（下一章）"
												}
											]
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20240322212704-bv91gyp",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20240322212704-bv91gyp",
				"style": "line-height: 22px;",
				"updated": "20240324141325"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YyM="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\n\npublic class Main : MonoBehaviour\n{\n    void Start()\n    {\n        print(Application.persistentDataPath);\n        ABUpdateManager.Instance.DownLoadABCompareFile((isOver) =\u003e\n        //下载资源对比文件完毕后要执行的函数\n\t\t{\n            if (isOver)\n            {\n                ABUpdateManager.Instance.GetRemoteABCompareFileInfo();\n\t\t\t\t//TODO.. 下载AB包\n            }\n            else\n                print(\"下载失败，网络出现问题了\");\n        });\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20240322212652-t30kovm",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20240322212652-t30kovm",
				"style": "line-height: 22px;",
				"updated": "20240324135815"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YyM="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Net;\nusing System.Threading.Tasks;\nusing UnityEngine;\nusing UnityEngine.Events;\n\npublic class ABUpdateManager : MonoBehaviour\n{\n    private static ABUpdateManager instance;\n    public static ABUpdateManager Instance\n    {\n        get\n        {\n            if (instance == null)\n            {\n                GameObject obj = new GameObject(\"ABUpdateManager\");\n                instance = obj.AddComponent\u003cABUpdateManager\u003e();\n            }\n            return instance;\n        }\n    }\n\n    //用于存储远端AB包消息的字典，之后和本地进行对比即可完成更新下载相关逻辑\n    private Dictionary\u003cstring, ABInfo\u003e remoteInfo = new Dictionary\u003cstring, ABInfo\u003e();\n\n    private void OnDestroy()\n    {\n        instance = null;\n    }\n\n    public async void DownLoadABCompareFile(UnityAction\u003cbool\u003e overCallBack)\n    {\n        //从资源服务器下载资源对比文件\n        bool isOver = false;\n        int reDownloadMaxNum = 5;\n        string path = Application.persistentDataPath + \"/ABCompareInfo.txt\";\n        while (!isOver \u0026\u0026 reDownloadMaxNum \u003e 0)\n        {\n            await Task.Run(() =\u003e\n            {\n                isOver = DownLoadFile(\"ABCompareInfo.txt\", path);\n            });\n            --reDownloadMaxNum;\n        }\n        overCallBack?.Invoke(isOver);\n    }\n\n    /// \u003csummary\u003e\n    /// 获取下载下来的AB包中的消息\n    /// \u003c/summary\u003e\n    public void GetRemoteABCompareFileInfo()\n    {\n        string info = File.ReadAllText(Application.persistentDataPath + \"/ABCompareInfo.txt\");\n        //通过分隔符把不同的AB包消息分割开来\n        string[] strs = info.Split('|');\n        string[] infos;\n        for (int i = 0; i \u003c strs.Length; i++)\n        {\n            //通过空格将AB包不同的消息分割开来，实例化AB包消息类对象并加入到字典记录下来\n            infos = strs[i].Split(' ');\n            remoteInfo.Add(infos[0], new ABInfo(infos[0], infos[1], infos[2]));\n        }\n        Debug.Log(\"远端AB包对比文件，内容获取结束\");\n    }\n\n    public bool DownLoadFile(string fileName, string localPath)\n    {\n        try\n        {\n            //创建一个FTP连接 用于下载\n            FtpWebRequest request = FtpWebRequest.Create(new Uri(\"ftp://192.168.1.102/AB/PC/\" + fileName)) as FtpWebRequest;\n            //设置通信凭证 这样才能下载（如果有匿名账号，可以不设置凭证，但是实际开发中建议不要设置匿名账号）\n            NetworkCredential credential = new NetworkCredential(\"MrTang\", \"MrTang123\");\n            request.Credentials = credential;\n            //其他设置：代理设置为null，请求完毕后关闭控制连接，操作命令设置为下载，指定传输二进制类型数据\n            request.Proxy = null;\n            request.KeepAlive = false;\n            request.Method = WebRequestMethods.Ftp.DownloadFile;\n            request.UseBinary = true;\n            FtpWebResponse response = request.GetResponse() as FtpWebResponse;\n            Stream downLoadStream = response.GetResponseStream();\n            using (FileStream file = File.Create(localPath))\n            {\n                byte[] bytes = new byte[2048];\n                int contentLength = downLoadStream.Read(bytes, 0, bytes.Length);\n                while (contentLength \u003e 0)\n                {\n                    file.Write(bytes, 0, contentLength);\n                    contentLength = downLoadStream.Read(bytes, 0, bytes.Length);\n                }\n                file.Close();\n                downLoadStream.Close();\n            }\n            return true;\n        }\n        catch (Exception e)\n        {\n            Debug.Log($\"{fileName}下载失败：{e.Message}\");\n            return false;\n        }\n    }\n\n    //AB包消息类\n    private class ABInfo\n    {\n        public string name;     //AB包名字\n        public long size;       //AB包大小\n        public string md5;      //AB包MD5码\n\n        public ABInfo(string name, string size, string md5)\n        {\n            this.name = name;\n            this.size = long.Parse(size);\n            this.md5 = md5;\n        }\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20240322212717-tm5zhij",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240322212717-tm5zhij",
				"updated": "20240324133056"
			}
		}
	]
}