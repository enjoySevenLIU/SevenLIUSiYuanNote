{
	"ID": "20240428190250-bv3t107",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20240428190250-bv3t107",
		"title": "UH4L15——调试相关",
		"type": "doc",
		"updated": "20240428203847"
	},
	"Children": [
		{
			"ID": "20240428203700-1bgtaa4",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20240428203700-1bgtaa4",
				"updated": "20240428203704"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "本章代码关键字"
				}
			]
		},
		{
			"ID": "20240428203704-c024rvz",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20240428203704-c024rvz",
				"style": "line-height: 22px;",
				"updated": "20240428203847"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YyM="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "appDomain.DebugService.StartDebugService()\t//注册调试服务\nappDomain.DebugService.IsDebuggerAttached\t//判断调试器链接\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20240428191147-cnvgjjh",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20240428191147-cnvgjjh",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ILRuntime调试相关"
				}
			]
		},
		{
			"ID": "20240428201555-j5i5gvt",
			"Type": "NodeBlockquote",
			"Properties": {
				"id": "20240428201555-j5i5gvt",
				"updated": "20240428203729"
			},
			"Children": [
				{
					"Type": "NodeBlockquoteMarker",
					"Data": "\u003e"
				},
				{
					"ID": "20240428201555-t3ldos3",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20240428201555-t3ldos3",
						"updated": "20240428203729"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "注：笔者实际测试下来出现了无法命中断点的问题，原因不明且无法解决"
						}
					]
				}
			]
		},
		{
			"ID": "20240428191156-e6npd3k",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20240428191156-e6npd3k",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"ID": "20240428191159-nko1yob",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20240428191159-nko1yob",
						"updated": "20240428191159"
					},
					"Children": [
						{
							"ID": "20240428191159-anj2gwm",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428191159-anj2gwm",
								"updated": "20240428191159"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "进行ILRuntime调试需要安装插件"
								}
							]
						}
					]
				},
				{
					"ID": "20240428191159-k0uvjq0",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20240428191159-k0uvjq0",
						"updated": "20240428191201"
					},
					"Children": [
						{
							"ID": "20240428191159-r02gfrs",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428191159-r02gfrs",
								"updated": "20240428191201"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "想要进行断点调试，我们需要注册调试服务，想要及时进断点，那么可以配合协同程序等待调试器链接"
								}
							]
						}
					]
				},
				{
					"ID": "20240428191159-szklsnb",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20240428191159-szklsnb",
						"updated": "20240428191159"
					},
					"Children": [
						{
							"ID": "20240428191159-fhqfiao",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428191159-fhqfiao",
								"updated": "20240428191159"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "可以利用IP和端口调试特点来调试移动设备"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20240428190250-gwyavva",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20240428190250-gwyavva",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "准备ILRuntime调试相关插件"
				}
			]
		},
		{
			"ID": "20240428190503-8p1ohqe",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20240428190503-8p1ohqe",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"ID": "20240428190509-fptvezs",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20240428190509-fptvezs",
						"updated": "20240428190509"
					},
					"Children": [
						{
							"ID": "20240428190509-pdro1pl",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428190509-pdro1pl",
								"updated": "20240428190636"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "ILRuntime 2.1.0以下的版本 需要前往ILRuntime的Github页面获取插件\n地址："
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "a",
									"TextMarkAHref": "https://github.com/Ourpalm/ILRuntime/releases",
									"TextMarkTextContent": "Releases · Ourpalm/ILRuntime (github.com)"
								},
								{
									"Type": "NodeText",
									"Data": "​\n打开页面后，点击右侧的Releases，在对应版本处下载调试插件"
								}
							]
						},
						{
							"ID": "20240428190625-fl0jiyo",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428190625-fl0jiyo",
								"updated": "20240428190625"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeImage",
									"Data": "span",
									"Properties": {
										"parent-style": "width: 644px;",
										"style": "width: 634px;"
									},
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20240428190625-lsknz8f.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								},
								{
									"Type": "NodeKramdownSpanIAL",
									"Data": "{: style=\"width: 634px;\" parent-style=\"width: 644px;\"}"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						}
					]
				},
				{
					"ID": "20240428190509-huumt93",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20240428190509-huumt93",
						"updated": "20240428190940"
					},
					"Children": [
						{
							"ID": "20240428190509-jbik8z9",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428190509-jbik8z9",
								"updated": "20240428190646"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "ILRuntime 2.1.0及其以上的版本\n在VS上方的：拓展-管理拓展-搜索ILRuntime后安装"
								}
							]
						},
						{
							"ID": "20240428190716-mnlhxj4",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428190716-mnlhxj4",
								"updated": "20240428190716"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeImage",
									"Data": "span",
									"Properties": {
										"parent-style": "width: 619px;",
										"style": "width: 609px;"
									},
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20240428190716-bqg9wlr.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								},
								{
									"Type": "NodeKramdownSpanIAL",
									"Data": "{: style=\"width: 609px;\" parent-style=\"width: 619px;\"}"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"ID": "20240428190853-hpxfhaa",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428190853-hpxfhaa",
								"updated": "20240428190939"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "当VS的菜单栏的调试处多了一个Attach to ILRuntime时，就说明安装成功"
								}
							]
						},
						{
							"ID": "20240428190940-53ljcci",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428190940-53ljcci",
								"updated": "20240428190940"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "​"
								},
								{
									"Type": "NodeImage",
									"Data": "span",
									"Properties": {
										"parent-style": "width: 389px;",
										"style": "width: 379px;"
									},
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20240428190940-kvxux31.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								},
								{
									"Type": "NodeKramdownSpanIAL",
									"Data": "{: style=\"width: 379px;\" parent-style=\"width: 389px;\"}"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20240428190804-9tnfvh8",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20240428190804-9tnfvh8",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "断点调试的必备工作"
				}
			]
		},
		{
			"ID": "20240428190957-nk3ns17",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20240428190957-nk3ns17",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"ID": "20240428191010-9g9fttr",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20240428191010-9g9fttr",
						"updated": "20240428191010"
					},
					"Children": [
						{
							"ID": "20240428191010-i4bk8ha",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428191010-i4bk8ha",
								"updated": "20240428191010"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "在初始化处 注册调试服务 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "appDomain.DebugService.StartDebugService(端口号)"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"ID": "20240428191429-xilzn5m",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20240428191429-xilzn5m",
								"style": "line-height: 22px;",
								"updated": "20240428191436"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "YyM="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "//初始化ILRuntime相关的方法\nprivate unsafe void InitILRuntime()\n{\n    //注册委托和委托转换器\n    //注册跨域继承类\n    appDomain.RegisterCrossBindingAdaptor(new ILRuntimeAdapter.Lesson11_TestAdapter());\n    appDomain.RegisterCrossBindingAdaptor(new CoroutineAdapter());\n    appDomain.RegisterCrossBindingAdaptor(new IAsyncStateMachineClassInheritanceAdaptor());\n    //初始化LitJson相关内容\n    LitJson.JsonMapper.RegisterILRuntimeCLRRedirection(appDomain);\n    //注册值类型\n    appDomain.RegisterValueTypeBinder(typeof(Vector3), new Vector3Binder());\n    appDomain.RegisterValueTypeBinder(typeof(Vector2), new Vector2Binder());\n    appDomain.RegisterValueTypeBinder(typeof(Quaternion), new QuaternionBinder());\n  \n\n    //CLR重定向内容，必须要写到CLR绑定之前！！！\n    System.Type debugType = typeof(Debug);\n    MethodInfo methodInfo = debugType.GetMethod(\"Log\", new System.Type[] { typeof(object) });\n    appDomain.RegisterCLRMethodRedirection(methodInfo, MyLog);\n\n    //注册 CLR绑定相关信息\n    ILRuntime.Runtime.Generated.CLRBindings.Initialize(appDomain);\n    //初始化ILRuntime相关信息（目前只需要告诉ILRuntime主线程的线程ID，主要目的是能够在Unity的Profiler剖析器窗口中分析问题）\n    appDomain.UnityMainThreadID = Thread.CurrentThread.ManagedThreadId;\n\n    //启动调试服务\n    appDomain.DebugService.StartDebugService(56000);\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				},
				{
					"ID": "20240428191010-qw075d9",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20240428191010-qw075d9",
						"updated": "20240428193358"
					},
					"Children": [
						{
							"ID": "20240428191010-qh4nllr",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428191010-qh4nllr",
								"updated": "20240428191015"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "通过协同程序，等待调试器链接（否则我们无法对一开始的逻辑 进行断点）\n判断调试器链接的API为 "
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "appDomain.DebugService.IsDebuggerAttached"
								},
								{
									"Type": "NodeText",
									"Data": "​"
								}
							]
						},
						{
							"ID": "20240428193324-igt0r6k",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20240428193324-igt0r6k",
								"style": "line-height: 22px;",
								"updated": "20240428193358"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "YyM="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "public class ILRuntimeMgr : MonoBehaviour\n{\n    private IEnumerator LoadHotUpdateInfo(UnityAction callBack)\n    {\n        //异步加载DLL文件\n#if UNITY_ANDROID\n        UnityWebRequest reqDll = UnityWebRequest.Get(Application.streamingAssetsPath + \"/HotFix_Project.dll\");\n#else\n        UnityWebRequest reqDll = UnityWebRequest.Get(\"file:///\" + Application.streamingAssetsPath + \"/HotFix_Project.dll\");\n#endif\n        yield return reqDll.SendWebRequest();\n        if (reqDll.result != UnityWebRequest.Result.Success)\n            Debug.Log(\"加载DLL文件失败\" + reqDll.responseCode + reqDll.result);\n        //读取加载的DLL数据\n        byte[] dll = reqDll.downloadHandler.data;\n        reqDll.Dispose();\n        //编辑器环境下，我们可以加载调试用的pdb文件\n        UnityWebRequest reqpdb = UnityWebRequest.Get(Application.streamingAssetsPath + \"/HotFix_Project.pdb\");\n        yield return reqpdb.SendWebRequest();\n        //如果加载失败\n        if (reqpdb.result != UnityWebRequest.Result.Success)\n        {\n            Debug.LogError(\"加载DLL文件失败\" + reqpdb.responseCode + reqpdb.result);\n            StopILRuntime();\n            yield break;\n        }\n        //读取加载的DLL数据\n        byte[] pdb = reqpdb.downloadHandler.data;\n        reqpdb.Dispose();\n        pdbStream = new MemoryStream(pdb);\n        dllStream = new MemoryStream(dll);\n        //将我们两个文件的内存流用于初始化 appDomain 我们之后就可以通过该对象来执行我们对应的热更代码了\n        appDomain.LoadAssembly(dllStream, pdbStream, new PdbReaderProvider());\n        InitILRuntime();\n    \n        //如果想要调试我们的项目，那么就加一个协同程序去等待，等待调试器链接进入过后，再去这些我们后续的逻辑\n        StartCoroutine(WaitDebugger(callBack));\n    }\n\n    IEnumerator WaitDebugger(UnityAction callBack)\n    {\n        while (!appDomain.DebugService.IsDebuggerAttached)\n        {\n            yield return null;\n        }\n        ILRuntimeLoadOverDo();\n        callBack?.Invoke();\n    }\n}\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20240428190957-ewhez2n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240428190957-ewhez2n",
				"style": "background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "注意：一般只有在开发周期 才会这样去处理，如果最终发布了 就不用启动我们的调试服务 也不用去通过协程延迟执行后面的逻辑"
				}
			]
		},
		{
			"ID": "20240428193641-ky84pgw",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20240428193641-ky84pgw",
				"style": "line-height: 22px;",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YyM="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "private bool isDebug = true;\n\n//初始化ILRuntime相关的方法\nprivate unsafe void InitILRuntime()\n{\n    //注册委托和委托转换器\n    appDomain.DelegateManager.RegisterDelegateConvertor\u003cMyUnityDel1\u003e((action) =\u003e\n    {\n        return new MyUnityDel1(() =\u003e\n        {\n            ((System.Action)action)();\n        });\n    });\n    appDomain.DelegateManager.RegisterMethodDelegate\u003cint\u003e();\n    appDomain.DelegateManager.RegisterFunctionDelegate\u003cint, int, int\u003e();\n    appDomain.DelegateManager.RegisterDelegateConvertor\u003cMyUnityDel2\u003e((func) =\u003e\n    {\n        return new MyUnityDel2((i, j) =\u003e\n        {\n            return ((System.Func\u003cint, int, int\u003e)func)(i, j);\n        });\n    });\n    //注册跨域继承类\n    appDomain.RegisterCrossBindingAdaptor(new ILRuntimeAdapter.Lesson11_TestAdapter());\n    appDomain.RegisterCrossBindingAdaptor(new CoroutineAdapter());\n    appDomain.RegisterCrossBindingAdaptor(new IAsyncStateMachineClassInheritanceAdaptor());\n    //初始化LitJson相关内容\n    LitJson.JsonMapper.RegisterILRuntimeCLRRedirection(appDomain);\n    //注册值类型\n    appDomain.RegisterValueTypeBinder(typeof(Vector3), new Vector3Binder());\n    appDomain.RegisterValueTypeBinder(typeof(Vector2), new Vector2Binder());\n    appDomain.RegisterValueTypeBinder(typeof(Quaternion), new QuaternionBinder());\n  \n\n    //CLR重定向内容，必须要写到CLR绑定之前！！！\n    System.Type debugType = typeof(Debug);\n    MethodInfo methodInfo = debugType.GetMethod(\"Log\", new System.Type[] { typeof(object) });\n    appDomain.RegisterCLRMethodRedirection(methodInfo, MyLog);\n\n    //注册 CLR绑定相关信息\n    ILRuntime.Runtime.Generated.CLRBindings.Initialize(appDomain);\n    //初始化ILRuntime相关信息（目前只需要告诉ILRuntime主线程的线程ID，主要目的是能够在Unity的Profiler剖析器窗口中分析问题）\n    appDomain.UnityMainThreadID = Thread.CurrentThread.ManagedThreadId;\n\n    if (isDebug)\n    {\n        //启动调试服务\n        appDomain.DebugService.StartDebugService(56000);\n    }\n}\n\nprivate IEnumerator LoadHotUpdateInfo(UnityAction callBack)\n{\n    //异步加载DLL文件\n#if UNITY_ANDROID\n    UnityWebRequest reqDll = UnityWebRequest.Get(Application.streamingAssetsPath + \"/HotFix_Project.dll\");\n#else\n    UnityWebRequest reqDll = UnityWebRequest.Get(\"file:///\" + Application.streamingAssetsPath + \"/HotFix_Project.dll\");\n#endif\n    yield return reqDll.SendWebRequest();\n    if (reqDll.result != UnityWebRequest.Result.Success)\n        Debug.Log(\"加载DLL文件失败\" + reqDll.responseCode + reqDll.result);\n    //读取加载的DLL数据\n    byte[] dll = reqDll.downloadHandler.data;\n    reqDll.Dispose();\n    //编辑器环境下，我们可以加载调试用的pdb文件\n    UnityWebRequest reqpdb = UnityWebRequest.Get(Application.streamingAssetsPath + \"/HotFix_Project.pdb\");\n    yield return reqpdb.SendWebRequest();\n    //如果加载失败\n    if (reqpdb.result != UnityWebRequest.Result.Success)\n    {\n        Debug.LogError(\"加载DLL文件失败\" + reqpdb.responseCode + reqpdb.result);\n        StopILRuntime();\n        yield break;\n    }\n    //读取加载的DLL数据\n    byte[] pdb = reqpdb.downloadHandler.data;\n    reqpdb.Dispose();\n    pdbStream = new MemoryStream(pdb);\n    dllStream = new MemoryStream(dll);\n    //将我们两个文件的内存流用于初始化 appDomain 我们之后就可以通过该对象来执行我们对应的热更代码了\n    appDomain.LoadAssembly(dllStream, pdbStream, new PdbReaderProvider());\n    InitILRuntime();\n    if (isDebug)\n    {\n        //如果想要调试我们的项目，那么就加一个协同程序去等待，等待调试器链接进入过后，再去这些我们后续的逻辑\n        StartCoroutine(WaitDebugger(callBack));\n    }\n    else\n    {\n        ILRuntimeLoadOverDo();\n        callBack?.Invoke();\n    }\n}\n\nIEnumerator WaitDebugger(UnityAction callBack)\n{\n    print(\"等待调试器接入\");\n    while (!appDomain.DebugService.IsDebuggerAttached)\n    {\n        yield return null;\n    }\n    print(\"调试器接入成功\");\n    ILRuntimeLoadOverDo();\n    callBack?.Invoke();\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20240428191032-epzs2m4",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20240428191032-epzs2m4",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "进行断点调试"
				}
			]
		},
		{
			"ID": "20240428191100-i9ub0ca",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240428191100-i9ub0ca",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在热更工程的 调试页签中 选择 Attach to ILRuntime，即可开始断点调试"
				}
			]
		},
		{
			"ID": "20240428194333-slvrker",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240428194333-slvrker",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "先运行Unity程序，让协同程序开始等待调试器的接入"
				}
			]
		},
		{
			"ID": "20240428194507-p6idhfv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240428194507-p6idhfv",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "输出："
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"parent-style": "width: 376px;",
						"style": "width: 366px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20240428194516-n4bcz3k.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 366px;\" parent-style=\"width: 376px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20240428194524-rh3mijj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240428194524-rh3mijj",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "然后 Attach to ILRuntime 输入调试设备IP地址（本机使用"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "127.0.0.1"
				},
				{
					"Type": "NodeText",
					"Data": "​即可），端口号填入在主工程内启动调试服务时传入的端口号"
				}
			]
		},
		{
			"ID": "20240428194650-ul1p533",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240428194650-ul1p533",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"parent-style": "width: 360px;",
						"style": "width: 350px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20240428194650-94no6z5.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 350px;\" parent-style=\"width: 360px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20240428194749-7grlgzv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240428194749-7grlgzv",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"parent-style": "width: 522px;",
						"style": "width: 512px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20240428194740-uocqxkw.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 512px;\" parent-style=\"width: 522px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20240428191100-0tejydy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240428191100-0tejydy",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "注意：​"
				}
			]
		},
		{
			"ID": "20240428191105-wc0c22r",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20240428191105-wc0c22r",
				"style": "background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);",
				"updated": "20240428191155"
			},
			"Children": [
				{
					"ID": "20240428191105-24ig2db",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20240428191105-24ig2db",
						"updated": "20240428191105"
					},
					"Children": [
						{
							"ID": "20240428191105-qaetwbm",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428191105-qaetwbm",
								"updated": "20240428191111"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "附加到ILRuntime后，弹出窗口中填写的内容为IP地址和端口号，意味着我们可以调试各种设备，只要保证IP地址和端口号正确即可"
								}
							]
						}
					]
				},
				{
					"ID": "20240428191105-uidtlab",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20240428191105-uidtlab",
						"updated": "20240428191105"
					},
					"Children": [
						{
							"ID": "20240428191105-e9m5adr",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20240428191105-e9m5adr",
								"updated": "20240428191105"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "如果ILRuntime相关的dll和pdb文件没有加载成功，调试会失败"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20240428194133-001teu3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240428194133-001teu3",
				"updated": "20240428191155"
			}
		}
	]
}