{
	"ID": "20240205164005-kdq2or3",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20240205164005-kdq2or3",
		"title": "UH2S2L25——事件加减替换",
		"updated": "20240302170638"
	},
	"Children": [
		{
			"ID": "20240205164005-ngttu1c",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20240205164005-ngttu1c",
				"updated": "20240205164755"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "事件加减替换"
				}
			]
		},
		{
			"ID": "20240205205344-q0p9vsj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240205205344-q0p9vsj",
				"updated": "20240205205417"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "事件加减替换一般是为了将传入的方法存入到Lua的容器内"
				}
			]
		},
		{
			"ID": "20240205204954-p0girvg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240205204954-p0girvg",
				"updated": "20240205164755"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "固定语法为："
				}
			]
		},
		{
			"ID": "20240205204959-sr3w0jg",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20240205204959-sr3w0jg",
				"style": "line-height: 22px;",
				"updated": "20240205164755"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "bHVh"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "xlua.hotfix(CS.HotfixMain, {\n    add_myEvent = function(self, del)\n        --del是要添加的函数\n        --不要再执行self:myEvent(\"+\", del)！！！！！！\n    end,\n    remove_myEvent = function(self, del)\n\t\t--del是要移除的函数\n\t\t--不要再执行self:myEvent(\"-\", del)！！！！！！\n    end\n})\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20240205164603-mpfgdg7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240205164603-mpfgdg7",
				"updated": "20240205164755"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "事件加减替换指的是，对事件的"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "+="
				},
				{
					"Type": "NodeText",
					"Data": "​和"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "-="
				},
				{
					"Type": "NodeText",
					"Data": "​做重定向操作，只要执行到这些语句就使用Lua相关的代码"
				}
			]
		},
		{
			"ID": "20240205164603-ezlyejj",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20240205164603-ezlyejj",
				"style": "line-height: 22px;",
				"updated": "20240205164755"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YyM="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[Hotfix]\npublic class HotfixMain : MonoBehaviour\n{\n    event UnityAction myEvent;\n\n    void Start()\n    {\n        LuaManager.Instance.Init();\n        LuaManager.Instance.DoLuaFile(\"Main\");\n\n        myEvent += TestTest;\n        myEvent -= TestTest;\n    }\n\n    private void TestTest() { }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20240205205110-wr7gmag",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240205205110-wr7gmag",
				"updated": "20240205164755"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "事件加减的重定向lua函数的目的，一般是把传入的函数存在lua的容器中"
				}
			]
		},
		{
			"ID": "20240205203606-m05kv6d",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240205203606-m05kv6d",
				"updated": "20240205164755"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"Properties": {
						"style": "background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);"
					},
					"TextMarkType": "strong text",
					"TextMarkTextContent": "在事件加减的重定向lua函数中，千万不要把传入的委托往事件里存，否则会死循环！！！"
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);\"}"
				}
			]
		},
		{
			"ID": "20240205203649-dksv4hg",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20240205203649-dksv4hg",
				"style": "line-height: 22px;",
				"updated": "20240205164755"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "bHVh"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "--self:myEvent(\"+\", del)\n警告！切勿在事件加减的重定向lua函数中，这些上面的代码否则将会造成反复进入事件加减的重定向lua函数，造成死循环\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20240205204947-7d2zi8e",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240205204947-7d2zi8e",
				"updated": "20240205164755"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"parent-style": "width: 445px;",
						"style": "width: 435px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20240205204947-10v7o03.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 435px;\" parent-style=\"width: 445px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20240205164730-8mojnn1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20240205164730-8mojnn1",
				"updated": "20240205164755"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "会去尝试使用lua使用C#事件的方法去添加\n"
				},
				{
					"Type": "NodeTextMark",
					"Properties": {
						"style": "background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);"
					},
					"TextMarkType": "strong text",
					"TextMarkTextContent": "在事件加减的重定向lua函数中，千万不要把传入的委托往事件里存"
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);\"}"
				},
				{
					"Type": "NodeText",
					"Data": "！！！！！\n否则会死循环\n会把传入的 函数 存在lua中！！！！！\nself:myEvent(\"+\", del)"
				}
			]
		}
	]
}