{
	"ID": "20231112205311-q31ytpl",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20231112205311-q31ytpl",
		"scroll": "\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20231112205311-q31ytpl\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20231112205311-p0u7djn\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20231113161118-y40ws3s\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20231112214458-39qb7sp\u0026quot;,\u0026quot;focusStart\u0026quot;:47,\u0026quot;focusEnd\u0026quot;:47\u0026#125;",
		"title": "UMVCL2——不使用MVC思想制作UI逻辑",
		"updated": "20231113174627"
	},
	"Children": [
		{
			"ID": "20231112205311-p0u7djn",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20231112205311-p0u7djn",
				"updated": "20231112213713"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "不使用MVC的UI逻辑制作实例"
				}
			]
		},
		{
			"ID": "20231112213347-f48uwza",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231112213347-f48uwza",
				"updated": "20231112213408"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "假设我们有一个主面板，它的各个UI控件需要的效果如下"
				}
			]
		},
		{
			"ID": "20231112213410-efi087i",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231112213410-efi087i",
				"updated": "20231112213410"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"parent-style": "width: 501px;",
						"style": "width: 491px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20231112213410-j7bpo8t.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 491px;\" parent-style=\"width: 501px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20231112213415-df4th7d",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231112213415-df4th7d",
				"updated": "20231112213426"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "有一个选角面板，它的各个UI控件需要的效果如下"
				}
			]
		},
		{
			"ID": "20231112213650-ld4o1di",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231112213650-ld4o1di",
				"updated": "20231112213650"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Properties": {
						"parent-style": "width: 225px;",
						"style": "width: 215px;"
					},
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20231112213650-yo8frii.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"width: 215px;\" parent-style=\"width: 225px;\"}"
				},
				{
					"Type": "NodeText",
					"Data": "​"
				}
			]
		},
		{
			"ID": "20231112213654-cglgnes",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231112213654-cglgnes",
				"updated": "20231112213718"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "两面板的代码逻辑如下："
				}
			]
		},
		{
			"ID": "20231112213719-52k9o3a",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20231112213719-52k9o3a",
				"updated": "20231113160521"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "MainPanel"
				}
			]
		},
		{
			"ID": "20231113160528-38weqmv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231113160528-38weqmv",
				"updated": "20231113160716"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "这个脚本实现的功能如下："
				}
			]
		},
		{
			"ID": "20231113160540-2ac6j75",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20231113160540-2ac6j75",
				"updated": "20231113160939"
			},
			"Children": [
				{
					"ID": "20231113160542-anaf8cn",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20231113160542-anaf8cn",
						"updated": "20231113160542"
					},
					"Children": [
						{
							"ID": "20231113160542-0t7rsha",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20231113160542-0t7rsha",
								"updated": "20231113160646"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "面板的显隐（加载并装载自己）"
								}
							]
						}
					]
				},
				{
					"ID": "20231113160551-0voxvhf",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20231113160551-0voxvhf"
					},
					"Children": [
						{
							"ID": "20231113160551-8626m5t",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20231113160551-8626m5t",
								"updated": "20231113160600"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "控件监听"
								}
							]
						}
					]
				},
				{
					"ID": "20231113160718-pk8pozr",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20231113160718-pk8pozr",
						"updated": "20231113160939"
					},
					"Children": [
						{
							"ID": "20231113160718-3daimhx",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20231113160718-3daimhx",
								"updated": "20231113160939"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "角色按钮显示RolePanel"
								}
							]
						}
					]
				},
				{
					"ID": "20231113160604-0zfkngp",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NC4=",
						"Num": 4
					},
					"Properties": {
						"id": "20231113160604-0zfkngp"
					},
					"Children": [
						{
							"ID": "20231113160604-yrl3ok8",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20231113160604-yrl3ok8",
								"updated": "20231113160617"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "读取并更新数据"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20231112213731-gf129rw",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20231112213731-gf129rw",
				"style": "line-height: 22px;",
				"updated": "20231113174627"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YyM="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "using UnityEngine;\nusing UnityEngine.UI;\n\npublic class MainPanel : MonoBehaviour\n{\n    public Text txtName;\n    public Text txtLev;\n    public Text txtMoney;\n    public Text txtGem;\n    public Text txtPower;\n\n    public Button btnRole;\n\n    private static MainPanel panel;\n\n    public static MainPanel Panel =\u003e panel;\n\n    public static void ShowMe()\n    {\n        if (panel == null)\n        {\n            //实例化面板对象\n            GameObject res = Resources.Load\u003cGameObject\u003e(\"UI/MainPanel\");\n            GameObject obj = Instantiate(res);\n            obj.transform.SetParent(GameObject.Find(\"Canvas\").transform, false);\n            panel = obj.GetComponent\u003cMainPanel\u003e();\n        }\n        panel.gameObject.SetActive(true);\n        panel.UpdateInfo();\n    }\n\n    public static void HideMe()\n    {\n        if (panel != null)\n        {\n            //隐藏方式一：直接删\n            //Destroy(panel.gameObject);\n            //panel = null;\n            //隐藏方式二：设置可见为隐藏\n            panel.gameObject.SetActive(false);\n        }\n    }\n\n    // Start is called before the first frame update\n    void Start()\n    {\n        btnRole.onClick.AddListener(() =\u003e\n        {\n            Debug.Log(\"按钮点击\");\n            RolePanel.ShowMe();\n        });\n        UpdateInfo();\n    }\n\n    public void UpdateInfo()\n    {\n        //获取玩家数据 更新玩家信息\n        //获取玩家数据的方式，1.网络请求 2.json 3.xml 4.二进制 5.PlayerPrefs\n        //通过PlayerPrefs来获取本地存储的玩家信息，更新到界面上\n        txtName.text = PlayerPrefs.GetString(\"PlayerName\", \"SevenL\");\n        txtLev.text = \"LV.\" + PlayerPrefs.GetInt(\"PlayerLev\", 1).ToString();\n        txtMoney.text = PlayerPrefs.GetInt(\"PlayerMoney\", 999).ToString();\n        txtGem.text = PlayerPrefs.GetInt(\"PlayerGem\", 888).ToString();\n        txtPower.text = PlayerPrefs.GetInt(\"PlayerPower\", 20).ToString();\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20231112213716-vppzuat",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20231112213716-vppzuat",
				"updated": "20231113160525"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "RolePanel"
				}
			]
		},
		{
			"ID": "20231113160707-u3o7euv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231113160707-u3o7euv",
				"updated": "20231113160710"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "这个脚本实现的功能如下："
				}
			]
		},
		{
			"ID": "20231113160655-t2zrb15",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20231113160655-t2zrb15",
				"updated": "20231113160932"
			},
			"Children": [
				{
					"ID": "20231113160656-zlw3mqj",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20231113160656-zlw3mqj",
						"updated": "20231113160656"
					},
					"Children": [
						{
							"ID": "20231113160656-rkm2153",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20231113160656-rkm2153",
								"updated": "20231113160701"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "面板显隐"
								}
							]
						}
					]
				},
				{
					"ID": "20231113160810-svj4o5a",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20231113160810-svj4o5a"
					},
					"Children": [
						{
							"ID": "20231113160810-4v1qr6e",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20231113160810-4v1qr6e",
								"updated": "20231113160814"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "控件监听"
								}
							]
						}
					]
				},
				{
					"ID": "20231113160814-xynfqe4",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20231113160814-xynfqe4"
					},
					"Children": [
						{
							"ID": "20231113160814-qy4z8wc",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20231113160814-qy4z8wc",
								"updated": "20231113160822"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "加载并更新数据"
								}
							]
						}
					]
				},
				{
					"ID": "20231113160822-jbvdf4p",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NC4=",
						"Num": 4
					},
					"Properties": {
						"id": "20231113160822-jbvdf4p"
					},
					"Children": [
						{
							"ID": "20231113160822-xjxlnxo",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20231113160822-xjxlnxo",
								"updated": "20231113160837"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "升级，改变并记录数据"
								}
							]
						}
					]
				},
				{
					"ID": "20231113160838-iork5h7",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NS4=",
						"Num": 5
					},
					"Properties": {
						"id": "20231113160838-iork5h7",
						"updated": "20231113160932"
					},
					"Children": [
						{
							"ID": "20231113160838-n85ohr0",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20231113160838-n85ohr0",
								"updated": "20231113160932"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "关闭按钮隐藏RolePanel"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20231112213757-13fywzx",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20231112213757-13fywzx",
				"style": "line-height: 22px;",
				"updated": "20231112213851"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YyM="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.UI;\n\npublic class RolePanel : MonoBehaviour\n{\n    public Text txtLev;\n    public Text txtHp;\n    public Text txtAtk;\n    public Text txtDef;\n    public Text txtCrit;\n    public Text txtMiss;\n    public Text txtLuck;\n\n    public Button btnClose;\n    public Button btnLevUp;\n\n    private static RolePanel panel;\n\n    public static void ShowMe()\n    {\n        if (panel == null)\n        {\n            //实例化面板对象\n            GameObject res = Resources.Load\u003cGameObject\u003e(\"UI/RolePanel\");\n            GameObject obj = Instantiate(res);\n            obj.transform.SetParent(GameObject.Find(\"Canvas\").transform, false);\n            panel = obj.GetComponent\u003cRolePanel\u003e();\n        }\n        panel.gameObject.SetActive(true);\n        panel.UpdateInfo();\n    }\n\n    public static void HideMe()\n    {\n        if (panel != null)\n        {\n            //隐藏方式一：直接删\n            //Destroy(panel.gameObject);\n            //panel = null;\n            //隐藏方式二：设置可见为隐藏\n            panel.gameObject.SetActive(false);\n        }\n    }\n\n    void Start()\n    {\n        btnClose.onClick.AddListener(() =\u003e\n        {\n            HideMe();\n        });\n        btnLevUp.onClick.AddListener(() =\u003e\n        {\n            Debug.Log(\"升级！\");\n            //升级其实就是数据的更新\n            int lev =  PlayerPrefs.GetInt(\"PlayerLev\", 1);\n            int hp =   PlayerPrefs.GetInt(\"PlayerHp\", 100);\n            int atk =  PlayerPrefs.GetInt(\"PlayerAtk\", 20);\n            int def =  PlayerPrefs.GetInt(\"PlayerDef\", 10);\n            int crit = PlayerPrefs.GetInt(\"PlayerCrit\", 20);\n            int miss = PlayerPrefs.GetInt(\"PlayerMiss\", 10);\n            int luck = PlayerPrefs.GetInt(\"PlayerLuck\", 40);\n            //然后通过一定的升级规则去改变它\n            lev += 1;\n            hp += lev;\n            atk += lev;\n            def += lev;\n            crit += lev;\n            miss += lev;\n            luck += lev;\n            //存起来\n            PlayerPrefs.SetInt(\"PlayerLev\", lev);\n            PlayerPrefs.SetInt(\"PlayerHp\", hp);\n            PlayerPrefs.SetInt(\"PlayerAtk\", atk);\n            PlayerPrefs.SetInt(\"PlayerDef\", def);\n            PlayerPrefs.SetInt(\"PlayerCrit\", crit);\n            PlayerPrefs.SetInt(\"PlayerMiss\", miss);\n            PlayerPrefs.SetInt(\"PlayerLuck\", luck);\n            //同步更新面板上的数据\n            UpdateInfo();\n            MainPanel.Panel.UpdateInfo();\n        });\n\n    }\n\n    public void UpdateInfo()\n    {\n        txtLev.text = \"LV.\" + PlayerPrefs.GetInt(\"PlayerLev\", 1);\n        txtHp.text = PlayerPrefs.GetInt(\"PlayerHp\", 100).ToString();\n        txtAtk.text = PlayerPrefs.GetInt(\"PlayerAtk\", 20).ToString();\n        txtDef.text = PlayerPrefs.GetInt(\"PlayerDef\", 10).ToString();\n        txtCrit.text = PlayerPrefs.GetInt(\"PlayerCrit\", 20).ToString();\n        txtMiss.text = PlayerPrefs.GetInt(\"PlayerMiss\", 10).ToString();\n        txtLuck.text = PlayerPrefs.GetInt(\"PlayerLuck\", 40).ToString();\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20231112213825-px4z9on",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231112213825-px4z9on",
				"updated": "20231112214259"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "其中，更新UI显示数据的逻辑如下："
				}
			]
		},
		{
			"ID": "20231112213913-a8i0dwd",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20231112213913-a8i0dwd",
				"style": "line-height: 22px;",
				"updated": "20231112213929"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YyM="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "public void UpdateInfo()\n{\n    txtLev.text = \"LV.\" + PlayerPrefs.GetInt(\"PlayerLev\", 1);\n    txtHp.text = PlayerPrefs.GetInt(\"PlayerHp\", 100).ToString();\n    txtAtk.text = PlayerPrefs.GetInt(\"PlayerAtk\", 20).ToString();\n    txtDef.text = PlayerPrefs.GetInt(\"PlayerDef\", 10).ToString();\n    txtCrit.text = PlayerPrefs.GetInt(\"PlayerCrit\", 20).ToString();\n    txtMiss.text = PlayerPrefs.GetInt(\"PlayerMiss\", 10).ToString();\n    txtLuck.text = PlayerPrefs.GetInt(\"PlayerLuck\", 40).ToString();\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20231112214317-1cpkks8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231112214317-1cpkks8",
				"updated": "20231112214330"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "显示隐藏面板逻辑如下："
				}
			]
		},
		{
			"ID": "20231112214331-pkqcgy3",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20231112214331-pkqcgy3",
				"style": "line-height: 22px;",
				"updated": "20231112214403"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YyM="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "private static RolePanel panel;\n\npublic static void ShowMe()\n{\n    if (panel == null)\n    {\n        //实例化面板对象\n        GameObject res = Resources.Load\u003cGameObject\u003e(\"UI/RolePanel\");\n        GameObject obj = Instantiate(res);\n        obj.transform.SetParent(GameObject.Find(\"Canvas\").transform, false);\n        panel = obj.GetComponent\u003cRolePanel\u003e();\n    }\n    panel.gameObject.SetActive(true);\n    panel.UpdateInfo();\n}\n\npublic static void HideMe()\n{\n    if (panel != null)\n    {\n        //隐藏方式一：直接删\n        //Destroy(panel.gameObject);\n        //panel = null;\n        //隐藏方式二：设置可见为隐藏\n        panel.gameObject.SetActive(false);\n    }\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20231112213854-2ow3qyv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231112213854-2ow3qyv",
				"updated": "20231112214314"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "升级逻辑如下："
				}
			]
		},
		{
			"ID": "20231112214314-4f0rhqv",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20231112214314-4f0rhqv",
				"style": "line-height: 22px;",
				"updated": "20231112215137"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YyM="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "btnLevUp.onClick.AddListener(() =\u003e\n{\n    Debug.Log(\"升级！\");\n    //升级其实就是数据的更新\n    int lev = PlayerPrefs.GetInt(\"PlayerLev\", 1);\n    int hp = PlayerPrefs.GetInt(\"PlayerHp\", 100);\n    int atk = PlayerPrefs.GetInt(\"PlayerAtk\", 20);\n    int def = PlayerPrefs.GetInt(\"PlayerDef\", 10);\n    int crit = PlayerPrefs.GetInt(\"PlayerCrit\", 20);\n    int miss = PlayerPrefs.GetInt(\"PlayerMiss\", 10);\n    int luck = PlayerPrefs.GetInt(\"PlayerLuck\", 40);\n    //然后通过一定的升级规则去改变它\n    lev += 1;\n    hp += lev;\n    atk += lev;\n    def += lev;\n    crit += lev;\n    miss += lev;\n    luck += lev;\n    //存起来\n    PlayerPrefs.SetInt(\"PlayerLev\", lev);\n    PlayerPrefs.SetInt(\"PlayerHp\", hp);\n    PlayerPrefs.SetInt(\"PlayerAtk\", atk);\n    PlayerPrefs.SetInt(\"PlayerDef\", def);\n    PlayerPrefs.SetInt(\"PlayerCrit\", crit);\n    PlayerPrefs.SetInt(\"PlayerMiss\", miss);\n    PlayerPrefs.SetInt(\"PlayerLuck\", luck);\n    //同步更新面板上的数据\n    UpdateInfo();\n    MainPanel.Panel.UpdateInfo();\n});\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20231112214426-sz5qcp5",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20231112214426-sz5qcp5",
				"updated": "20231112214458"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "不使用MVC带来的问题"
				}
			]
		},
		{
			"ID": "20231113161847-o2w7nii",
			"Type": "NodeSuperBlock",
			"Properties": {
				"id": "20231113161847-o2w7nii",
				"updated": "20231113163133"
			},
			"Children": [
				{
					"Type": "NodeSuperBlockOpenMarker"
				},
				{
					"Type": "NodeSuperBlockLayoutMarker",
					"Data": "col"
				},
				{
					"ID": "20231112214458-39qb7sp",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20231112214458-39qb7sp",
						"updated": "20231113163133"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "可以发现，不使用MVC思想时：\n数据读取显示，数据保存，执行逻辑，控件监听，控件获取，面板显隐，\n全部分别糅合在几个UI脚本里，它们都有各自的实现，\n同时同一批数据控制分散在不同的UI脚本内。\n显然随着项目的日益扩大，不加以改善关系会越来越混乱，\n这不利于我们对代码的维护"
						}
					]
				},
				{
					"ID": "20231113161843-ju0udxg",
					"Type": "NodeParagraph",
					"Properties": {
						"id": "20231113161843-ju0udxg",
						"updated": "20231113161848"
					},
					"Children": [
						{
							"Type": "NodeText",
							"Data": "​"
						},
						{
							"Type": "NodeImage",
							"Data": "span",
							"Properties": {
								"parent-style": "width: 600px;",
								"style": "width: 590px;"
							},
							"Children": [
								{
									"Type": "NodeBang"
								},
								{
									"Type": "NodeOpenBracket"
								},
								{
									"Type": "NodeLinkText",
									"Data": "image"
								},
								{
									"Type": "NodeCloseBracket"
								},
								{
									"Type": "NodeOpenParen"
								},
								{
									"Type": "NodeLinkDest",
									"Data": "assets/image-20230829030615-k3w0vrd.png"
								},
								{
									"Type": "NodeCloseParen"
								}
							]
						},
						{
							"Type": "NodeKramdownSpanIAL",
							"Data": "{: style=\"width: 590px;\" parent-style=\"width: 600px;\"}"
						},
						{
							"Type": "NodeText",
							"Data": "​"
						}
					]
				},
				{
					"Type": "NodeSuperBlockCloseMarker"
				}
			]
		},
		{
			"ID": "20231112215548-hg0hn7l",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231112215548-hg0hn7l",
				"updated": "20231113161115"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "接下来让我们试试"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "block-ref",
					"TextMarkBlockRefID": "20231112215626-299ilmq",
					"TextMarkBlockRefSubtype": "s",
					"TextMarkTextContent": "用MVC再实现相同的功能"
				}
			]
		},
		{
			"ID": "20231113161118-y40ws3s",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20231113161118-y40ws3s"
			}
		}
	]
}