{"ID":"20240320154228-d5ukuos","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240320154228-d5ukuos","title":"UN5L5——Protobuf配置规则","type":"doc","updated":"20240729145339"},"Children":[{"ID":"20240320163736-ahh44rf","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240320163736-ahh44rf","updated":"20240320163741"},"Children":[{"Type":"NodeText","Data":"本章代码关键字"}]},{"ID":"20240320163742-o6762ff","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320163742-o6762ff","style":"line-height: 22px;","updated":"20240320175803"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"// 注释方式1\n/* 注释方式2\n   可多行注释*/\nsyntax  = \"proto3\";   \t\t//决定了proto文档的版本号，如果不设置将默认是proto2\npackage\tnamespaceName\t\t//设置命名空间\nmessage messageName { }\t\t//声明消息类\n//字段说明示例\n成员类型 字段名 = 唯一编号;\n//成员类型\n//浮点数\nfloat \t\t\t\t\t\t//C# - float\ndouble\t\t\t\t\t\t//C# - double\n//变长编码整数\nint32\t\t\t\t\t\t//C# - int（不太适用于表示负数，如要负数请使用sint32）\nint64\t\t\t\t\t\t//C# - long（不太适用于表示负数，如要负数请使用sint64）\n//适用于表示负数类型的变长编码整数\nsint32\t\t\t\t\t\t//C# - int（适用于表示负数的整数）\nsint64\t\t\t\t\t\t//C# - long（适用于表示负数的整数）\n//变长编码无符号整数\nuint32\t\t\t\t\t\t//C# - uint（变长的编码）\nuint64\t\t\t\t\t\t//C# - ulong（变长的编码）\n//无符号的固定字节整数\nfixed32\t\t\t\t\t\t//C# - uint（它通常用来表示大于2的28次方的数，比uint32更有效）\nfixed64\t\t\t\t\t\t//C# - ulong（它通常用来表示大于2的56次方的数，比uint32更有效）\n//有符号的固定字节整数\nsfixed32\t\t\t\t\t//C# - int\nsfixed64\t\t\t\t\t//C# - long\n//其他类型\nbool\t\t\t\t\t\t//C# - bool\nstring\t\t\t\t\t\t//C# - string\nbytes\t\t\t\t\t\t//C# - BytesString（Protobuf自己声明的字节字符串，不是C#的字节数组！）\n//特殊标识\nrequired\t\t\t\t\t//必须要赋值的字段，该语法不能用于proto3！\noptional\t\t\t\t\t//可以不赋值的字段\nrepeated\t\t\t\t\t//数组/List\nmap\u003c,\u003e\t\t\t\t\t\t//字典/Dictionary\n//其他关键字\nenum enumName { }\t\t\t//声明枚举\nreserved\t\t\t\t\t//保留字段，使得某个编号或者变量名后续不可使用\nimport\t\t\t\t\t\t//导入某个配置文件，使得本配置文件可以引用其声明的类或枚举\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240320154228-qxskiza","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240320154228-qxskiza","updated":"20240320154243"},"Children":[{"Type":"NodeText","Data":"回顾自定义协议生成工具中的配置文件"}]},{"ID":"20240320154249-t5dgk3b","Type":"NodeParagraph","Properties":{"id":"20240320154249-t5dgk3b","updated":"20240320154255"},"Children":[{"Type":"NodeText","Data":"我们在自定义协议配置工具相关知识点中，使用的是xml文件进行配置\n我们只需要基于xml的规则，按照一定规则配置协议信息，之后获取xml数据用于生成代码文件"}]},{"ID":"20240320154249-3nlqs6d","Type":"NodeParagraph","Properties":{"id":"20240320154249-3nlqs6d","updated":"20240320154259"},"Children":[{"Type":"NodeText","Data":"在Protobuf中原理是一样的，只不过Protobuf中有自己的配置规则，也自定义了对应的配置文件后缀格式"}]},{"ID":"20240320154806-khs2byj","Type":"NodeParagraph","Properties":{"id":"20240320154806-khs2byj","updated":"20240320154808"},"Children":[{"Type":"NodeText","Data":"我们需要掌握Protobuf的配置规则，之后才能使用工具将其转为C#脚本文件"}]},{"ID":"20240320154300-htuir6y","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240320154300-htuir6y","updated":"20240320154307"},"Children":[{"Type":"NodeText","Data":"配置后缀"}]},{"ID":"20240320154316-dlw4nlq","Type":"NodeParagraph","Properties":{"id":"20240320154316-dlw4nlq","updated":"20240320154500"},"Children":[{"Type":"NodeText","Data":"Protobuf中配置文件的后缀统一使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".proto"},{"Type":"NodeText","Data":"​，可以通过多个后缀为"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".proto"},{"Type":"NodeText","Data":"​的配置文件进行配置"}]},{"ID":"20240320154332-hgw4teq","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240320154332-hgw4teq","updated":"20240729145339"},"Children":[{"Type":"NodeText","Data":"配置规则"}]},{"ID":"20240320154548-dixh6tq","Type":"NodeParagraph","Properties":{"id":"20240320154548-dixh6tq","updated":"20240320154714"},"Children":[{"Type":"NodeText","Data":"这里记录的配置规则是使用proto3的，官网详细请看："},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://protobuf.dev/programming-guides/proto3/","TextMarkTextContent":"Language Guide (proto 3) | Protocol Buffers Documentation (protobuf.dev)"},{"Type":"NodeText","Data":"\n至于proto2语法，官网详细请看："},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://protobuf.dev/programming-guides/proto2/","TextMarkTextContent":"Language Guide (proto 2) | Protocol Buffers Documentation (protobuf.dev)"}]},{"ID":"20240320154536-2wv2ocu","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240320154536-2wv2ocu","updated":"20240729145339"},"Children":[{"ID":"20240320154537-k858hil","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240320154537-k858hil","updated":"20240320154537"},"Children":[{"ID":"20240320154537-51u7tg1","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154537-51u7tg1","updated":"20240320164902"},"Children":[{"Type":"NodeText","Data":"注释方式"}]},{"ID":"20240320154812-0ltfgzx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320154812-0ltfgzx","style":"line-height: 22px;","updated":"20240320155009"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"// 注释方式1\n/* 注释方式2\n   可多行注释*/\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240320154537-7g6kcau","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240320154537-7g6kcau"},"Children":[{"ID":"20240320154537-q5hndw0","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154537-q5hndw0","updated":"20240320164904"},"Children":[{"Type":"NodeText","Data":"第一行版本号"}]},{"ID":"20240320155528-1ldj0wd","Type":"NodeParagraph","Properties":{"id":"20240320155528-1ldj0wd","updated":"20240320155531"},"Children":[{"Type":"NodeText","Data":"决定了proto文档的版本号，如果不设置将默认是proto2"}]},{"ID":"20240320155518-11owhn6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320155518-11owhn6","style":"line-height: 22px;","updated":"20240320155524"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"syntax = \"proto3\";          //决定了proto文档的版本号，如果不设置将默认是proto2\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240320154543-xxahiom","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240320154543-xxahiom"},"Children":[{"ID":"20240320154543-btepiqu","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154543-btepiqu","updated":"20240320164906"},"Children":[{"Type":"NodeText","Data":"命名空间"}]},{"ID":"20240320155533-9phimq7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320155533-9phimq7","style":"line-height: 22px;","updated":"20240320155537"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"package GamePlayerTest;     //这决定了命名空间\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240320154721-89og5lx","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240320154721-89og5lx"},"Children":[{"ID":"20240320154721-oyx2br4","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154721-oyx2br4","updated":"20240320164907"},"Children":[{"Type":"NodeText","Data":"消息类"}]},{"ID":"20240320155540-u7lj4k9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320155540-u7lj4k9","style":"line-height: 22px;","updated":"20240320155553"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"//消息类\nmessage TestMsg {\n    //字段的声明在这里\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240320154722-to46uie","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NS4=","Num":5},"Properties":{"id":"20240320154722-to46uie"},"Children":[{"ID":"20240320154722-zp83o9w","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154722-zp83o9w","updated":"20240320164909"},"Children":[{"Type":"NodeText","Data":"成员类型 和 唯一编号"}]},{"ID":"20240320162745-k07lnx1","Type":"NodeParagraph","Properties":{"id":"20240320162745-k07lnx1","updated":"20240320162903"},"Children":[{"Type":"NodeText","Data":"Protobuf的成员声明示例："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"成员类型 字段名 = 唯一编号;"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240320162826-ywfamqn","Type":"NodeParagraph","Properties":{"id":"20240320162826-ywfamqn","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);","updated":"20240320163728"},"Children":[{"Type":"NodeText","Data":"注意！Protobuf中"},{"Type":"NodeTextMark","Properties":{"parent-style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);"},"TextMarkType":"code","TextMarkTextContent":"="},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color);\"}"},{"Type":"NodeText","Data":"​右边不是字段的默认值，而是唯一编号，所有字段都必须要有一个唯一编号，\n唯一编号在二进制流中标识字段，反序列化通过唯一编号来识别字段，将数据装载到类对应的变量中\n例如：当编号为1的字段被注释后，即使传过来的数据包含编号为1的字段数据，该数据也不会被反序列化，而是被丢弃"}]},{"ID":"20240320162043-50t5v6l","Type":"NodeParagraph","Properties":{"id":"20240320162043-50t5v6l","updated":"20240320162059"},"Children":[{"Type":"NodeText","Data":"Protobuf有多种成员类型："}]},{"ID":"20240320162229-sjhdngj","Type":"NodeList","ListData":{},"Properties":{"id":"20240320162229-sjhdngj","updated":"20240320162248"},"Children":[{"ID":"20240320162248-gg1soox","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162248-gg1soox","updated":"20240320162248"},"Children":[{"ID":"20240320162248-ve0q2bs","Type":"NodeParagraph","Properties":{"id":"20240320162248-ve0q2bs","updated":"20240320162305"},"Children":[{"Type":"NodeText","Data":"浮点数"}]},{"ID":"20240320162305-b93icqi","Type":"NodeParagraph","Properties":{"id":"20240320162305-b93icqi","updated":"20240320164402"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"float"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"double"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240320162250-683d0yw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162250-683d0yw"},"Children":[{"ID":"20240320162250-rr2wq0a","Type":"NodeParagraph","Properties":{"id":"20240320162250-rr2wq0a","updated":"20240320162309"},"Children":[{"Type":"NodeText","Data":"整数"}]},{"ID":"20240320162324-navhgmg","Type":"NodeList","ListData":{},"Properties":{"id":"20240320162324-navhgmg"},"Children":[{"ID":"20240320162323-jdue0r1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162323-jdue0r1"},"Children":[{"ID":"20240320162323-w1h6iw8","Type":"NodeParagraph","Properties":{"id":"20240320162323-w1h6iw8","updated":"20240320162330"},"Children":[{"Type":"NodeText","Data":"变长编码"}]},{"ID":"20240320164408-byhhfmi","Type":"NodeParagraph","Properties":{"id":"20240320164408-byhhfmi","updated":"20240320164526"},"Children":[{"Type":"NodeText","Data":"Protobuf在底层做了优化，变长编码会根据数字的大小，序列化时更少的字节数来存储\n例如"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int32"},{"Type":"NodeText","Data":"​，在C"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"#"}]},{"Type":"NodeText","Data":"中还是以"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​类型存储的，但是序列化时可能会被优化为1或2个字节来存储数据"}]},{"ID":"20240320162357-ut2jrih","Type":"NodeList","ListData":{},"Properties":{"id":"20240320162357-ut2jrih","updated":"20240320162437"},"Children":[{"ID":"20240320162437-z99whff","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162437-z99whff","updated":"20240320162437"},"Children":[{"ID":"20240320162437-7yf4dxn","Type":"NodeParagraph","Properties":{"id":"20240320162437-7yf4dxn","updated":"20240320162617"},"Children":[{"Type":"NodeText","Data":"一般变长编码整数（不适用于负数）"}]},{"ID":"20240320162617-q6uczy9","Type":"NodeParagraph","Properties":{"id":"20240320162617-q6uczy9","updated":"20240320164604"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int32"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int64"},{"Type":"NodeText","Data":"​ —— "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"long"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240320162438-99v2xq1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162438-99v2xq1"},"Children":[{"ID":"20240320162438-po6zesz","Type":"NodeParagraph","Properties":{"id":"20240320162438-po6zesz","updated":"20240320162634"},"Children":[{"Type":"NodeText","Data":"适用于表示负数类型的整数"}]},{"ID":"20240320164339-57q8l50","Type":"NodeParagraph","Properties":{"id":"20240320164339-57q8l50","updated":"20240320164610"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"sint32"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"sint64"},{"Type":"NodeText","Data":"​ —— "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"long"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240320162440-7i48wqj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162440-7i48wqj"},"Children":[{"ID":"20240320162440-hfj229o","Type":"NodeParagraph","Properties":{"id":"20240320162440-hfj229o","updated":"20240320164453"},"Children":[{"Type":"NodeText","Data":"变长编码无符号整数"}]},{"ID":"20240320162648-gtefu6g","Type":"NodeParagraph","Properties":{"id":"20240320162648-gtefu6g","updated":"20240320164616"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"uint32"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"uint64"},{"Type":"NodeText","Data":"​ —— "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"uint"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ulong"},{"Type":"NodeText","Data":"​"}]}]}]}]},{"ID":"20240320162330-dit07bo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162330-dit07bo"},"Children":[{"ID":"20240320162330-c2t5ijk","Type":"NodeParagraph","Properties":{"id":"20240320162330-c2t5ijk","updated":"20240320162336"},"Children":[{"Type":"NodeText","Data":"定长编码"}]},{"ID":"20240320162341-9p8ujji","Type":"NodeList","ListData":{},"Properties":{"id":"20240320162341-9p8ujji","updated":"20240320162353"},"Children":[{"ID":"20240320162353-cn3aenh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162353-cn3aenh","updated":"20240320162353"},"Children":[{"ID":"20240320162353-ksvu13w","Type":"NodeParagraph","Properties":{"id":"20240320162353-ksvu13w","updated":"20240320162710"},"Children":[{"Type":"NodeText","Data":"无符号的固定字节数的类型"}]},{"ID":"20240320164500-tvl8iio","Type":"NodeParagraph","Properties":{"id":"20240320164500-tvl8iio","updated":"20240320164734"},"Children":[{"Type":"NodeText","Data":"它通常用来表示大于2"},{"Type":"NodeTextMark","TextMarkType":"sup","TextMarkTextContent":"28"},{"Type":"NodeText","Data":"或2"},{"Type":"NodeTextMark","TextMarkType":"sup","TextMarkTextContent":"56"},{"Type":"NodeText","Data":"次方的数，比"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"uint32"},{"Type":"NodeText","Data":"​或"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"uint64"},{"Type":"NodeText","Data":"​更有效"}]},{"ID":"20240320162710-z5j9fs6","Type":"NodeParagraph","Properties":{"id":"20240320162710-z5j9fs6","updated":"20240320164352"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"fixed32"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"fixed64"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240320162354-w846slm","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162354-w846slm"},"Children":[{"ID":"20240320162354-ixs4g5y","Type":"NodeParagraph","Properties":{"id":"20240320162354-ixs4g5y","updated":"20240320162713"},"Children":[{"Type":"NodeText","Data":"有符号的固定字节数的类型"}]},{"ID":"20240320162713-syr6ozc","Type":"NodeParagraph","Properties":{"id":"20240320162713-syr6ozc","updated":"20240320164356"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"sfixed32"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"sfixed64"},{"Type":"NodeText","Data":"​"}]}]}]}]}]}]},{"ID":"20240320162253-yy0wsd2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162253-yy0wsd2"},"Children":[{"ID":"20240320162253-bq1rwmk","Type":"NodeParagraph","Properties":{"id":"20240320162253-bq1rwmk"},"Children":[{"Type":"NodeText","Data":"其他类型\n"}]},{"ID":"20240320162346-u1qbs7d","Type":"NodeList","ListData":{},"Properties":{"id":"20240320162346-u1qbs7d","updated":"20240320162347"},"Children":[{"ID":"20240320162347-11p45sy","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162347-11p45sy","updated":"20240320162347"},"Children":[{"ID":"20240320162347-fybtyqe","Type":"NodeParagraph","Properties":{"id":"20240320162347-fybtyqe","updated":"20240320162552"},"Children":[{"Type":"NodeText","Data":"布尔值： "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240320162347-yo1kcsq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162347-yo1kcsq"},"Children":[{"ID":"20240320162347-furx8bp","Type":"NodeParagraph","Properties":{"id":"20240320162347-furx8bp","updated":"20240320162522"},"Children":[{"Type":"NodeText","Data":"字符串： "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240320162348-226kj81","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320162348-226kj81"},"Children":[{"ID":"20240320162348-0p2gdr6","Type":"NodeParagraph","Properties":{"id":"20240320162348-0p2gdr6","updated":"20240320164548"},"Children":[{"Type":"NodeText","Data":"字节字符串："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bytes"},{"Type":"NodeText","Data":"​，这时Protobuf自己声明的字节字符串"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"BytesString"},{"Type":"NodeText","Data":"​，而不是C#的字节数组！"}]}]}]}]}]},{"ID":"20240320162027-zoep88d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320162027-zoep88d","style":"line-height: 22px;","updated":"20240320162037"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"//消息类\nmessage TestMsg {\n    //注意，= 右边的内容不是默认值，而是唯一编号，方便我们进行序列化与反序列化\n    //浮点数\n    float testF = 1;            //C# - float\n    double testD = 2;           //C# - double\n  \n    //整数 - 变长编码，Protobuf底层做了优化，会根据数字的大小，序列化时更少的字节数来存储\n    //例如int32，在C#中还是以int类型存储的，但是序列化时可能会被优化为1或2个字节来存储数据\n    int32 testInt32 = 3;        //C# - int（不太适用于表示负数，如要负数请使用sint32）\n    int64 testInt64 = 4;        //C# - long（不太适用于表示负数，如要负数请使用sint64）\n    //适用于表示负数类型的整数 - 变长编码\n    sint32 testSInt32 = 5;      //C# - int（适用于表示负数的整数）\n    sint64 testSInt64 = 6;      //C# - long（适用于表示负数的整数）\n    //无符号整数 - 变长编码\n    uint32 testUInt32 = 7;      //C# - uint（变长的编码）\n    uint64 testUIntt64 = 8;     //C# - ulong（变长的编码）\n\n    //无符号的固定字节数的类型 - 它的字节不可变\n    fixed32 testFixed32 = 9;    //C# - uint（它通常用来表示大于2的28次方的数，比uint32更有效）\n    fixed64 testFixed64 = 10;   //C# - ulong（它通常用来表示大于2的56次方的数，比uint32更有效）\n    //有符号的固定字节数的类型 - 它的字节不可变\n    sfixed32 testSFix32 = 11;   //C# - int\n    sfixed64 testSFix64 = 12;   //C# - long\n\n    //其他类型\n    bool testBool = 13;         //C# - bool\n    string testString = 14;     //C# - string\n    bytes testBytes = 15;       //C# - BytesString（Protobuf自己声明的字节字符串，不是C#的字节数组！）\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240320154728-oz1895v","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Ni4=","Num":6},"Properties":{"id":"20240320154728-oz1895v","updated":"20240320175824"},"Children":[{"ID":"20240320154728-air9sy3","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154728-air9sy3","updated":"20240320164913"},"Children":[{"Type":"NodeText","Data":"特殊标识"}]},{"ID":"20240320164925-g4g4fhu","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240320164925-g4g4fhu","updated":"20240320175824"},"Children":[{"ID":"20240320164950-livmnaq","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240320164950-livmnaq","updated":"20240320175824"},"Children":[{"ID":"20240320164950-0zz3t6j","Type":"NodeParagraph","Properties":{"id":"20240320164950-0zz3t6j","updated":"20240320175824"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"required"},{"Type":"NodeText","Data":"​：必须赋值的字段，"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);"},"TextMarkType":"strong text","TextMarkTextContent":"该语法不能用于proto3！"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);\"}"}]}]},{"ID":"20240320164950-0cg58lx","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240320164950-0cg58lx","updated":"20240320164950"},"Children":[{"ID":"20240320164950-b5190ry","Type":"NodeParagraph","Properties":{"id":"20240320164950-b5190ry","updated":"20240320165005"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"optional"},{"Type":"NodeText","Data":"​：可以不赋值的字段"}]}]},{"ID":"20240320164950-eedpw8a","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240320164950-eedpw8a","updated":"20240320164950"},"Children":[{"ID":"20240320164950-sfed9u6","Type":"NodeParagraph","Properties":{"id":"20240320164950-sfed9u6","updated":"20240320165239"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"repeated"},{"Type":"NodeText","Data":"​：数组/"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"List"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240320164950-lexciso","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240320164950-lexciso","updated":"20240320164950"},"Children":[{"ID":"20240320164950-kfrba0a","Type":"NodeParagraph","Properties":{"id":"20240320164950-kfrba0a","updated":"20240320165236"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"map"},{"Type":"NodeText","Data":"​：字典/"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Dictionary"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240320164856-udoyc15","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320164856-udoyc15","style":"line-height: 22px;","updated":"20240320165438"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"required float requiredF = 16;      //必须赋值的字段\noptional float optionalF = 17;      //可以不赋值的字段\nrepeated int32 listInt = 18;        //C# - 类似List\u003cint\u003e的使用\nmap\u003cint32, string\u003e testMap = 19;    //C# - 类似Dictionary\u003cint, string\u003e的使用\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240320154737-jvl7mlb","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Ny4=","Num":7},"Properties":{"id":"20240320154737-jvl7mlb"},"Children":[{"ID":"20240320154737-n4t443q","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154737-n4t443q","updated":"20240320164914"},"Children":[{"Type":"NodeText","Data":"枚举"}]},{"ID":"20240320165710-r9fgaom","Type":"NodeParagraph","Properties":{"id":"20240320165710-r9fgaom","updated":"20240320165753"},"Children":[{"Type":"NodeText","Data":"枚举的声明和调用与C"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"#"}]},{"Type":"NodeText","Data":"很类似，但有几点需要注意的："}]},{"ID":"20240320165754-d96u0t3","Type":"NodeList","ListData":{},"Properties":{"id":"20240320165754-d96u0t3","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color); width: 100%; flex: 0 0 auto;","updated":"20240320165754"},"Children":[{"ID":"20240320165754-600270v","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320165754-600270v","updated":"20240320165754"},"Children":[{"ID":"20240320165754-44pjq8i","Type":"NodeParagraph","Properties":{"id":"20240320165754-44pjq8i","updated":"20240320165832"},"Children":[{"Type":"NodeText","Data":"枚举的第一个常量字段必须映射到"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"0"},{"Type":"NodeText","Data":"​！！！"}]}]},{"ID":"20240320165810-mwmc71o","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320165810-mwmc71o"},"Children":[{"ID":"20240320165810-pv58jj9","Type":"NodeParagraph","Properties":{"id":"20240320165810-pv58jj9","updated":"20240320165925"},"Children":[{"Type":"NodeText","Data":"枚举的声明中每个常量字段语句"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"使用"},{"Type":"NodeTextMark","TextMarkType":"code strong","TextMarkTextContent":";"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"间隔"},{"Type":"NodeText","Data":"，而不是"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":","},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240320165927-br3898o","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320165927-br3898o"},"Children":[{"ID":"20240320165927-80b45ix","Type":"NodeParagraph","Properties":{"id":"20240320165927-80b45ix","updated":"20240320170000"},"Children":[{"Type":"NodeText","Data":"在消息类中调用枚举时，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"="},{"Type":"NodeText","Data":"​号右边写唯一编码而非默认值！"}]}]}]},{"ID":"20240320165440-0lvlfcx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320165440-0lvlfcx","style":"line-height: 22px;","updated":"20240320165706"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"syntax = \"proto3\";          //决定了proto文档的版本号，如果不设置将默认是proto2\n\npackage GamePlayerTest;     //这决定了命名空间\n\n//枚举的声明\nenum TestEnum {\n    NORMAL = 0;     //第一个常量必须映射到0\n    BOSS = 5;       //后面的常量值可以随意\n}\n\n//消息类\nmessage TestMsg {\n\tTestEnum testEnum = 20;     //枚举成员变量的声明，需要唯一编码\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240320154744-v325njh","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"OC4=","Num":8},"Properties":{"id":"20240320154744-v325njh","updated":"20240729145339"},"Children":[{"ID":"20240320154744-qf4joa7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154744-qf4joa7","updated":"20240729145339"},"Children":[{"Type":"NodeText","Data":"默认值"}]},{"ID":"20240320170006-hyyor3u","Type":"NodeList","ListData":{},"Properties":{"id":"20240320170006-hyyor3u","updated":"20240729145339"},"Children":[{"ID":"20240320170131-urcq28r","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320170131-urcq28r","updated":"20240320170131"},"Children":[{"ID":"20240320170131-948k2fe","Type":"NodeParagraph","Properties":{"id":"20240320170131-948k2fe","updated":"20240320170155"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​ - 空字符串"}]}]},{"ID":"20240320170131-5s1jiv7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320170131-5s1jiv7"},"Children":[{"ID":"20240320170131-yx253mv","Type":"NodeParagraph","Properties":{"id":"20240320170131-yx253mv","updated":"20240320170152"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bytes"},{"Type":"NodeText","Data":"​ - 空字节"}]}]},{"ID":"20240320170132-2qjq674","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320170132-2qjq674"},"Children":[{"ID":"20240320170132-lzj15mf","Type":"NodeParagraph","Properties":{"id":"20240320170132-lzj15mf","updated":"20240320170148"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​ - "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"false"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240320170132-ppidp39","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320170132-ppidp39"},"Children":[{"ID":"20240320170132-swhgeg1","Type":"NodeParagraph","Properties":{"id":"20240320170132-swhgeg1","updated":"20240320170143"},"Children":[{"Type":"NodeText","Data":"数值 - 0"}]}]},{"ID":"20240320170132-hnlyj5v","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320170132-hnlyj5v"},"Children":[{"ID":"20240320170132-x0k7f3a","Type":"NodeParagraph","Properties":{"id":"20240320170132-x0k7f3a","updated":"20240320170138"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"enum"},{"Type":"NodeText","Data":"​ - 0"}]}]},{"ID":"20240320170133-k69dq4p","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240320170133-k69dq4p","updated":"20240729145339"},"Children":[{"ID":"20240320170133-ok5uv2b","Type":"NodeParagraph","Properties":{"id":"20240320170133-ok5uv2b","updated":"20240729145339"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"message"},{"Type":"NodeText","Data":"​ - 取决于语言，C#为"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240320170253-njjytzc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320170253-njjytzc","style":"line-height: 22px;","updated":"20240320170436"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"message TestMsg2 {\n    int32 testInt32 = 1;\n}\n\n//消息类\nmessage TestMsg {\n    TestMsg2 testMsg2 = 21;     //声明自定义类对象，需要唯一编码，默认值是null\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240320154749-3lez49l","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"OS4=","Num":9},"Properties":{"id":"20240320154749-3lez49l"},"Children":[{"ID":"20240320154749-g171e0n","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154749-g171e0n","updated":"20240320164918"},"Children":[{"Type":"NodeText","Data":"允许嵌套"}]},{"ID":"20240320170445-f2r9jxy","Type":"NodeParagraph","Properties":{"id":"20240320170445-f2r9jxy","updated":"20240320170802"},"Children":[{"Type":"NodeText","Data":"消息类和枚举的声明可以嵌套在另一个类声明中"}]},{"ID":"20240320170443-rto8um6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320170443-rto8um6","style":"line-height: 22px;","updated":"20240320170745"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"//消息类\nmessage TestMsg {\n    //嵌套一个类在另一个类当中，相当于是内部类\n    message TestMsg3 {\n        int32 testInt32 = 1;\n    }\n\n    //枚举的声明同样可以嵌套在内部\n    enum TestEnum2 {\n        NORMAL = 0;     //第一个常量必须映射到0\n        BOSS = 1;       //后面的常量值可以随意\n    }\n\n    TestMsg3 testMsg3 = 22; \n    TestEnum2 testEnum2 = 23;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240320154754-5b2e6w5","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MTAu","Num":10},"Properties":{"id":"20240320154754-5b2e6w5"},"Children":[{"ID":"20240320154754-xxpdeeq","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154754-xxpdeeq","updated":"20240320164919"},"Children":[{"Type":"NodeText","Data":"保留字段"}]},{"ID":"20240320170815-ibmnrq9","Type":"NodeParagraph","Properties":{"id":"20240320170815-ibmnrq9","updated":"20240320172434"},"Children":[{"Type":"NodeText","Data":"如果修改了协议规则，删除了部分内容，为了避免更新时 重新使用 已经删除了的编号\n我们可以利用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"reserved"},{"Type":"NodeText","Data":"​ 关键字来保留字段，这些内容就不能再被使用了\n之所以有这个功能，是为了在版本不匹配时，反序列化不会出现结构不统一，解析错误的问题"}]},{"ID":"20240320171641-ujar2d7","Type":"NodeParagraph","Properties":{"id":"20240320171641-ujar2d7","updated":"20240320172331"},"Children":[{"Type":"NodeText","Data":"例如，我们将编号25的"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int32"},{"Type":"NodeText","Data":"​字段注释后，如果远端protobuf文件版本不匹配的的情况下\n则会发来的数据有可能会有编号25的"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int32"},{"Type":"NodeText","Data":"​数据，此时如果该编号字段未被使用，我们可以不去解析编号25的数据\n但如果编号25的字段又被重新使用且使用不同的类型，且发来的编号25数据还是"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int32"},{"Type":"NodeText","Data":"​的，解析就会出现问题"}]},{"ID":"20240320171649-fx4h455","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320171649-fx4h455","style":"line-height: 22px;","updated":"20240320171949"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"message TestMsg {\n    int32 testInt24 = 24;\n    //int32 testInt25 = 25;\n    bool testBool25 = 25;\t\t//如果发来的数据是int32类型的，解析会出现问题\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240320171931-2gjcq2n","Type":"NodeParagraph","Properties":{"id":"20240320171931-2gjcq2n","updated":"20240320172038"},"Children":[{"Type":"NodeText","Data":"因此，我们在注释某个编号字段时，同时使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"reserved"},{"Type":"NodeText","Data":"​ 关键字来限制该编号，使得该编号无法在被使用"}]},{"ID":"20240320172446-69sqpfq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320172446-69sqpfq","style":"line-height: 22px;","updated":"20240320172736"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"//消息类\nmessage TestMsg {\n    //int32 testInt25 = 25;\n    reserved 25;\t\t\t\t//限制编号25的使用\n    reserved \"testInt25\";\t\t//限制变量名testInt25的使用\n    reserved 100, 101, 102;\t\t//限制多个编号使用\n    reserved 110 to 120;\t\t//限制某个范围的编号使用\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240320154759-gv3bkgy","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MTEu","Num":11},"Properties":{"id":"20240320154759-gv3bkgy","updated":"20240320173449"},"Children":[{"ID":"20240320154759-c4ypjfh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240320154759-c4ypjfh","updated":"20240320164921"},"Children":[{"Type":"NodeText","Data":"导入定义"}]},{"ID":"20240320172805-w860o8u","Type":"NodeParagraph","Properties":{"id":"20240320172805-w860o8u","updated":"20240320172815"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"import \u0026quot;配置文件路径\u0026quot;;"},{"Type":"NodeText","Data":"​，如果你在某一个配置中 使用了另一个配置的类型，则需要导入另一个配置文件名"}]},{"ID":"20240320173221-6629qvx","Type":"NodeParagraph","Properties":{"id":"20240320173221-6629qvx","updated":"20240320173232"},"Children":[{"Type":"NodeText","Data":"假设要导入"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"HeartMsg"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240320172746-t8f565k","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320172746-t8f565k","style":"line-height: 22px;","updated":"20240320173220"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"syntax = \"proto3\";\npackage GameSystemTest;\nmessage HeartMsg {\n    int64 time = 1;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240320173308-catqmso","Type":"NodeParagraph","Properties":{"id":"20240320173308-catqmso","updated":"20240320173449"},"Children":[{"Type":"NodeText","Data":"首先需要"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"import"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"HeartMsg"},{"Type":"NodeText","Data":"​所在的配置文件，同路径下可以只填文件名，否则需要填入路径\n调用文件外部的类时，需要加上其"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"package"},{"Type":"NodeText","Data":"​的名字，或者说命名空间名"}]},{"ID":"20240320173235-rpyo6in","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240320173235-rpyo6in","style":"line-height: 22px;","updated":"20240320173256"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvdG9idWY="},{"Type":"NodeCodeBlockCode","Data":"syntax = \"proto3\";          //决定了proto文档的版本号，如果不设置将默认是proto2\npackage GamePlayerTest;     //这决定了命名空间\nimport \"test2.proto\";       //如果在同路径，就可以直接填入文件名，否则需要填入路径\n\n//消息类\nmessage TestMsg {\n    GameSystemTest.HeartMsg testHeart = 26;     //如果要使用另一个文件声明的消息类，必须要加上命名空间\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]}]}