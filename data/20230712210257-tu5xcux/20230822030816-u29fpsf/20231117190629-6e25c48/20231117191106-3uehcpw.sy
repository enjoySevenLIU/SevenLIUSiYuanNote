{"ID":"20231117191106-3uehcpw","Spec":"1","Type":"NodeDocument","Properties":{"id":"20231117191106-3uehcpw","title":"U4S3L1——视频格式和编解码器","type":"doc","updated":"20250311151946"},"Children":[{"ID":"20231117191106-wjgefi1","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231117191106-wjgefi1","updated":"20250311151946"},"Children":[{"Type":"NodeText","Data":"为什么学习视频格式和编解码器"}]},{"ID":"20231117191151-nw30pw5","Type":"NodeParagraph","Properties":{"id":"20231117191151-nw30pw5","updated":"20250311151946"},"Children":[{"Type":"NodeText","Data":"视频格式和视频的编解码器，会影响 Unity 在不同平台是否能正常播放视频\n所以我们必须简单了解视频格式和编解码器的本质，才能学习关于视频兼容性相关的知识\n所以学了这节课，我们之后才能学习视频兼容性相关知识点"}]},{"ID":"20231117191202-32noqeh","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231117191202-32noqeh","updated":"20250311151851"},"Children":[{"Type":"NodeText","Data":"视频文件的本质"}]},{"ID":"20231117191220-rx1ydys","Type":"NodeParagraph","Properties":{"id":"20231117191220-rx1ydys","updated":"20231117191235"},"Children":[{"Type":"NodeText","Data":"视频文件本质上就是一个“数据容器”，它不仅可以包含视频数据本身，它还包括："}]},{"ID":"20231117191215-w6vthdj","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20231117191215-w6vthdj","updated":"20231117191220"},"Children":[{"ID":"20231117191220-ujry1st","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20231117191220-ujry1st","updated":"20231117191220"},"Children":[{"ID":"20231117191220-4c1k9zv","Type":"NodeParagraph","Properties":{"id":"20231117191220-4c1k9zv","updated":"20231117191220"},"Children":[{"Type":"NodeText","Data":"音频"}]}]},{"ID":"20231117191220-yuewsdv","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20231117191220-yuewsdv","updated":"20231117191220"},"Children":[{"ID":"20231117191220-7f73f21","Type":"NodeParagraph","Properties":{"id":"20231117191220-7f73f21","updated":"20231117191220"},"Children":[{"Type":"NodeText","Data":"字幕"}]}]},{"ID":"20231117191220-0axrbge","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20231117191220-0axrbge","updated":"20231117191220"},"Children":[{"ID":"20231117191220-4rnlkrr","Type":"NodeParagraph","Properties":{"id":"20231117191220-4rnlkrr","updated":"20231117191220"},"Children":[{"Type":"NodeText","Data":"轨道信息（轨道还可以有多个，比如不同语言的字幕，不同语言的音频）\n"}]}]}]},{"ID":"20231117191227-42wq2fy","Type":"NodeParagraph","Properties":{"id":"20231117191227-42wq2fy","updated":"20231117191228"},"Children":[{"Type":"NodeText","Data":"等等其它内容"}]},{"ID":"20231117191245-gxv1c05","Type":"NodeParagraph","Properties":{"id":"20231117191245-gxv1c05","updated":"20250311151851"},"Children":[{"Type":"NodeText","Data":"不同格式的视频文件，比如 .mp4、.mov、.avi、.webm 等，他们表示视频文件中的数据是使用某种容器格式排列的\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"说人话：视频的本质就是一堆数据（图像、音频、字幕等等）的集合，不同格式的视频区别就是存读数据的方式方法不同而已"}]},{"ID":"20231117191259-bjj0c16","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231117191259-bjj0c16","updated":"20231117191304"},"Children":[{"Type":"NodeText","Data":"视频的编码器和解码器"}]},{"ID":"20231117191305-k14v0do","Type":"NodeParagraph","Properties":{"id":"20231117191305-k14v0do","updated":"20231117191357"},"Children":[{"Type":"NodeText","Data":"我们了解了视频本质就是一堆数据的集合，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"为了节省带宽和存储空间，\n视频中每个轨道（不同的音频，字幕等等信息）都使用“编解码器”进行编码和解码，\n编码器负责压缩数据，解码器负责解压数据"},{"Type":"NodeText","Data":"，通过他们对视频数据进行压缩和解压\n"}]},{"ID":"20231117191359-l29efm9","Type":"NodeParagraph","Properties":{"id":"20231117191359-l29efm9","updated":"20231117191402"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"常见的视频编解码格式为 H.264，常见的音频编解码格式为 AAC"}]},{"ID":"20231117191408-s6k1i0e","Type":"NodeParagraph","Properties":{"id":"20231117191408-s6k1i0e","updated":"20231117191450"},"Children":[{"Type":"NodeText","Data":"说人话：\n视频的编码器，负责将视频数据进行压缩，以节约空间\n视频的解码器，负责将视频数据进行解压，解压后才能用于播放\n他们本质上就是压缩和解压数据的一种规则，所以我们在播放视频时，要用合适的解码器（规则）来解压视频"}]},{"ID":"20231117191452-3vp6che","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231117191452-3vp6che","updated":"20250311151918"},"Children":[{"Type":"NodeText","Data":"硬件和软件解码"}]},{"ID":"20231117191508-35ziok3","Type":"NodeParagraph","Properties":{"id":"20231117191508-35ziok3","updated":"20250311151918"},"Children":[{"Type":"NodeText","Data":"我们了解了什么是“编解码器”，那所谓的硬件和软件解码其实就是，解码（将视频信息解压）的这个过程是通过硬件来完成的还是通过软件来完成的"}]},{"ID":"20231117191526-mos3wk4","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231117191526-mos3wk4","updated":"20250311151914"},"Children":[{"Type":"NodeText","Data":"硬件解码"}]},{"ID":"20231117191537-5ksi1nz","Type":"NodeParagraph","Properties":{"id":"20231117191537-5ksi1nz","updated":"20250311151914"},"Children":[{"Type":"NodeText","Data":"目前大多数的设备都有专用于解码视频的硬件，一般是由 GPU（图形处理器，显卡的核心硬件）来进行硬件解码的\n使用 GPU 进行硬件解码可以降低 CPU 的工作负荷，降低功耗，节省电量，节省性能\n这种硬件加速可通过本机自定义 API 实现，这些 API 因平台而异\nUnity 帮助我们进行了封装，提供了通用的 API 供我们使用，Unity 也会自己帮助我们判断来进行硬件解码"}]},{"ID":"20231117191602-40lodng","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20231117191602-40lodng","updated":"20231117191606"},"Children":[{"Type":"NodeText","Data":"硬件解码优缺点"}]},{"ID":"20231117191611-n4861nn","Type":"NodeList","ListData":{},"Properties":{"id":"20231117191611-n4861nn","updated":"20231117191623"},"Children":[{"ID":"20231117191623-kayxxe6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231117191623-kayxxe6","updated":"20231117191623"},"Children":[{"ID":"20231117191623-jhnmhdv","Type":"NodeParagraph","Properties":{"id":"20231117191623-jhnmhdv","updated":"20231117191623"},"Children":[{"Type":"NodeText","Data":"优点：效率高，降低功耗\n"}]}]},{"ID":"20231117191624-tkhyriy","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231117191624-tkhyriy"},"Children":[{"ID":"20231117191624-kc3zopa","Type":"NodeParagraph","Properties":{"id":"20231117191624-kc3zopa"},"Children":[{"Type":"NodeText","Data":"缺点：无法支持所有视频格式文件，画质不是特别清晰"}]}]}]},{"ID":"20231117191625-l2y9ew6","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231117191625-l2y9ew6","updated":"20250311151933"},"Children":[{"Type":"NodeText","Data":"软件解码"}]},{"ID":"20231117191634-s34fuhd","Type":"NodeParagraph","Properties":{"id":"20231117191634-s34fuhd","updated":"20250311151931"},"Children":[{"Type":"NodeText","Data":"软件解码相当于就是 Unity 自己利用 CPU 进行计算来进行解码，此软件解码方案使用 VP8 视频编解码器和 Vorbis 音频编解码器\n如果平台的硬件解码方式在分辨率、多个音频轨道或 Alpha 通道支持方面带来了不必要的限制，则软件解码将非常有用\n但是软件解码会增加 CPU 的工作负荷，Unity 也提供了基于软件的视频解码"}]},{"ID":"20231117191655-jnpvtvh","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20231117191655-jnpvtvh","updated":"20250311151933"},"Children":[{"Type":"NodeText","Data":"软件解码优缺点"}]},{"ID":"20231117191706-bhagzp4","Type":"NodeList","ListData":{},"Properties":{"id":"20231117191706-bhagzp4","updated":"20250311151933"},"Children":[{"ID":"20231117191714-pgwtc8e","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231117191714-pgwtc8e","updated":"20231117191714"},"Children":[{"ID":"20231117191714-p99pjqy","Type":"NodeParagraph","Properties":{"id":"20231117191714-p99pjqy","updated":"20231117191714"},"Children":[{"Type":"NodeText","Data":"优点：能够解码所有视频格式文件，画质更加清晰\n"}]}]},{"ID":"20231117191714-feqx2jq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20231117191714-feqx2jq","updated":"20250311151933"},"Children":[{"ID":"20231117191714-vftuucg","Type":"NodeParagraph","Properties":{"id":"20231117191714-vftuucg","updated":"20250311151933"},"Children":[{"Type":"NodeText","Data":"缺点：增加 CPU 工作负荷，更耗电，解码时会造成明显卡顿"}]}]}]},{"ID":"20231117191726-7b44bvh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20231117191726-7b44bvh","updated":"20250311151938"},"Children":[{"Type":"NodeText","Data":"硬件和软件解码简单总结"}]},{"ID":"20231117191734-d072yrt","Type":"NodeParagraph","Properties":{"id":"20231117191734-d072yrt","updated":"20250311151938"},"Children":[{"Type":"NodeText","Data":"硬件解码就是有个专门的一个计算机硬件设备帮助我们进行解码计算，一般是 GPU 来进行硬件解码\n软件解码就是软件自己通过代码规则来进行解码，本质上就是通过 CPU 去计算处理解码\n所以硬件解码理论上来说效率和速度都比软件解码快，Unity 两种方式都有提供，但具体使用的哪种要根据平台而定"}]},{"ID":"20231117191754-otjf9ph","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231117191754-otjf9ph","updated":"20231117191756"},"Children":[{"Type":"NodeText","Data":"总结"}]},{"ID":"20231117191802-z8rmjgt","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20231117191802-z8rmjgt","updated":"20231117191810"},"Children":[{"ID":"20231117191810-bgjp2rs","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20231117191810-bgjp2rs","updated":"20231117191810"},"Children":[{"ID":"20231117191810-u55z6k7","Type":"NodeParagraph","Properties":{"id":"20231117191810-u55z6k7","updated":"20231117191810"},"Children":[{"Type":"NodeText","Data":"视频文件的本质\n"}]},{"ID":"20231117191813-x1elrrb","Type":"NodeParagraph","Properties":{"id":"20231117191813-x1elrrb"},"Children":[{"Type":"NodeText","Data":"记录了视频、音频、字幕、轨道信息等内容的数据容器"}]}]},{"ID":"20231117191810-38p3ngn","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20231117191810-38p3ngn","updated":"20231117191810"},"Children":[{"ID":"20231117191810-lggg0c5","Type":"NodeParagraph","Properties":{"id":"20231117191810-lggg0c5","updated":"20231117191815"},"Children":[{"Type":"NodeText","Data":"视频的编码器和解码器\n"}]},{"ID":"20231117191816-wtakb12","Type":"NodeParagraph","Properties":{"id":"20231117191816-wtakb12"},"Children":[{"Type":"NodeText","Data":"编码器用于压缩视频数据，解码器用于解压视频数据"}]}]},{"ID":"20231117191810-nhdafx0","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20231117191810-nhdafx0","updated":"20231117191810"},"Children":[{"ID":"20231117191810-98tc11a","Type":"NodeParagraph","Properties":{"id":"20231117191810-98tc11a","updated":"20231117191810"},"Children":[{"Type":"NodeText","Data":"硬件和软件解码\n"}]},{"ID":"20231117191817-rk2tb7k","Type":"NodeParagraph","Properties":{"id":"20231117191817-rk2tb7k"},"Children":[{"Type":"NodeText","Data":"硬件解码是通过GPU对视频数据进行解压，效率高效果差\n软件解码是通过CPU对视频数据进行解压，效率低效果好"}]}]}]}]}