{"ID":"20231115221816-zk8xhr3","Spec":"1","Type":"NodeDocument","Properties":{"id":"20231115221816-zk8xhr3","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20231115221816-zk8xhr3\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20231115230257-ovhcn5i\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20231115223646-nnexpbc\u0026quot;,\u0026quot;scrollTop\u0026quot;:1080,\u0026quot;focusId\u0026quot;:\u0026quot;20231115222730-pi9slnk\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:32\u0026#125;","title":"U4S2L1——ScriptableObject 数据文件的创建","type":"doc","updated":"20250311153126"},"Children":[{"ID":"20231115230257-ovhcn5i","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231115230257-ovhcn5i","updated":"20231115230305"},"Children":[{"Type":"NodeText","Data":"本章代码关键字"}]},{"ID":"20231115230305-zi7rmtk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231115230305-zi7rmtk","style":"line-height: 22px;","updated":"20231115230812"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"ScriptableObject                        //数据配置存储基类，自定义的数据资源文件需要继承它\n[CreateAssetMenu()]                     //通过菜单创建资源特性，参数分别是是默认文件名，为在Asset/Create菜单中显示的名字，排序优先级\nScriptableObject.CreateInstance\u003c\u003e()     //创建数据资源文件的方法，泛型参数为要创建的ScriptableObject派生类\nAssetDatabase.CreateAsset()             //传入要保存的资源文件和存储路径，在指定目录下创建文件\nAssetDatabase.SaveAssets()              //将创建的资源文件保存下来\nAssetDatabase.Refresh()                 //刷新Project窗口\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231115223720-9ztln3e","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20231115223720-9ztln3e","updated":"20250311153031"},"Children":[{"Type":"NodeText","Data":"ScriptableObject数据文件的创建"}]},{"ID":"20231115223723-gc9p3sd","Type":"NodeParagraph","Properties":{"id":"20231115223723-gc9p3sd","updated":"20250311152950"},"Children":[{"Type":"NodeText","Data":"创建 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ScriptableObject"},{"Type":"NodeText","Data":"​ 数据类非常简单"}]},{"ID":"20231115223723-45ure9q","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20231115223723-45ure9q","updated":"20250311152955"},"Children":[{"ID":"20231115223723-7u0fze9","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20231115223723-7u0fze9","updated":"20250311152952"},"Children":[{"ID":"20231115223723-iiik5sa","Type":"NodeParagraph","Properties":{"id":"20231115223723-iiik5sa","updated":"20250311152952"},"Children":[{"Type":"NodeText","Data":"继承 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ScriptableObject"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20231115223723-ro93amk","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20231115223723-ro93amk","updated":"20231115223723"},"Children":[{"ID":"20231115223723-sc595df","Type":"NodeParagraph","Properties":{"id":"20231115223723-sc595df","updated":"20231115223723"},"Children":[{"Type":"NodeText","Data":"声明需要的数据变量"}]}]},{"ID":"20231115223723-topyaok","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20231115223723-topyaok","updated":"20250311152955"},"Children":[{"ID":"20231115223723-ctlg93a","Type":"NodeParagraph","Properties":{"id":"20231115223723-ctlg93a","updated":"20250311152955"},"Children":[{"Type":"NodeText","Data":"添加对应的特性，让我们可以在 Unity 中真正的创建出数据资源文件"}]}]}]},{"ID":"20231115221816-b6v6342","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231115221816-b6v6342","updated":"20250311153031"},"Children":[{"Type":"NodeText","Data":"自定义ScriptableObject数据容器"}]},{"ID":"20231115222227-2nqi037","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20231115222227-2nqi037","updated":"20250311152957"},"Children":[{"ID":"20231115222231-lnoekco","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20231115222231-lnoekco","updated":"20250311152957"},"Children":[{"ID":"20231115222231-ehcnc2g","Type":"NodeParagraph","Properties":{"id":"20231115222231-ehcnc2g","updated":"20250311152957"},"Children":[{"Type":"NodeText","Data":"继承 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ScriptableObject"},{"Type":"NodeText","Data":"​ 类"}]}]},{"ID":"20231115222231-bs6zbeb","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20231115222231-bs6zbeb","updated":"20231115222231"},"Children":[{"ID":"20231115222231-peo3rzv","Type":"NodeParagraph","Properties":{"id":"20231115222231-peo3rzv","updated":"20231115222231"},"Children":[{"Type":"NodeText","Data":"在该类中声明成员（变量、方法等）"}]}]}]},{"ID":"20231115222736-k74tfvm","Type":"NodeParagraph","Properties":{"id":"20231115222736-k74tfvm","updated":"20250311153003"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"我们可以声明任何类型的成员变量"},{"Type":"NodeText","Data":"\n但是需要注意：如果希望之后在 Inspector 窗口中能够编辑它，那你在这里声明的变量规则要和 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20230708153047-of5j8oo","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"MonoBehavior当中public变量的规则"},{"Type":"NodeText","Data":" 是一样的"}]},{"ID":"20231115223058-3bmvep3","Type":"NodeSuperBlock","Properties":{"id":"20231115223058-3bmvep3","updated":"20231115223109"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20231115222739-1hcnvfg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231115222739-1hcnvfg","style":"line-height: 22px;","updated":"20231115223109"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"using UnityEngine;\nusing UnityEngine.Video;\n\npublic class MyData : ScriptableObject\n{\n    public int i;\n    public float f;\n    public bool b;\n\n    public GameObject obj;\n    public Material material;\n    public AudioClip audioClip;\n    public VideoClip videoClip;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231115223056-qpdg5j4","Type":"NodeParagraph","Properties":{"id":"20231115223056-qpdg5j4","updated":"20231115223059"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231115223056-3o4b725.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20231115222227-1k83iwy","Type":"NodeBlockquote","Properties":{"id":"20231115222227-1k83iwy","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color); --b3-parent-background: var(--b3-card-warning-background);","updated":"20250311153031"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20250311153016-h2olgbp","Type":"NodeParagraph","Properties":{"id":"20250311153016-h2olgbp","updated":"20250311153031"},"Children":[{"Type":"NodeText","Data":"注意：声明后，我们便可以在 Inspector 窗口中看到变化\n我们可以在其中进行设置，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"但是这些设置都是默认数据，并没有真正使用他们"},{"Type":"NodeText","Data":"\n这些关联信息都是通过脚本文件对应的 Unity 配置文件 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".meta"},{"Type":"NodeText","Data":"​ 进行记录的\n目前该数据"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"只是一个数据容器模板，有了它我们之后才能根据它的信息创建对应的数据资源文件"}]}]},{"ID":"20231115222730-pi9slnk","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231115222730-pi9slnk","name":"[CreateAssetMenu()]","updated":"20250311153111"},"Children":[{"Type":"NodeText","Data":"根据自定义的 ScriptableObject 数据容器创建数据文件"}]},{"ID":"20231115223454-zxn2coe","Type":"NodeBlockquote","Properties":{"id":"20231115223454-zxn2coe","style":"background-color: var(--b3-card-warning-background); color: var(--b3-card-warning-color); --b3-parent-background: var(--b3-card-warning-background);","updated":"20250311153041"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20250311153041-bqanhux","Type":"NodeParagraph","Properties":{"id":"20250311153041-bqanhux","updated":"20250311153056"},"Children":[{"Type":"NodeText","Data":"注意：这个所谓的创建功能，其实就是"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"根据自定义数据容器类创建了一个配置文件"},{"Type":"NodeText","Data":"\n该文件中"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"记录了对应的数据容器类信息，以及其中变量关联的信息"},{"Type":"NodeText","Data":"，之后我们在使用它时，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"本质上也是通过反射创建对象进行使用"}]}]},{"ID":"20231115223523-daq0b96","Type":"NodeParagraph","Properties":{"id":"20231115223523-daq0b96","updated":"20231115223523"},"Children":[{"Type":"NodeText","Data":"具体的方法有两种："}]},{"ID":"20231115223454-itdif8l","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20231115223454-itdif8l","updated":"20250311153111"},"Children":[{"ID":"20231115223523-vlu5086","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20231115223523-vlu5086","updated":"20250311153105"},"Children":[{"ID":"20231115223523-emnnvj7","Type":"NodeParagraph","Properties":{"id":"20231115223523-emnnvj7","updated":"20250311153039"},"Children":[{"Type":"NodeText","Data":"为类添加 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[CreateAssetMenu()]"},{"Type":"NodeText","Data":"​ 通过菜单创建资源特性"}]},{"ID":"20231115223538-s84y1nr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231115223538-s84y1nr","style":"line-height: 22px;","updated":"20231115224048"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"[CreateAssetMenu(fileName = \"默认生成的文件名\",\n                 menuName = \"在Asset/Create菜单中显示的名字\",\n                 order = 在Asset/Create菜单中的位置(有多个添加这种特性的类时可以通过它来调整顺序))]\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231115224059-ifnwseg","Type":"NodeParagraph","Properties":{"id":"20231115224059-ifnwseg","updated":"20231115224103"},"Children":[{"Type":"NodeText","Data":"示例："}]},{"ID":"20231115224200-5jmom22","Type":"NodeSuperBlock","Properties":{"id":"20231115224200-5jmom22"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20231115224103-wm3okc2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231115224103-wm3okc2","style":"line-height: 22px;","updated":"20231115224232"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"using UnityEngine;\nusing UnityEngine.Video;\n\n[CreateAssetMenu(fileName = \"MyScriptableObjectData\",\n                 menuName = \"ScriptableObject/我的数据\",\n                 order = 0)]\npublic class MyData : ScriptableObject\n{\n    public int i;\n    public float f;\n    public bool b;\n\n    public GameObject obj;\n    public Material material;\n    public AudioClip audioClip;\n    public VideoClip videoClip;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231115224158-vosmceu","Type":"NodeParagraph","Properties":{"id":"20231115224158-vosmceu","updated":"20231115224248"},"Children":[{"Type":"NodeText","Data":"​​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 441px;","style":"width: 431px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231115224248-6q74gsl.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 431px;\" parent-style=\"width: 441px;\"}"},{"Type":"NodeText","Data":"​​"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20231115224427-8opr3cw","Type":"NodeSuperBlock","Properties":{"id":"20231115224427-8opr3cw","updated":"20250311153105"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20231115224409-vgfi68n","Type":"NodeParagraph","Properties":{"id":"20231115224409-vgfi68n","updated":"20250311153105"},"Children":[{"Type":"NodeText","Data":"点击后就会自动创建数据文件，它基于之前编辑的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"MyData"},{"Type":"NodeText","Data":"​ 脚本"}]},{"ID":"20231115224423-gxpzida","Type":"NodeParagraph","Properties":{"id":"20231115224423-gxpzida","updated":"20231115224602"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 440px;","style":"width: 430px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231115224602-etrjmve.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 430px;\" parent-style=\"width: 440px;\"}"},{"Type":"NodeText","Data":"​​"}]},{"Type":"NodeSuperBlockCloseMarker"}]}]},{"ID":"20231115223523-szohr1f","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20231115223523-szohr1f","name":"ScriptableObject.CreateInstance\u0026lt;\u0026gt;()","updated":"20250311153111"},"Children":[{"ID":"20231115223523-v1l1dpb","Type":"NodeParagraph","Properties":{"id":"20231115223523-v1l1dpb","updated":"20250311153109"},"Children":[{"Type":"NodeText","Data":"利用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ScriptableObject"},{"Type":"NodeText","Data":"​ 的静态方法创建数据对象，然后将数据对象保存在工程目录下"}]},{"ID":"20231115224915-sxq9gzm","Type":"NodeParagraph","Properties":{"id":"20231115224915-sxq9gzm","updated":"20250311153111"},"Children":[{"Type":"NodeText","Data":"该方法会用到特性 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20231109210152-ycbecbv","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"MenuItem()"},{"Type":"NodeText","Data":"​，和一部分编辑器的知识"}]},{"ID":"20231115225437-atya0g7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20231115225437-atya0g7","style":"line-height: 22px;","updated":"20231115225727"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"using UnityEditor;\nusing UnityEngine;\n\npublic class ScriptableObjectTool\n{\n    [MenuItem(\"ScriptableObject/CreateMyData\")]\n    public static void CreateMyData()\n    {\n        //书写创建数据资源文件的代码\n        MyData asset = ScriptableObject.CreateInstance\u003cMyData\u003e();\n        //通过编辑器API 根据数据创建一个数据资源文件\n        AssetDatabase.CreateAsset(asset, \"Assets/Resources/MyDataTest.asset\");\n        //保存创建的资源\n        AssetDatabase.SaveAssets();\n        //刷新界面\n        AssetDatabase.Refresh();\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20231115225647-mwcatvi","Type":"NodeParagraph","Properties":{"id":"20231115225647-mwcatvi","updated":"20231115225811"},"Children":[{"Type":"NodeText","Data":"以上代码就会在工具栏生成对应的选项，点击后生成配置文件，不同的配置文件数据不互通"}]},{"ID":"20231115225802-kptu3xo","Type":"NodeParagraph","Properties":{"id":"20231115225802-kptu3xo","updated":"20231115225900"},"Children":[{"Type":"NodeText","Data":"​​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231115225900-15gz7i3.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 401px;","style":"width: 391px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231115225700-gk8x5yp.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 391px;\" parent-style=\"width: 401px;\"}"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20231115223629-6e7j11b","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20231115223629-6e7j11b","updated":"20250311153126"},"Children":[{"Type":"NodeText","Data":"ScriptableObject 好处的体现"}]},{"ID":"20231115223644-xzw4yrt","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20231115223644-xzw4yrt","updated":"20250311153124"},"Children":[{"ID":"20231115223645-tx69mfu","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20231115223645-tx69mfu","updated":"20250311153117"},"Children":[{"ID":"20231115223645-szmehgd","Type":"NodeParagraph","Properties":{"id":"20231115223645-szmehgd","updated":"20250311153117"},"Children":[{"Type":"NodeText","Data":"更方便的配置数据，我们可以直接在 Inspector 当中配置数据"}]}]},{"ID":"20231115223645-8db68n9","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20231115223645-8db68n9","updated":"20250311153124"},"Children":[{"ID":"20231115223645-xqikpo6","Type":"NodeParagraph","Properties":{"id":"20231115223645-xqikpo6","updated":"20250311153124"},"Children":[{"Type":"NodeText","Data":"项目之间的复用，我们可以拷贝继承 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ScriptableObject"},{"Type":"NodeText","Data":"​ 的脚本到任何工程中"}]}]}]},{"ID":"20231115223646-nnexpbc","Type":"NodeParagraph","Properties":{"id":"20231115223646-nnexpbc"}}]}